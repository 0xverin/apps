"use strict";(("undefined"!=typeof self?self:this).webpackChunk_polkadot_apps=("undefined"!=typeof self?self:this).webpackChunk_polkadot_apps||[]).push([[8484],{66425:(e,n,t)=>{t.d(n,{d:()=>de,Z:()=>he});var r,a,s=t(52322),o=t(2784),i=t(24732),l=t(88909),c=t(69316),u=t(37198),d=t(5469),h=function(){return h=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},h.apply(this,arguments)},p={available:!0,bonded:!0,free:!0,locked:!0,reserved:!0,total:!0},m=i.zo.section(v||(r=["\n  .balanceExpander {\n    justify-content: flex-start;\n\n    .column {\n      width: auto;\n      max-width: 18.57rem;\n\n      label {\n        text-align: left;\n        color: inherit;\n      }\n\n      .ui--Expander-content .ui--FormatBalance-value {\n        font-size: var(--font-size-small);\n      }\n    }\n  }\n"],a=["\n  .balanceExpander {\n    justify-content: flex-start;\n\n    .column {\n      width: auto;\n      max-width: 18.57rem;\n\n      label {\n        text-align: left;\n        color: inherit;\n      }\n\n      .ui--Expander-content .ui--FormatBalance-value {\n        font-size: var(--font-size-small);\n      }\n    }\n  }\n"],Object.defineProperty?Object.defineProperty(r,"raw",{value:a}):r.raw=a,v=r));const f=o.memo((function(e){var n=e.address,t=e.className,r=(0,d.$)().t;return(0,s.jsxs)(m,h({className:t},{children:[(0,s.jsx)("div",h({className:"ui--AddressMenu-sectionHeader"},{children:r("balance")})),(0,s.jsx)(i.hl,{address:n,className:"balanceExpander",withBalance:p,withLabel:!0},n)]}))}));var v,g=t(90778),x=t(71984),b=t(38894),y=t(19008),j=t(74076),w=t(48783),C=t(1632),k=function(){return k=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},k.apply(this,arguments)};const N=o.memo((function(e){var n=e.judgement,t=n.judgementName,r=n.registrars,a=(0,o.useMemo)((function(){return(0,C.v8)(t)}),[t]);return(0,s.jsx)(i.GI,k({closeOnScroll:!0,position:"middle",value:(0,s.jsx)(i.v2,{children:r.map((function(e){return e&&(0,s.jsx)(i.N,{value:e.address},e.address)}))})},{children:(0,s.jsx)(i.Vp,{color:a,label:"".concat(r.length," ").concat(t),size:"tiny"})}))}));var O=function(){return O=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},O.apply(this,arguments)},A=i.zo.div(P||(P=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  margin-top: 0.714rem;\n\n  &:not(.no-judgements) {\n    .ui--Tag:hover {\n      cursor: pointer;\n    }\n  }\n"],["\n  margin-top: 0.714rem;\n\n  &:not(.no-judgements) {\n    .ui--Tag:hover {\n      cursor: pointer;\n    }\n  }\n"])));const S=o.memo((function(e){var n=e.address,t=e.className,r=void 0===t?"":t,a=(0,d.$)().t,o=(0,w.Z)(n);return 0===o.length?(0,s.jsx)("div",O({className:"".concat(r," no-judgements"),"data-testid":"judgements"},{children:(0,s.jsx)(i.Vp,{color:"yellow",label:a("No judgements"),size:"tiny"},"NoJudgements")})):(0,s.jsx)(A,O({className:r,"data-testid":"judgements"},{children:o.map((function(e){return(0,s.jsx)(N,{judgement:e},"".concat(n).concat(e.judgementName))}))}))}));var P,I=t(9118),E=function(){return E=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},E.apply(this,arguments)},M=[{text:"Unknown",value:0},{text:"Fee paid",value:1},{text:"Reasonable",value:2},{text:"Known good",value:3},{text:"Out of date",value:4},{text:"Low quality",value:5}],T={transform:function(e){return e.isSome?e.unwrap().info.hash.toHex():null}};const z=o.memo((function(e){var n=e.address,t=e.registrars,r=e.toggleJudgement,a=(0,d.$)().t,l=(0,g.h)().api,c=(0,I.W7)(l.query.identity.identityOf,[n],T),u=(0,o.useState)((function(){return t.map((function(e){return e.address}))}))[0],h=(0,o.useState)(null),p=h[0],m=h[1],f=(0,o.useState)(2),v=f[0],x=f[1],b=(0,o.useState)(-1),y=b[0],j=b[1];return(0,o.useEffect)((function(){var e=t.find((function(e){var n=e.address;return p===n}));j(e?e.index:-1)}),[p,t]),(0,s.jsxs)(i.u_,E({header:a("Provide judgement"),onClose:r,size:"small"},{children:[(0,s.jsxs)(i.u_.Content,{children:[(0,s.jsx)(i.rp,{filter:u,label:a("registrar account"),onChange:m,type:"account"}),(0,s.jsx)(i.II,{isDisabled:!0,label:a("registrar index"),value:-1===y?a("invalid/unknown registrar account"):y.toString()}),(0,s.jsx)(i.Lt,{label:a("judgement"),onChange:x,options:M,value:v}),c?(0,s.jsx)(i.II,{defaultValue:c,isDisabled:!0,label:a("identity hash")}):null===c?(0,s.jsx)(i.oy,{content:a("No identity associated with account")}):(0,s.jsx)(i.$j,{noLabel:!0})]}),(0,s.jsx)(i.u_.Actions,{children:(0,s.jsx)(i.cA,{accountId:p,icon:"check",isDisabled:!c||-1===y,label:a("Judge"),onStart:r,params:4===l.tx.identity.provideJudgement.meta.args.length?[y,n,v,c]:[y,n,v],tx:l.tx.identity.provideJudgement})})]}))}));var D=function(){return D=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},D.apply(this,arguments)};const F=o.memo((function(){return(0,s.jsxs)("svg",D({fill:"none",height:"40",viewBox:"0 0 40 40",width:"40",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},{children:[(0,s.jsx)("circle",{cx:"20",cy:"20",fill:"url(#pattern0)",r:"20"}),(0,s.jsxs)("defs",{children:[(0,s.jsx)("pattern",D({height:"1",id:"pattern0",patternContentUnits:"objectBoundingBox",width:"1"},{children:(0,s.jsx)("use",{transform:"scale(0.00277778)",xlinkHref:"#image0"})})),(0,s.jsx)("image",{height:"360",id:"image0",width:"360",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAAFoCAYAAAB65WHVAAAeFElEQVR4Ae2d6VrbyrZFz/u/RmhCsyE0aSD0bQhdCJAACXH2k9T5pu9VjmJkW7K6VVrjB5/B2JZVa9So6bJU+s+///4b+KENYAAGYMAeA/+hKPaKQk2oCQzAgBhA0HyC4BMUDMCAUQYQtNHCkKBIUDAAAwgaQZOeYAAGjDKAoI0WhvREeoIBGEDQCJr0BAMwYJQBBG20MKQn0hMMwACCRtCkJxiAAaMMIGijhSE9kZ5gAAYQNIImPcEADBhlAEEbLQzpifQEAzCAoBE06QkGYMAoAwjaaGFIT6QnGIABBI2gSU8wAANGGUDQRgtDeiI9wQAMIGgETXqCARgwygCCNloY0hPpCQZgAEEjaNITDMCAUQYQtNHCkJ5ITzAAAwgaQZOeYAAGjDKAoI0WhvREeoIBGEDQCJr0BAMwYJQBBG20MKQn0hMMwACCRtCkJxiAAaMMIGijhSE9kZ5gAAYQNIImPcEADBhlAEEbLQzpifQEAzCAoBE06QkGYMAoAwjaaGFIT6QnGIABBI2gSU8wAANGGUDQRgtDeiI9wQAMIGgETXqCARgwygCCNloY0hPpCQZgAEEjaNITDMCAUQYQtNHCkJ5ITzAAAwgaQZOeYAAGjDKAoI0WhvREeoIBGEDQCJr0BAMwYJQBBG20MKQn0hMMwACCRtCkJxiAAaMMIGijhSE9kZ5gAAYQNIImPcEADBhlAEEbLQzpifQEAzCAoBE06QkGYMAoAwjaaGFIT6QnGIABBI2gSU8wAANGGUDQRgtDeiI9wQAMIGgETXqCARgwygCCNloY0hPpCQZgAEEjaNITDMCAUQYQtNHCkJ5ITzAAAwgaQUeVnn7//h0eHx/Dzc1NuLi4CKenp+Ho6CgcHByE/f39/o9+1336nx6jxz48PAQ9F+khvZgYQNAI2qy0fv78Ga6urvrSfffuXVhYWAivXr0q9aPX0GtJ5nptbSOmDst79TXAIGgEbUZQvV4vXF9fh52dnbC4uFhKxEVErm1pm9q23gMS9CVBy/VG0Ai6VSFp2kFJdmNjI8zMzDQm5WEC13vQe9F7YkoEUbctbwSNoFsRtOaR9/b2wtzcXOtSHiZrvTe9R73Xtjsq2/c5WCBoBN2ofO7u7sL79+/D1NSUWTFnCVvvWe8dUfoUZVt1R9AIuhHp3N/fh7dv30Yl5SxRax+0L211WLbra4BA0Ai6Vtk8PT3153SzZBfzfZqn1r4hTF/CbLreCBpB1yIZfcF2eHgYpqeno0/NwwYS7Zv2kS8TkXRd4kbQCLpyQWuudmlpqbNiHhS29pX5aSRdh6QRNIKuTNBJao7tC8BB4U7yt/aZNI2kq5Y0gkbQlQj6x48fYW1tzU1qHiZxtYHaouqOyuv5lD+CRtClZXJ7e2v6eOZhMq3rfh0/rTZBqj6lWmXdETSCLiWS8/Pz6I5prkvM6dfVlIfapsrOymv5Ez6CRtATS0QrxqWlxO8vF3JSGyFWf2KtquYIGkFPJBCdAo2QXwo5q03UVlV1WF7Hl+wRNIIuLA+t/JYlIu4bLmy1GXL1Jdcq6o2gEXQhcZCch0t43ABFkkbQRaWNoBF0bkEfHx+TnEteMEBtWLST8ni/YkfQCDqXMHTpqHEJkf/nS9dqS6TrV7pFao+gEfRYWeg05i6vqdH0wKK25NRwBJ1H1AgaQY8UtK7ZNz8/T3ouObUxOAioTbkeIpIeJ2kEjaBHCnp9fR05VyznRNZq23EdlP/7ljiCRtBDJXFycoKca5JzImm1MRL2LeFR9UfQCDpTEN++feMU7prlLEnrlHC19ahOyv/8ChxBI+hMObx584b03ICgJWm1NRL2K+FRtUfQCPqFHJjayHe4XDJNUcUtUx0IOkvUCBpB/yVoHVkwOztLem4oPSdyV5tzVAeSHpQ0gkbQfwl6a2sLOTcs50TSavvBDsrfvqWNoBH0Hyk8PDzwxWBLcpak9YWhaoCUfUs5XX8EjaD/CGFjY4P03KKgJWnVIN1B+d23rBE0gu4LQckt+ajNbfNfEqbbnBTtW8rpQRlBI+i+oJl7blfKaUEzF42gE0kjaATdP3qAxZDsCFq14IgOJC1JI2gEHVjn2Y6ckyTNutEIGkEj5/70xuLiIvPPLX85mIg5uVVNko+53PqVNQnauaRvb2+RszE5J5JWbZCzXzmToJ3LWQBwAVh70xuJoHd3dxG08z5KgnYOwNzcHAnaaIJWbUjQJGggcCrp+/t75GxUzkmKVo2QtF9Jk6Cdylmd/vDwEEEbF/TR0RGCdtxHEbTj4q+trSFo44JWjUjQJGggcCbq379/c6Vu43LWNIdOWlGtkLRPSZOgnYk56eh3d3ek5wgELUmrVknduPUlagTtVNCnp6cIOhJBq1aI2ZeYk3ojaKeCZnEku8c/J0dwJLfb29sI2mk/RdBOC7+6ukqCjiRBq1ZJouLWV5JG0E4FzQkq8SRoTljxJeX0IIygHQq61+uRniNJz8k0h2qW7rj87kPaCNqhoLl6SjzpORE0V1nxIeTBgRdBOxQ0K9jFJ2gOtUPQfIRyIuvr62umOCKb4lDNBtMVf3df2iRoJ1JOd+bz83MEHZmgLy4uELTDvoqgHRb98+fPCDoyQatm6UGW37ufnlVjBO1Q0GdnZwgaQSP8CPo+go6gSFWnJRJ0fF8SkqB9JObBvo6gETRpOoI0jaARNB95nMhaXzglx9dyG0eavry8pH866Z/pFE2Cdlj0L1++IOgIUnN68FTN0h2X330kagTtUNCsBR1Hak4LmmsT+hDy4MCLoB0K+unpiQQdWYJWzQY7L393X9oI2qGgdQmlqakpJB2JpFUrLnvVfRlnDbgI2qGgBcLCwgKCjkTQqlVW5+W+7ksbQTsV9Pr6OoKORNCqFTLuvoyzaoygnQp6d3cXQUciaNUqq/NyX/eljaCdCpqzCeM5koOTVLov4mGDLYJ2KmgW7Y9H0CzWj6D5COVQ1K9fv2aaw/g0h2o0LF1xf/fFTYJ2KOakY7979w5BGxe0apTUi9vuC3mwxgjasaA/ffqEoI0LWjUa7LT87UfUCNqxoB8fHxG0cUFzBqEfGWcNvAjasaAFxNLSEpI2Kunl5WXSs/P+iaCdA3B0dISgjQpatclKVdznJ1UjaOeCZprD7uF2qg0y9iPjrFojaOeCFhSrq6ukaGMpem1tDTnTN7lobNao5e2+8/NzBG1M0KqJNw7Z35efFkjQjNKh1+uFubk5JG1E0qoFy4u+lJVHgSNoBN1PaoeHhwjaiKBVC48yYp9fDkoIGkH3ZfD8/BxmZmaQdMuSVg1UC2T1UlYe2wRBI+g/Mtjf30fQLQv64ODgTz08Col9/ntgQtAI+o8QlNxmZ2eRdEuSVtuTnv8WlHdhI2gE/UfQ6gzHx8cIuiVBq+29C4n9/3uAQtAI+i8p6OiBxcVFJN2wpNXmHLnxt5yQ9b8cBw0ELzvFly9fEHTDglabw+JLFr23CQmaBJ0phs3NTSTdkKTV1t5FxP5nD04IGkFnyuHnz5+cvNKAoHVSitoaQWULynu7IGgEPVQOTHXUv5DSzc3N0Pb3Lif2nzloOseYAWpvb4+pjpqStNoWCZGcRzFAgh4jqFGN5+F/OrJAK6u9qklSXl9XbcpRG8h5nEMQNIIem+I0R7qwsICkKxqk1JbMOyPncXLW/xE0gh4raIHy/ft3zjKsQNA6W1Btmadz8hgkjqARdG5Z6Aut6elpkvSEolbb8aUg0i0y8CJoBJ1b0ALr6uoqTE1NIemCklabqe2KdE4ei8wRNIIuLI3Ly0skXUDQkrPaDOEi3KIMIGgEPZE4lAaZ7hh/nLTaiOSMmIuKOXk8gkbQEwlaAH39+pUvDkckaX0hqDZKOhu3iLooAwgaQZcSiI5I4BC8l0labcLRGgi5qJAHH4+gEXQpQQsoLTK/vr7OF4f/n6bVFiy8j5wHZTvJ3wgaQZcWtMDTWXG6XJPXMwOT/dZlwzhDEDlPIuOs5yBoBF2JoBO4bm9vXU55aEqD+WbEnPSDqm4RNIKuVNAC89evX2F7e9tNmta+ap+r6pS8DqJPGEDQCLo2sShNLy8vd1bU2jftY9KZuEWsVTOAoBF07YL59OlTpxb/1yL72qeqOyOvh+AHGUDQCLoR0fR6vf4Vw1+/fh1totZ715W3tS+DHYm/kWsdDCBoBN2obCS309PTqK4critu6z0jZiRch4RHvSaCRtCNCjoNoy6p9f79e5Premj9DL03rraNlNPMNv07gkbQrQk6gV0ndZydnfVPdmlzpTxtWyeZ6L1wogliTvhs8xZBI+jWBZ3uADpcTYsLbW1thaWlpdrnq7UNbUvb5FA5pJxm0cLvCBpBmxL0YKdQktUi9ycnJ+Hjx49hdXU1zM/PFxa3nqPn6jX0WnpNUjJCHuTN2t8IGkGbFvSoDqPr+mlBoru7u75wJd3kR/fpf1z7DwmPYsj6/xA0go5W0NY7F++PwaEsAwgaQSNoGIABowwgaKOFKTvy8nzSGwzEzwCCRtCkJxiAAaMMIGijhSH9xJ9+qCE1LMsAgkbQpCcYgAGjDCBoo4UpO/LyfNIbDMTPAIJG0KQnGIABowwgaKOFIf3En36oITUsywCCRtCkJxiAAaMMIGijhSk78vJ80hsMxM8AgkbQpCcYgAGjDCBoo4Uh/cSffqghNSzLAIJG0KQnGIABowwgaKOFKTvy8nzSGwzEzwCCRtCkJxiAAaMMIGijhSH9xJ9+qCE1LMsAgkbQpCcYgAGjDCBoo4UpO/LyfNIbDMTPAIJG0KQnGIABowwgaKOFIf3En36oITUsywCCRtCkJxiAAaMMIGijhSk78vJ80hsMxM8AgkbQpCcYgAGjDCBoo4Uh/cSffqghNSzLAIJG0KQnGIABowwgaKOFKTvy8nzSGwzEzwCCRtCkJxiAAaMMIGijhSH9xJ9+qCE1LMsAgkbQpCcYgAGjDCBoo4UpO/LyfNIbDMTPAIJG0KQnGIABowwgaKOFIf0UTz+/f/8O+qHtircdbWazzRA0gjYltF6vF75//x5ubm7C+fl5ODo6Cru7u2FzczO8ffs2rKyshH/++ScsLCyE2dnZMDU1FV69epX5o//pMXqsnqPn6jX0WnpNvba2oW1pm9o2orIpKq91QdAIunEpPT8/h9vb2/D58+ewv78fPnz4EN68eRPm5uYyRTtMwHXcr/eg96L3pPem96j3qvfsVRLsd3uDFoJG0LWJR4lUcvv06VPY2dkJa2trJiQ8qdglb+2D9kX7pH0jdbcnLw8DB4JG0JUIOpHxyclJ2NjY6E8pTCrC2J6n6RPts/YdaSPsKgcOBI2gJxL009NTuLi4CNvb2/0pgVFzwbEJt+z7VVtomkRtozZSW1XZaXktP4MAgkbQueTx+PgYzs7O+l+w6Uu3shLz9ny1mb6cVBuqLZGsH8mWqTWCRtCZstCXYpeXl2FrayssLi4i5CFHikw60KhN1bZqY76ARNbDJI6gEfQfQd/f3/cPPVtdXR15+NqkUuJ5ww8HVJvrsD/VYFhn5X5/IkfQjgWtkzp0DLDmSufn50nJFafkSQck1UI1+fLlCyfeOO6fGpARtDMAJOXr6+v+UQc6iWNSifC87DRcdbuoRjpCRDXjLEkSNB+vOihsdWylsY8fP/bPrKtaIrxec7JWDUnWfkRNgu6gkJO5ym/fvvVPabZwhh4Sr1biqqlOV1eNk3pz2z1xI+iOCfrXr1/h9PQ0LC8vM31hZE657sFJtVbNVXsk3S1JI+iOCPru7q4/hTE9PY2YnYh5UPyqvaZAxAKi7oaoEXTEgtbcshbz0Vlrg52Vv6udUoitPcWE2OCLxbhFjaAjFPTPnz/DwcFB1AsPxSa8WN+v5qrFipghVccnawQdkaC1poNWUmMaw3c6nmSwEDNih3VB4pI0go5A0A8PD/11HFiQCDFPIuf0c8SQ1gQRUyRq+7JG0IYFrbSjL30QM2JOS7aK38WU2CJR25Y0gjYoaM0X6lRfxIyYq5DxqNcQY2KNOWqbokbQhgStRe+1YM7MzAxHZTg9VG6UTOv8n5gTe1whxpaoEbQRQWthd9ZZJjHXKeE8ry0GxSLz0zZEjaBbFrS+rNGVpvN0Hh6DwJtiYH19nS8SW3aDBkkE3VIRdALB4eEhh8wxlWF2cNaheWKUk13aS9MIugVBa4Eb1sogDTeVhstuR6yyKFM7kkbQDQv6+PiY1ExqNpuah8lcaVrsMjfdrKgRdEOC/vHjR1hbW4uuYw7rsNzv8xOAGBbLiLoZUSPoBgT99etX1s0gNXdmcNb6HmIaSdcvaQRds6BPTk444QQ5d0bOyScnneAitpF0vZJG0DUJWt98b21tda5jJh2UW59THIN1F+Mc5VGfpBF0DYJ+fn4OOo50EGb+RmpdZECsi3nSdPWiRtAVC1qgsoA+Iu6iiEftk5hH0gja9CitBWeWlpZIzsw5u2RA7LPoUrWSJkFXlKCVHpAzyXlUyvTwP/UBknR1kkbQFQhaK4CtrKy4TE0epMM+Fht41RdYFa8aSSPokoLWN9jv379HzkxrwECKAfUJju4oL2kEXVLQe3t7dMxUxyRtFkubXW4v9Q2O7CgnaQRdQtBXV1fIGTnDwAgG1EeQ9OSSRtATCvrx8THMzs7SOUd0zi6nQ/Yt3ycF9RH1FSQ9maQR9ISC5kSUfB0UkdFO6isIGkE3BsH5+TnJmeQMAwUYUJ9B0sUlTYIumKB1jOfr16/pnAU6JymaFK0+w/HRCLr2UXp3dxc5I2cYmIAB9R1SdDFJk6ALJGidxqorS5AISYQwUJwB9R1OBUfQtY3S+/v7yHmC5ITMisusq22mPkSKzi9pEnTOBK2zonQlia52HPYLiTbBgPoQZxgi6MpH6cvLS+RMeoaBChhQXyJF55M0CTpngv7w4QOds4LO2URKYxu2Pw2oLyFoBF0ZBPpIxlmDtjs9Uo6nPupLTHMg6MoEfXd3R3omPcNAhQyoT5Gix0uaKY4cUxy6ejEJLZ6ERq3s14orgo+XswYwBJ1D0B8/fkTQFaYnBGpfoHXXSH2KBD1e0gg6h6BXV1cRNIKGgQoZUJ9C0Ai6EggWFxfpnBV2zrrTGa9vP6GrTyFoBF0JBBsbGwgaQcNAhQxwqN14OTMHnWN6Q42k9QNYwc5+KiM5x1Ej9SXW5EDQlaTn5GPYxcUFCarCBIVM45BpHXVSX0r6FbejRc2XhDlTtEBiqsOvVOoQlcfXVB9CyqOlnG4fBF1A0FpwfH5+niRNkoaBCRhQ32HR/vxylqgRdAFBq8Fubm7onBN0To9pkX3++xOX+k46HfL7eFkj6IKCFlSsC/13x0NEtMc4BlgHeryMswYsBD2BoLXQy8rKCkmaJA0DORhQX2FxJATd6Menp6cnDr3L0TnHJSv+3+30rUPq1Fey0iH3jZc2CXqCBJ2AxXx0t+XC4FG+vsw7j5dw4pOsWwRdQtBq0KOjIz7mkqRhIIMB9Y0s6XBffmkj6JKCFmxcbaV80iKtdqsNOZU7v4RHDVgIugJB93q9sLy8TIrKSFGIt1vizVNP9QX1iVHi4X/5BI6gKxC0YNMXIVz125+M8gjL02PUB/hSMJ988wxSCLoiQaux7+/vw8zMDEmaJO2SAbGvPpBHPDwmn8QRdIWCFnTX19cuO6enlMi+Zn9SEvuIN59487YTgq5Y0Gr4s7MzJE2KdsWAmM8rHR6XX+IIugZBC8DDw0NXHZRUmZ0qPbSLWEe6+aVbpK0QdE2CVhH29vaQNEm60wyI8SLC4bHFRI6gaxS0YNza2up0B/WQENnH7E8HYhvhFhNu0fZC0DULGklnd26kF3e7IOd6xZyIHEE3IGg19ubmJkma6Y5OMCCWE4FwW6+oEXRDgtZyi0x3xJ0aSf2v+gyzdGi9Uk4Pegi6IUEnjb6zs9OJFIWs/A02YjfhmNtmJI2gGxa0wOaKLP7kFvuAxhVRmhHy4MCHoFsQtIpwcnJCkmZOOgoGxOqgOPi7GWEj6JYELcAvLi7C1NRUFJ009gTI+y/+qUVsilFk3IyMs9oZQbcoaBXk69evYXZ2FkmTpk0xICbFZpY0uK85YSPolgUt2B8eHsLi4qKpDkriLJ44u9JmYlFMIuLmRDysrRG0AUGrOM/Pz2FtbQ1Jk6RbZUAMisVhwuD+ZqWNoI0IWuDr+FIOw/ObXNtO4GKPY5ybFfC4AQ9BGxJ0Uqzz8/MwPT3dapJqWxZsv7mBSqyJuYQ/bu1IGkEbFLQ6yLdv35iXZrqj9kFa881iDSnbkXK6FgjaqKBVpF+/fnHFcCRdm6R15W0xlhYCv9sSNYI2LOiks+hqFVzrsLmP/F2fXhFLXAHFloiTvj54i6AjELSKpsOe3rx5U1ua6rqU2L//G+DEEIfQxSFn9XsEHYmgVSx9w67LC3H2IWm66IAjZsQOR2nEI2cEHZGcVazk5/v376Rp5qZzf5pSahYzCT/c/q8vWW8LEnRKfNaLlX5/SkLHx8ccjoeoh4pah8+JEVJzPEJO93H9jqAjFXRSSM0nrq+vD+2kRT8K8/huTJ+ICeaa4xVz0r8RdOSCTgp5eXkZFhYWELXzRC0GxELCBbdxSxpBd0TQ6oi9Xi8cHBww7eFQ0prOUO3FAFKOW8rp+iHoDgk6Kezj4yMnuDiStE44Uc2T+nOLoIEhArHf398zP91hUWueWTVGyN0R8mAtSdARiHawaEX/1sLrq6urzE93RNaqJYvpd1fK6f6NoB0IOin49fV1WFlZQdSRilq1Uw2TenLbfUkjaEeCTjq00tfbt28RdSSiVq1IzN2XcdI/07cI2qGgEwB0dtnm5ianjhsUtU7NVm04A9CnmJM+iqAdCzqB4OnpqX+I1vz8PKm6ZVmrBjpcTjVJ6sOtX0kjaAT9RwQ6Jfjq6orpjxYkrWkMtT2nZfuVcdZAjKAR9B9BpwHRcbX7+/ucnVijrHXWn9qYY5iRcrrvpX9H0Ag6U9BpSO7u7sLu7m6Ym5tjCqSksNWGaku1abqN+R1JZzGAoBF0IVHoaILt7e3AfHX+RZXUVmozjsRAwlkSHnUfgkbQhQSdhkkXGz06OuqfBMNFBP4nbLWFTiZR23BBVqSc7jNFf0fQCHpiQadhe35+7q+ipqS4vLzsbipkaWmpn5K1kpzaIt02/I6kJ2UAQSPoWmQiSemsN30JpjTZpYveal+0T9o37SNCRsCTCnjc8xA0gq5F0FngaQF5JUwd5/vu3bsojhDRkRZ6r3rPeu8sgo+Ms9iu6z4EjaAbE3QWxFq/WGfLKYmenJyEnZ2dvhA1ZaAjHuqc29ZraxvaliSsbes96L3oPbG2MjLOYrbJ+xA0gm5V0Hlg1xSCkqsOTZM8P3/+3P85PT3tC1XX3VPCTf/oPslWj0ker+fqNfRaTEsg3zzstf0YBI2gzQu67U7C9pF5WwwgaASNoGEABowygKCNFqatEZvtkhZhwA4DCBpBk55gAAaMMoCgjRaGFGMnxVALatEWAwgaQZOeYAAGjDKAoI0Wpq0Rm+2SFmHADgMIGkGTnmAABowygKCNFoYUYyfFUAtq0RYDCBpBk55gAAaMMoCgjRamrRGb7ZIWYcAOAwgaQZOeYAAGjDKAoI0WhhRjJ8VQC2rRFgMIGkGTnmAABowygKCNFqatEZvtkhZhwA4DCBpBk55gAAaMMoCgjRaGFGMnxVALatEWAwgaQZOeYAAGjDKAoI0Wpq0Rm+2SFmHADgMIGkGTnmAABowygKCNFoYUYyfFUAtq0RYDCBpBk55gAAaMMoCgjRamrRGb7ZIWYcAOAwgaQZOeYAAGjDKAoI0WhhRjJ8VQC2rRFgMIGkGTnmAABowygKCNFqatEZvtkhZhwA4DCBpBk55gAAaMMoCgjRaGFGMnxVALatEWAwgaQZOeYAAGjDKAoI0Wpq0Rm+2SFmHADgMIGkGTnmAABowygKCNFoYUYyfFUAtq0RYDCBpBk55gAAaMMoCgjRamrRGb7ZIWYcAOAwgaQZOeYAAGjDKAoI0WhhRjJ8VQC2rRFgMIGkGTnmAABowygKCNFqatEZvtkhZhwA4DCBpBk55gAAaMMoCgjRaGFGMnxVALatEWAwgaQZOeYAAGjDKAoI0Wpq0Rm+2SFmHADgMIGkGTnmAABowygKCNFoYUYyfFUAtq0RYDCBpBk55gAAaMMoCgjRamrRGb7ZIWYcAOAwgaQZOeYAAGjDKAoI0WhhRjJ8VQC2rRFgMIGkGTnmAABowygKCNFqatEZvtkhZhwA4DCBpBk55gAAaMMvBfNudY0IVxrEoAAAAASUVORK5CYII="})]})]}))}));var B=function(){return B=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},B.apply(this,arguments)};const R=o.memo((function(e){var n,t=e.address,r=e.identity,a=(0,d.$)().t,l=(0,g.h)().api,c=(0,x.F)(),u=c.isRegistrar,h=c.registrars,p=(0,b.O)(),m=p[0],f=p[1],v=(0,y.x)(t),w=(0,o.useMemo)((function(){return null==v?void 0:v.map((function(e){return(0,s.jsx)(i.ax,{className:"subs",isPadded:!1,value:e},e.toString())}))}),[v]);return r&&r.isExistent&&(null===(n=l.query.identity)||void 0===n?void 0:n.identityOf)?(0,s.jsxs)("section",B({className:"withDivider","data-testid":"identity-section"},{children:[(0,s.jsxs)("div",B({className:"ui--AddressMenu-section ui--AddressMenu-identity"},{children:[(0,s.jsx)("div",B({className:"ui--AddressMenu-sectionHeader"},{children:a("identity")})),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.jb,{icon:(0,s.jsx)(F,{}),subtitle:r.legal,title:r.display}),(0,s.jsx)(S,{address:t}),(0,s.jsxs)("div",B({className:"ui--AddressMenu-identityTable"},{children:[r.parent&&(0,s.jsxs)("div",B({className:"tr parent"},{children:[(0,s.jsx)("div",B({className:"th"},{children:a("parent")})),(0,s.jsx)("div",B({className:"td"},{children:(0,s.jsx)(i.ax,{className:"parent",isPadded:!1,value:r.parent})}))]})),r.email&&(0,s.jsxs)("div",B({className:"tr"},{children:[(0,s.jsx)("div",B({className:"th"},{children:a("email")})),(0,s.jsx)("div",B({className:"td"},{children:(0,j.vq)(r.email)||!r.isKnownGood?r.email:(0,s.jsx)("a",B({href:"mailto:".concat(r.email),rel:"noopener noreferrer",target:"_blank"},{children:r.email}))}))]})),r.web&&(0,s.jsxs)("div",B({className:"tr"},{children:[(0,s.jsx)("div",B({className:"th"},{children:a("website")})),(0,s.jsx)("div",B({className:"td"},{children:(0,j.vq)(r.web)||!r.isKnownGood?r.web:(0,s.jsx)("a",B({href:r.web.replace(/^(https?:\/\/)?/g,"https://"),rel:"noopener noreferrer",target:"_blank"},{children:r.web}))}))]})),r.twitter&&(0,s.jsxs)("div",B({className:"tr"},{children:[(0,s.jsx)("div",B({className:"th"},{children:a("twitter")})),(0,s.jsx)("div",B({className:"td"},{children:(0,j.vq)(r.twitter)||!r.isKnownGood?r.twitter:(0,s.jsx)("a",B({href:r.twitter.startsWith("https://twitter.com/")?r.twitter:"https://twitter.com/".concat(r.twitter),rel:"noopener noreferrer",target:"_blank"},{children:r.twitter}))}))]})),r.riot&&(0,s.jsxs)("div",B({className:"tr"},{children:[(0,s.jsx)("div",B({className:"th"},{children:a("riot")})),(0,s.jsx)("div",B({className:"td"},{children:r.riot}))]})),!!(null==v?void 0:v.length)&&(0,s.jsxs)("div",B({className:"tr"},{children:[(0,s.jsx)("div",B({className:"th top"},{children:a("subs")})),(0,s.jsx)("div",B({className:"td","data-testid":"subs"},{children:v.length>4?(0,s.jsx)(i.xH,B({summary:v.length},{children:w})):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",B({className:"subs-number"},{children:v.length})),w]})}))]}))]}))]})]})),u&&(0,s.jsx)("div",B({className:"ui--AddressMenu-section"},{children:(0,s.jsx)("div",B({className:"ui--AddressMenu-actions"},{children:(0,s.jsx)("ul",{children:(0,s.jsx)("li",{children:(0,s.jsx)(i.JH,{icon:"address-card",label:a("Add identity judgment"),onClick:f})})})}))})),m&&u&&(0,s.jsx)(z,{address:t,registrars:h,toggleJudgement:f},"modal-judgement")]})):null}));var V=function(){return V=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},V.apply(this,arguments)};const L=o.memo((function(e){var n=e.isMultisig,t=e.meta,r=(0,d.$)().t;if(!n||!t)return null;var a=t.threshold,o=t.who;return(0,s.jsxs)("section",V({className:"ui--AddressMenu-multisig withDivider"},{children:[(0,s.jsx)("div",V({className:"ui--AddressMenu-sectionHeader"},{children:r("multisig")})),(0,s.jsxs)("div",V({className:"ui--AddressMenu-multisigTable"},{children:[(0,s.jsxs)("div",V({className:"tr"},{children:[(0,s.jsx)("div",V({className:"th"},{children:r("threshold")})),(0,s.jsxs)("div",V({className:"td"},{children:[a,"/",o.length]}))]})),(0,s.jsxs)("div",V({className:"tr"},{children:[(0,s.jsx)("div",V({className:"th signatories"},{children:r("signatories")})),(0,s.jsx)("div",V({className:"td"},{children:null==o?void 0:o.map((function(e){return(0,s.jsx)(i.ax,{value:e},e)}))}))]}))]}))]}))}));var H=t(63198),q=t(69187),_=t(33661),W=t(14868),G=function(){return G=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},G.apply(this,arguments)},Z=i.zo.div(J||(J=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  width: 100%;\n\n  .ui--Button-Group {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    margin-bottom: 0;\n  }\n"],["\n  width: 100%;\n\n  .ui--Button-Group {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    margin-bottom: 0;\n  }\n"])));const U=o.memo((function(e){var n,t=e.className,r=void 0===t?"":t,a=e.flags,l=e.isEditing,c=e.isEditingName,u=e.onCancel,h=e.onForgetAddress,p=e.onSaveName,m=e.onSaveTags,f=e.onUpdateName,v=e.recipientId,x=e.toggleIsEditingName,y=e.toggleIsEditingTags,j=(0,d.$)().t,w=(0,b.O)(),C=w[0],k=w[1],N=(0,g.h)(),O=(0,o.useCallback)((function(){h(),f&&f()}),[h,f]),A=(0,o.useCallback)((function(){a.isEditable&&x(),y()}),[a.isEditable,x,y]),S=(0,o.useCallback)((function(){p(),f&&f()}),[p,f]),P=(0,o.useCallback)((function(){c&&(a.isInContacts||a.isOwned)&&(S(),x())}),[c,a.isInContacts,a.isOwned,S,x]),I=(0,o.useCallback)((function(){l&&(P(),m()),A()}),[l,A,P,m]);return(0,s.jsxs)(Z,G({className:"".concat(r," ui--AddressMenu-buttons")},{children:[l?(0,s.jsxs)(i.zx.Group,{children:[(0,s.jsx)(i.zx,{icon:"times",label:j("Cancel"),onClick:u}),(0,s.jsx)(i.zx,{icon:"save",label:j("Save"),onClick:I})]}):(0,s.jsxs)(i.zx.Group,{children:[(0,_.m)(null===(n=N.api.tx.balances)||void 0===n?void 0:n.transfer)&&(0,s.jsx)(i.zx,{icon:"paper-plane",isDisabled:l,label:j("Send"),onClick:k}),!a.isOwned&&!a.isInContacts&&(0,s.jsx)(i.zx,{icon:"plus",isDisabled:l,label:j("Save"),onClick:S}),!a.isOwned&&a.isInContacts&&(0,s.jsx)(i.zx,{icon:"ban",isDisabled:l,label:j("Remove"),onClick:O}),(0,s.jsx)(i.zx,{icon:"edit",isDisabled:!a.isEditable,label:j("Edit"),onClick:I})]}),C&&(0,s.jsx)(W.Z,{onClose:k,recipientId:v},"modal-transfer")]}))}));var J,Q=t(72282),Y=t.n(Q),K=function(){return K=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},K.apply(this,arguments)};const X=o.memo((function(e){var n=e.accountIndex,t=e.defaultValue,r=e.editingName,a=e.flags,o=e.onChange,l=e.value,c=(0,d.$)().t,u=(0,b.O)(),h=u[0],p=u[1],m=function(){};return(0,s.jsxs)("div",K({className:"ui--AddressSection"},{children:[(0,s.jsx)(i.k,{size:80,value:l}),(0,s.jsxs)("div",K({className:"ui--AddressSection__AddressColumn"},{children:[(0,s.jsx)(i.RV,{override:r?(0,s.jsx)(i.II,{className:"name--input",defaultValue:t,label:"name-input",onChange:o,withLabel:!1}):a.isEditable?t.toUpperCase()||c("<unknown>"):void 0,value:l,withSidebar:!1}),(0,s.jsx)("div",K({className:"ui--AddressMenu-addr"},{children:l})),n&&(0,s.jsxs)("div",K({className:"ui--AddressMenu-index"},{children:[(0,s.jsxs)("label",{children:[c("index"),":"]})," ",n]}))]})),(0,s.jsx)("div",K({className:"ui--AddressSection__CopyColumn"},{children:(0,s.jsx)("div",K({className:"ui--AddressMenu-copyaddr"},{children:(0,s.jsx)(Y(),K({text:l},{children:(0,s.jsx)("span",{children:(0,s.jsx)(i.zx.Group,{children:(0,s.jsx)(i.zx,{icon:h?"check":"copy",label:c(h?"Copied":"Copy"),onClick:h?m:p,onMouseLeave:h?p:m})})})}))}))}))]}))}));var $=function(){return $=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},$.apply(this,arguments)},ee=i.zo.div(te||(te=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  .ui--Tag {\n    margin: 0.2rem 1rem 0.2rem 0.571rem;\n  }\n"],["\n  .ui--Tag {\n    margin: 0.2rem 1rem 0.2rem 0.571rem;\n  }\n"])));const ne=o.memo((function(e){var n=e.className,t=void 0===n?"":n,r=e.flags,a=r.isCouncil,o=r.isDevelopment,l=r.isExternal,c=r.isInjected,u=r.isMultisig,h=r.isNominator,p=r.isProxied,m=r.isSociety,f=r.isSudo,v=r.isTechCommittee,g=r.isValidator,x=(0,d.$)().t,b=a||o||l||c||u||p||m||f||v||g||h;return b?(0,s.jsxs)(ee,$({className:"".concat(t," ui--AddressMenu-flags")},{children:[b&&(0,s.jsx)("h5",{children:x("Flags")}),(0,s.jsxs)("div",{children:[g&&(0,s.jsx)(i.WN,{color:"theme",label:x("Validator")}),h&&(0,s.jsx)(i.WN,{color:"theme",label:x("Nominator")}),l&&(u?(0,s.jsx)(i.WN,{color:"green",label:x("Multisig")}):p?(0,s.jsx)(i.WN,{color:"grey",label:x("Proxied")}):(0,s.jsx)(i.WN,{color:"grey",label:x("External")})),c&&(0,s.jsx)(i.WN,{color:"grey",label:x("Injected")}),o&&(0,s.jsx)(i.WN,{color:"grey",label:x("Test account")}),a&&(0,s.jsx)(i.WN,{color:"blue",label:x("Council")}),m&&(0,s.jsx)(i.WN,{color:"green",label:x("Society")}),v&&(0,s.jsx)(i.WN,{color:"orange",label:x("Technical committee")}),f&&(0,s.jsx)(i.WN,{color:"pink",label:x("Sudo key")})]})]})):null}));var te,re=function(){return re=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},re.apply(this,arguments)};const ae=o.memo((function(e){var n=e.accountIndex,t=e.address,r=e.isBeingEdited,a=e.onUpdateName,l=e.sidebarRef,c=(0,u.B)(t),d=c.flags,h=c.isEditing,p=c.isEditingName,m=c.isEditingTags,f=c.name,v=c.onForgetAddress,g=c.onSaveName,x=c.onSaveTags,b=c.setIsEditingName,y=c.setIsEditingTags,j=c.setName,w=c.setTags,C=c.tags,k=c.toggleIsEditingName,N=c.toggleIsEditingTags,O=(0,o.useMemo)((function(){return[l]}),[l]);(0,o.useEffect)((function(){r(h())}),[r,h]);var A=(0,o.useCallback)((function(){if(h())try{var e=q.Nn.getAccount(t)||q.Nn.getAddress(t);j((null==e?void 0:e.meta.name)||""),w((null==e?void 0:e.meta.tags)?e.meta.tags.sort():[]),b(!1),y(!1)}catch(e){}}),[h,j,w,b,y,t]);return(0,H.O)(O,A),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(X,{accountIndex:n,defaultValue:f,editingName:p,flags:d,onChange:j,value:t}),(0,s.jsx)("div",re({className:"ui--AddressMenu-tags","data-testid":"sidebar-tags"},{children:(0,s.jsx)(i.$G,{isEditable:!0,isEditing:m,onChange:w,value:C,withEditButton:!1,withTitle:!0})})),(0,s.jsx)(ne,{flags:d}),(0,s.jsx)(U,{flags:d,isEditing:h(),isEditingName:p,onCancel:A,onForgetAddress:v,onSaveName:g,onSaveTags:x,onUpdateName:a,recipientId:t,toggleIsEditingName:k,toggleIsEditingTags:N})]})}));var se=function(){return se=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},se.apply(this,arguments)},oe=(0,i.zo)(l.Z)(le||(le=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  display: flex;\n  flex-direction: column;\n  background-color: var(--bg-sidebar);\n  max-width: 30.42rem;\n  min-width: 30.42rem;\n  overflow-y: hidden;\n  padding: 0 0 3.286rem;\n\n  input {\n    width: auto !important;\n  }\n\n  .ui--AddressMenu-header {\n    align-items: center;\n    background: var(--bg-tabs);\n    border-bottom: 1px solid var(--border-table);\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    padding: 1.35rem 1rem 1rem 1rem;\n  }\n\n  .ui--AddressSection {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    align-items: center;\n    width: 100%;\n\n    .ui--AddressSection__AddressColumn {\n      flex: 1;\n      margin-left: 1rem;\n\n      .ui--AccountName {\n        max-width: 21.5rem;\n        overflow: hidden;\n        white-space: normal;\n      }\n    }\n\n    .ui--AddressSection__CopyColumn {\n      margin-left: 1rem;\n\n      .ui--AccountName {\n        max-width: 10rem;\n        overflow: hidden;\n      }\n    }\n  }\n\n  .ui--AddressMenu-addr,\n  .ui--AddressMenu-index {\n    text-align: left;\n    font-size: var(--font-size-small);\n  }\n\n  .ui--AddressMenu-addr {\n    word-break: break-all;\n    width: 24ch;\n    margin: 0.571rem 0;\n    color: var(--color-label);\n  }\n\n  .ui--AddressMenu-copyaddr,\n  .ui--AddressMenu-index {\n    text-align: left;\n    font-size: var(--font-size-small);\n  }\n\n  .ui--AddressMenu-copyaaddr {\n    word-break: break-all;\n    width: 12ch;\n    margin: 0.371rem 0;\n    color: var(--color-label);\n  }\n\n\n  .ui--AddressMenu-index {\n    display: flex;\n    flex-direction: row;\n\n    label {\n      font-size: var(--font-size-small);\n      margin-right: 0.4rem;\n      text-transform: capitalize;\n    }\n  }\n\n  section {\n    position: relative;\n\n    &:not(:last-child) {\n      margin-bottom: 1rem;\n    }\n\n    .ui--AddressMenu-sectionHeader {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      text-transform: capitalize;\n\n      margin-bottom: 0.57rem;\n      width: 100%;\n\n      color: var(--color-text);\n      font-size: 1.143rem;\n    }\n\n    &.withDivider {\n      padding-top: 1rem;\n\n      ::before {\n        position: absolute;\n        top: 0;\n        left: 0;\n\n        content: '';\n        width: 100%;\n        height: 1px;\n        background-color: var(--border-table);\n      }\n    }\n  }\n\n  .ui--AddressMenu-identity,\n  .ui--AddressMenu-multisig {\n    .ui--AddressMenu-identityTable,\n    .ui--AddressMenu-multisigTable {\n      font-size: var(--font-size-small);\n      margin-top: 0.6rem;\n\n      .tr {\n        padding: 0.25rem 0;\n        display: inline-flex;\n        align-items: center;\n        width: 100%;\n\n        .th {\n          text-transform: uppercase;\n          color: var(--color-label);\n          font-weight: var(--font-weight-normal);\n          text-align: left;\n          flex-basis: 25%;\n          font-size: var(--font-size-tiny);\n\n          &.top {\n            align-self: flex-start;\n          }\n        }\n\n        .td {\n          flex: 1;\n          overflow: hidden;\n          padding-left: 0.6rem;\n          text-overflow: ellipsis;\n        }\n      }\n\n      .ui--AddressMini, .subs-number {\n        margin-bottom: 0.4rem;\n        padding: 0;\n      }\n\n      .subs-number {\n        font-size: var(--font-size-base);\n        margin-bottom: 0.714rem;\n      }\n    }\n\n    .parent {\n      padding: 0 !important;\n    }\n  }\n\n  && .column {\n    align-items: center;\n\n    .ui--FormatBalance:first-of-type {\n      margin-bottom: 0.4rem;\n    }\n\n    .ui--FormatBalance {\n      line-height: 1rem;\n    }\n  }\n\n  .ui--AddressMenu-buttons {\n    .ui--Button-Group {\n      margin-bottom: 0;\n    }\n  }\n\n  .ui--AddressMenu-tags,\n  .ui--AddressMenu-flags {\n    margin: 0.75rem 0 0;\n    width: 100%;\n  }\n\n  .ui--AddressMenu-identityIcon {\n    background: ","66;\n  }\n\n  .ui--AddressMenu-actions {\n    ul {\n      list-style-type: none;\n      margin-block-start: 0;\n      margin-block-end: 0;\n      padding-inline-start: 1rem;\n\n      li {\n        margin: 0.2rem 0;\n      }\n    }\n  }\n\n  .inline-icon {\n    cursor: pointer;\n    margin: 0 0 0 0.5rem;\n    color: ",";\n  }\n\n  .name--input {\n    .ui.input {\n      margin: 0 !important;\n\n      > input {\n      }\n    }\n  }\n\n  &.inEditMode {\n    .ui--AddressMenu-flags {\n      opacity: 60%;\n    }\n  }\n\n  .ui--AddressMenu-multisig .th.signatories {\n    align-self: flex-start;\n  }\n\n  .ui--ScrollSection {\n    padding: 1rem;\n    overflow: auto;\n  }\n\n  .ui--LinkSection {\n    border-top: 1px solid var(--border-table);\n    padding: 0.5rem 0 0.571rem;\n    width: 100%;\n    position: absolute;\n    bottom: 0;\n\n    span {\n      margin: 0 0.5rem;\n    }\n  }\n"],["\n  display: flex;\n  flex-direction: column;\n  background-color: var(--bg-sidebar);\n  max-width: 30.42rem;\n  min-width: 30.42rem;\n  overflow-y: hidden;\n  padding: 0 0 3.286rem;\n\n  input {\n    width: auto !important;\n  }\n\n  .ui--AddressMenu-header {\n    align-items: center;\n    background: var(--bg-tabs);\n    border-bottom: 1px solid var(--border-table);\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    padding: 1.35rem 1rem 1rem 1rem;\n  }\n\n  .ui--AddressSection {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    align-items: center;\n    width: 100%;\n\n    .ui--AddressSection__AddressColumn {\n      flex: 1;\n      margin-left: 1rem;\n\n      .ui--AccountName {\n        max-width: 21.5rem;\n        overflow: hidden;\n        white-space: normal;\n      }\n    }\n\n    .ui--AddressSection__CopyColumn {\n      margin-left: 1rem;\n\n      .ui--AccountName {\n        max-width: 10rem;\n        overflow: hidden;\n      }\n    }\n  }\n\n  .ui--AddressMenu-addr,\n  .ui--AddressMenu-index {\n    text-align: left;\n    font-size: var(--font-size-small);\n  }\n\n  .ui--AddressMenu-addr {\n    word-break: break-all;\n    width: 24ch;\n    margin: 0.571rem 0;\n    color: var(--color-label);\n  }\n\n  .ui--AddressMenu-copyaddr,\n  .ui--AddressMenu-index {\n    text-align: left;\n    font-size: var(--font-size-small);\n  }\n\n  .ui--AddressMenu-copyaaddr {\n    word-break: break-all;\n    width: 12ch;\n    margin: 0.371rem 0;\n    color: var(--color-label);\n  }\n\n\n  .ui--AddressMenu-index {\n    display: flex;\n    flex-direction: row;\n\n    label {\n      font-size: var(--font-size-small);\n      margin-right: 0.4rem;\n      text-transform: capitalize;\n    }\n  }\n\n  section {\n    position: relative;\n\n    &:not(:last-child) {\n      margin-bottom: 1rem;\n    }\n\n    .ui--AddressMenu-sectionHeader {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      text-transform: capitalize;\n\n      margin-bottom: 0.57rem;\n      width: 100%;\n\n      color: var(--color-text);\n      font-size: 1.143rem;\n    }\n\n    &.withDivider {\n      padding-top: 1rem;\n\n      ::before {\n        position: absolute;\n        top: 0;\n        left: 0;\n\n        content: '';\n        width: 100%;\n        height: 1px;\n        background-color: var(--border-table);\n      }\n    }\n  }\n\n  .ui--AddressMenu-identity,\n  .ui--AddressMenu-multisig {\n    .ui--AddressMenu-identityTable,\n    .ui--AddressMenu-multisigTable {\n      font-size: var(--font-size-small);\n      margin-top: 0.6rem;\n\n      .tr {\n        padding: 0.25rem 0;\n        display: inline-flex;\n        align-items: center;\n        width: 100%;\n\n        .th {\n          text-transform: uppercase;\n          color: var(--color-label);\n          font-weight: var(--font-weight-normal);\n          text-align: left;\n          flex-basis: 25%;\n          font-size: var(--font-size-tiny);\n\n          &.top {\n            align-self: flex-start;\n          }\n        }\n\n        .td {\n          flex: 1;\n          overflow: hidden;\n          padding-left: 0.6rem;\n          text-overflow: ellipsis;\n        }\n      }\n\n      .ui--AddressMini, .subs-number {\n        margin-bottom: 0.4rem;\n        padding: 0;\n      }\n\n      .subs-number {\n        font-size: var(--font-size-base);\n        margin-bottom: 0.714rem;\n      }\n    }\n\n    .parent {\n      padding: 0 !important;\n    }\n  }\n\n  && .column {\n    align-items: center;\n\n    .ui--FormatBalance:first-of-type {\n      margin-bottom: 0.4rem;\n    }\n\n    .ui--FormatBalance {\n      line-height: 1rem;\n    }\n  }\n\n  .ui--AddressMenu-buttons {\n    .ui--Button-Group {\n      margin-bottom: 0;\n    }\n  }\n\n  .ui--AddressMenu-tags,\n  .ui--AddressMenu-flags {\n    margin: 0.75rem 0 0;\n    width: 100%;\n  }\n\n  .ui--AddressMenu-identityIcon {\n    background: ","66;\n  }\n\n  .ui--AddressMenu-actions {\n    ul {\n      list-style-type: none;\n      margin-block-start: 0;\n      margin-block-end: 0;\n      padding-inline-start: 1rem;\n\n      li {\n        margin: 0.2rem 0;\n      }\n    }\n  }\n\n  .inline-icon {\n    cursor: pointer;\n    margin: 0 0 0 0.5rem;\n    color: ",";\n  }\n\n  .name--input {\n    .ui.input {\n      margin: 0 !important;\n\n      > input {\n      }\n    }\n  }\n\n  &.inEditMode {\n    .ui--AddressMenu-flags {\n      opacity: 60%;\n    }\n  }\n\n  .ui--AddressMenu-multisig .th.signatories {\n    align-self: flex-start;\n  }\n\n  .ui--ScrollSection {\n    padding: 1rem;\n    overflow: auto;\n  }\n\n  .ui--LinkSection {\n    border-top: 1px solid var(--border-table);\n    padding: 0.5rem 0 0.571rem;\n    width: 100%;\n    position: absolute;\n    bottom: 0;\n\n    span {\n      margin: 0 0.5rem;\n    }\n  }\n"])),c.Iv,c.Iv);const ie=o.memo((function(e){var n=e.address,t=e.className,r=void 0===t?"":t,a=e.dataTestId,l=e.onClose,c=e.onUpdateName,d=(0,o.useState)(!1),h=d[0],p=d[1],m=(0,u.B)(n),v=m.accountIndex,g=m.flags,x=m.identity,b=m.meta,y=(0,o.useRef)(null);return(0,s.jsxs)(oe,se({className:"".concat(r).concat(h?" inEditMode":""),dataTestId:a,onClose:l,position:"right",sidebarRef:y},{children:[(0,s.jsx)("div",se({className:"ui--AddressMenu-header","data-testid":"sidebar-address-menu"},{children:(0,s.jsx)(ae,{accountIndex:v,address:n,isBeingEdited:p,onUpdateName:c,sidebarRef:y})})),(0,s.jsxs)("div",se({className:"ui--ScrollSection"},{children:[(0,s.jsx)(f,{address:n}),(0,s.jsx)(R,{address:n,identity:x}),(0,s.jsx)(L,{isMultisig:g.isMultisig,meta:b})]})),(0,s.jsx)("section",se({className:"ui--LinkSection"},{children:(0,s.jsx)(i.NR,{data:n,isSidebar:!0,type:"address"})}))]}))}));var le,ce=function(){return ce=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},ce.apply(this,arguments)},ue=[null,null],de=o.createContext(void 0);const he=o.memo((function(e){var n=e.children,t=(0,o.useState)(ue),r=t[0],a=r[0],i=r[1],l=t[1],c=(0,o.useCallback)((function(){return l([null,null])}),[]);return(0,s.jsxs)(de.Provider,ce({value:l},{children:[n,a&&(0,s.jsx)(ie,{address:a,dataTestId:"account-sidebar",onClose:c,onUpdateName:i})]}))}))},39334:(e,n,t)=>{t.d(n,{Z:()=>Zt});var r=t(52322),a=t(2784),s=t(7267),o=t(24732),i=t(34814),l=t(83337),c=t(11798),u=t(90778),d=t(45479),h=t(38894),p=t(54131),m=t(32980),f=t(19276),v=t(47623),g=t(69187),x=t(16039),b=t(95292),y=t(33661),j=t(31667),w=t(98551),C=t(55858),k=t(74076),N=t(17965),O=t(81503),A=t(6851),S=t(21924),P=t(57594),I=t(52926),E=t(46186),M=t(5469),T=t(1632),z=t(43151),D=function(){return D=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},D.apply(this,arguments)};function F(e){var n=e.onChange,t=e.onEnter,s=(0,M.$)().t,i=(0,a.useState)({isPass1Valid:!1,password1:""}),l=i[0],c=l.isPass1Valid,u=l.password1,d=i[1],h=(0,a.useState)({isPass2Valid:!1,password2:""}),p=h[0],m=p.isPass2Valid,f=p.password2,v=h[1];(0,a.useEffect)((function(){return n(u,c&&m)}),[u,n,c,m]);var x=(0,a.useCallback)((function(e){d({isPass1Valid:g.Nn.isPassValid(e),password1:e}),v({isPass2Valid:g.Nn.isPassValid(f)&&f===e,password2:f})}),[f]),b=(0,a.useCallback)((function(e){return v({isPass2Valid:g.Nn.isPassValid(e)&&e===u,password2:e})}),[u]);return(0,r.jsxs)(o.u_.Columns,D({hint:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:s("The password and password confirmation for this account. This is required to authenticate any transactions made and to encrypt the keypair.")}),(0,r.jsx)("p",{children:s("Ensure you are using a strong password for proper account protection.")})]})},{children:[(0,r.jsx)(o.ro,{className:"full",isError:!c,label:s("password"),onChange:x,onEnter:t,value:u}),(0,r.jsx)(o.ro,{className:"full",isError:!m,label:s("password (repeat)"),onChange:b,onEnter:t,value:f}),(0,r.jsx)(o.YV,{value:u})]}))}var B=function(){return B=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},B.apply(this,arguments)};const R=a.memo((function(e){var n=e.name,t=n.isNameValid,s=n.name,i=e.onCommit,l=e.setName,c=e.setPassword,u=(0,z.$)().t,d=(0,a.useCallback)((function(e){return l({isNameValid:!!e.trim(),name:e})}),[l]),h=(0,a.useCallback)((function(e,n){return c({isPasswordValid:n,password:e})}),[c]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.u_.Columns,B({hint:u("The name for this account and how it will appear under your addresses. With an on-chain identity, it can be made available to others.")},{children:(0,r.jsx)(o.II,{className:"full",isError:!t,label:u("name"),onChange:d,onEnter:i,placeholder:u("new account"),value:s})})),(0,r.jsx)(F,{onChange:h,onEnter:i})]})}));var V=function(){return V=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},V.apply(this,arguments)};const L=a.memo((function(e){var n=e.address,t=e.derivePath,a=e.name,s=e.pairType,i=e.seed,l=(0,M.$)().t,c=i&&i.split(" "),u=(0,k.vq)(i)?"".concat(i.slice(10)," … ").concat(i.slice(-8)):c&&c.map((function(e,n){return n%3?"…":e})).join(" ");return(0,r.jsx)(o.u_.Content,{children:(0,r.jsxs)(o.u_.Columns,V({hint:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:l('We will provide you with a generated backup file after your account is created. As long as you have access to your account you can always download this file later by clicking on "Backup" button from the Accounts section.')}),(0,r.jsx)("p",{children:l("Please make sure to save this file in a secure location as it is required, together with your password, to restore your account.")})]})},{children:[n&&a&&(0,r.jsx)(o.mV,{defaultName:a,isInline:!0,noDefaultNameOpacity:!0,value:n}),u&&(0,r.jsx)(o.qG,{label:l("partial seed"),value:u}),(0,r.jsx)(o.qG,{label:l("keypair type"),value:s}),(0,r.jsx)(o.qG,{label:l("derivation path"),value:t||l("<none provided>")})]}))})}));var H=function(){return H=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},H.apply(this,arguments)},q="m/44'/60'/0'/0/0";const _=a.memo((function(e){var n=e.className,t=e.derivePath,s=e.deriveValidation,i=e.onChange,l=e.seedType,c=(0,M.$)().t,u=(0,a.useState)(0),d=u[0],p=u[1],m=(0,a.useState)(b.nw),f=m[0],v=m[1],g=(0,a.useState)((function(){return new Array(10).fill(0).map((function(e,n){return{key:n,text:c("Address index {{index}}",{replace:{index:n}}),value:n}}))}))[0],x=(0,h.O)(),y=x[0],j=x[1],w=(0,h.O)(),C=w[0],k=w[1],N=(0,a.useRef)({INVALID_DERIVATION_PATH:c("This is an invalid derivation path."),PASSWORD_IGNORED:c("Password are ignored for hex seed"),SOFT_NOT_ALLOWED:c("Soft derivation paths are not allowed on ed25519"),WARNING_SLASH_PASSWORD:c('Your password contains at least one "/" character. Disregard this warning if it is intended.')});return(0,a.useEffect)((function(){i("m/44'/60'/0'/0/".concat(C?Number(f):d))}),[f,i,C,d]),(0,r.jsxs)(o.u_.Columns,H({className:n,hint:c("raw"===l?"The derivation path is only relevant when deriving keys from a mnemonic.":"The derivation path allows you to create different accounts from the same base mnemonic.")},{children:["bip"===l?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",H({className:"saveToggle"},{children:(0,r.jsx)(o.XZ,{label:(0,r.jsx)(r.Fragment,{children:c("Use custom address index")}),onChange:k,value:C})})),C?(0,r.jsx)(o.Rn,{isDecimal:!1,label:c("Custom index"),onChange:v,value:f}):(0,r.jsx)(o.Lt,{label:c("address index"),onChange:p,options:g,value:d}),(0,r.jsx)("div",H({className:"saveToggle"},{children:(0,r.jsx)(o.XZ,{label:(0,r.jsx)(r.Fragment,{children:c("Use custom derivation path")}),onChange:j,value:y})})),y?(0,r.jsx)(o.II,{isError:!!(null==s?void 0:s.error),label:c("secret derivation path"),onChange:i,placeholder:q,tabIndex:-1,value:t}):null]}):(0,r.jsx)(o.Pd,{content:c("The derivation path is only relevant when deriving keys from a mnemonic.")}),(null==s?void 0:s.error)&&(0,r.jsx)(o.oy,{content:N.current[s.error]||s.error}),(null==s?void 0:s.warning)&&(0,r.jsx)(o.Pd,{content:N.current[s.warning]})]}))}));var W=t(72570),G=t(77004),Z=function(){return Z=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Z.apply(this,arguments)},U=(0,G.h)(20);const J=a.memo((function(e){var n=e.className,t=e.onClose,s=(0,M.$)().t,i=(0,u.h)().api,l=(0,d.c)().getLedger,c=(0,a.useState)(0),h=c[0],p=c[1],m=(0,a.useState)(0),f=m[0],v=m[1],x=(0,a.useState)(null),b=x[0],y=x[1],j=(0,a.useState)({isNameValid:!1,name:""}),w=j[0],C=w.isNameValid,k=w.name,N=j[1],O=(0,a.useState)(!1),A=O[0],S=O[1],P=(0,a.useRef)(U.map((function(e){return{text:s("Account type {{index}}",{replace:{index:e}}),value:e}}))),I=(0,a.useRef)(U.map((function(e){return{text:s("Address index {{index}}",{replace:{index:e}}),value:e}}))),E=(0,a.useCallback)((function(e){return N({isNameValid:!!e.trim(),name:e})}),[]),T=(0,a.useCallback)((function(){y(null),S(!0),function(e,n,t,r,a){return function(e,n,t,r){return new(t||(t=Promise))((function(a,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function i(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,i)}l((r=r.apply(e,n||[])).next())}))}(this,void 0,Promise,(function(){var s;return function(e,n){var t,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=n.call(e,o)}catch(e){i=[6,e],r=0}finally{t=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(o){switch(o.label){case 0:return[4,n().getAddress(!1,r,a)];case 1:return s=o.sent().address,g.Nn.addHardware(s,"ledger",{accountOffset:r,addressOffset:a,genesisHash:e.genesisHash.toHex(),name:t||"ledger ".concat(r,"/").concat(a)}),[2]}}))}))}(i,l,k,h,f).then((function(){return t()})).catch((function(e){console.error(e),S(!1),y(e)}))}),[h,f,i,l,k,t]);return(0,r.jsxs)(o.u_,Z({className:n,header:s("Add account via Ledger"),onClose:t,size:"large"},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsx)(o.u_.Columns,Z({hint:s("The name for this account as it will appear under your accounts.")},{children:(0,r.jsx)(o.II,{autoFocus:!0,className:"full",isError:!C,label:s("name"),onChange:E,placeholder:s("account name"),value:k})})),(0,r.jsx)(o.u_.Columns,Z({hint:s("The account type that you wish to create. This is the top-level derivation.")},{children:(0,r.jsx)(o.Lt,{label:s("account type"),onChange:p,options:P.current,value:h})})),(0,r.jsxs)(o.u_.Columns,Z({hint:s("The address index on the account that you wish to add. This is the second-level derivation.")},{children:[(0,r.jsx)(o.Lt,{label:s("address index"),onChange:v,options:I.current,value:f}),b&&(0,r.jsx)(o.oy,{content:b.message})]}))]}),(0,r.jsx)(o.u_.Actions,{children:(0,r.jsx)(o.zx,{icon:"plus",isBusy:A,isDisabled:!C,label:s("Save"),onClick:T})})]}))}));var Q=function(){return Q=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Q.apply(this,arguments)},Y=W.uG.filter((function(e){return e.hasLedgerSupport}));const K=a.memo((function(e){var n=e.className,t=e.onChange,s=e.seedType,i=(0,M.$)().t,l=(0,a.useState)(0),c=l[0],u=l[1],d=(0,a.useState)(0),h=d[0],p=d[1],m=(0,a.useState)("polkadot"),f=m[0],v=m[1],g=(0,a.useRef)(Y.map((function(e){return{text:e.displayName,value:e.network}}))),x=(0,a.useRef)(U.map((function(e){return{text:i("Account type {{index}}",{replace:{index:e}}),value:e}}))),b=(0,a.useRef)(U.map((function(e){return{text:i("Address index {{index}}",{replace:{index:e}}),value:e}})));return(0,a.useEffect)((function(){var e=Y.find((function(e){return e.network===f}));t("m/44'/".concat(null==e?void 0:e.slip44,"'/").concat(c,"'/0'/").concat(h,"'"))}),[c,h,f,t]),(0,r.jsx)(o.u_.Columns,Q({className:n,hint:i("The derivation will be constructed from the values you specify.")},{children:"bip"===s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Lt,{label:i("Ledger app type (originated from)"),onChange:v,options:g.current,value:f}),(0,r.jsx)(o.Lt,{label:i("account type"),onChange:u,options:x.current,value:c}),(0,r.jsx)(o.Lt,{label:i("address index"),onChange:p,options:b.current,value:h})]}):(0,r.jsx)(o.oy,{content:i("Derivation for Ledger-type accounts are only available on mnemonic seeds.")})}))}));var X=navigator.userAgent.toLowerCase().indexOf(" electron/")>-1;const $=a.memo((function(){var e=(0,M.$)().t;return X?null:(0,r.jsx)(o.Pd,{content:(0,r.jsxs)(r.Fragment,{children:[e("Consider storing your account in a signer such as a browser extension, hardware device, QR-capable phone wallet (non-connected) or desktop application for optimal account security.")," ",e("Future versions of the web-only interface will drop support for non-external accounts, much like the IPFS version.")]})})}));var ee=function(){return ee=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},ee.apply(this,arguments)};function ne(e,n,t){return"ed25519-ledger"===t?(0,C.c)((0,O.O)(e,n).secretKey.slice(0,32)):"ethereum"===t?"".concat(e,"/").concat(n):"".concat(e).concat(n)}function te(e,n,t){return g.Nn.createFromUri(ne(e,n,t),{},"ed25519-ledger"===t?"ed25519":t).address}function re(e,n,t,r){void 0===r&&(r="sr25519");var a=function(e,n){switch(n){case"bip":return(0,P._)();case"dev":return j.g;default:return e||(0,C.c)((0,I.F)())}}(e,t);return{address:te(a,n,r),derivePath:n,deriveValidation:void 0,isSeedValid:!0,pairType:r,seed:a,seedType:t}}function ae(e,n,t,r){var a=null,s=function(e,n,t,r){try{var a=(0,A.Q)("ethereum"===r?"".concat(e,"/").concat(t):"".concat(e).concat(t)),s=a.password,o=a.path,i={};return(null==s?void 0:s.includes("/"))&&(i={warning:"WARNING_SLASH_PASSWORD"}),"ed25519"===r&&o.some((function(e){return e.isSoft}))?ee(ee({},i),{error:"SOFT_NOT_ALLOWED"}):"raw"===n&&s?ee(ee({},i),{error:"PASSWORD_IGNORED"}):"ethereum"!==r||(0,S.p)(t)?i:ee(ee({},i),{error:"INVALID_DERIVATION_PATH"})}catch(e){return{error:e.message}}}(e,t,n,r),o=!1;if("raw"===t)o=function(e){return e.length>0&&e.length<=32||function(e){return(0,k.vq)(e)&&66===e.length}(e)}(e);else{var i=e.split(" ");"ed25519-ledger"===r&&25===i.length?(i.pop(),o=(0,E.S)(i.join(" "))):o=(0,E.S)(e)}if(!(null==s?void 0:s.error)&&o)try{a=te(e,n,r)}catch(e){console.error(e),s={error:e.message?e.message:e.toString()},o=!1}return{address:a,derivePath:n,deriveValidation:s,isSeedValid:o,pairType:r,seed:e,seedType:t}}var se,oe,ie=(0,o.zo)(o.u_)(ce||(se=["\n  .accounts--Creator-advanced {\n    margin-top: 1rem;\n    overflow: visible;\n  }\n\n  .ui--CopyButton.copyMoved {\n    position: absolute;\n    right: 9.25rem;\n    top: 1.15rem;\n  }\n\n  && .TextAreaWithDropdown {\n    textarea {\n      width: 80%;\n    }\n    .ui.buttons {\n      width: 20%;\n    }\n  }\n\n  .saveToggle {\n    text-align: right;\n\n    .ui--Checkbox {\n      margin: 0.8rem 0;\n\n      > label {\n        font-weight: var(--font-weight-normal);\n      }\n    }\n  }\n"],oe=["\n  .accounts--Creator-advanced {\n    margin-top: 1rem;\n    overflow: visible;\n  }\n\n  .ui--CopyButton.copyMoved {\n    position: absolute;\n    right: 9.25rem;\n    top: 1.15rem;\n  }\n\n  && .TextAreaWithDropdown {\n    textarea {\n      width: 80%;\n    }\n    .ui.buttons {\n      width: 20%;\n    }\n  }\n\n  .saveToggle {\n    text-align: right;\n\n    .ui--Checkbox {\n      margin: 0.8rem 0;\n\n      > label {\n        font-weight: var(--font-weight-normal);\n      }\n    }\n  }\n"],Object.defineProperty?Object.defineProperty(se,"raw",{value:oe}):se.raw=oe,ce=se));const le=a.memo((function(e){var n=e.className,t=void 0===n?"":n,s=e.onClose,i=e.onStatusChange,l=e.seed,c=e.type,h=(0,M.$)().t,p=(0,u.h)(),m=p.api,f=p.isDevelopment,v=p.isEthereum,b=(0,d.c)().isLedgerEnabled,y=(0,a.useState)((function(){return re(l,v?q:"",l?"raw":"bip",v?"ethereum":c)})),j=y[0],C=j.address,k=j.derivePath,O=j.deriveValidation,A=j.isSeedValid,S=j.pairType,P=j.seed,I=j.seedType,E=y[1],z=(0,a.useState)(!1),D=z[0],F=z[1],B=(0,w.t)(),V=B[0],H=B[1],W=B[2],G=(0,a.useState)(!1),Z=G[0],U=G[1],J=(0,a.useState)((function(){return{isNameValid:!1,name:""}})),Q=J[0],Y=Q.isNameValid,X=Q.name,te=J[1],se=(0,a.useState)((function(){return{isPasswordValid:!1,password:""}})),oe=se[0],le=oe.isPasswordValid,ce=oe.password,ue=se[1],de=!!C&&D&&!(null==O?void 0:O.error)&&A,he=Y&&le,pe=de&&he,me=(0,a.useRef)({INVALID_DERIVATION_PATH:h("This is an invalid derivation path."),PASSWORD_IGNORED:h("Password are ignored for hex seed"),SOFT_NOT_ALLOWED:h("Soft derivation paths are not allowed on ed25519"),WARNING_SLASH_PASSWORD:h('Your password contains at least one "/" character. Disregard this warning if it is intended.')}),fe=(0,a.useRef)((f?[{text:h("Development"),value:"dev"}]:[]).concat({text:h("Mnemonic"),value:"bip"},v?{text:h("Private Key"),value:"raw"}:{text:h("Raw seed"),value:"raw"})),ve=(0,a.useCallback)((function(e){return E(ae(P,e,I,S))}),[S,P,I]),ge=(0,a.useCallback)((function(e){return E(ae(e,k,I,S))}),[k,S,I]),xe=(0,a.useCallback)((function(e){return E(ae(P,v?q:"",I,e))}),[P,I,v]),be=(0,a.useCallback)((function(e){e!==I&&E(re(null,k,e,S))}),[k,S,I]),ye=(0,a.useCallback)((function(){return F(!D)}),[D]),je=(0,a.useCallback)((function(){pe&&(U(!0),(0,N.Y)((function(){var e={genesisHash:f?void 0:m.genesisHash.toString(),isHardware:!1,name:X.trim()},n=function(e,n,t,r,a,s){var o=r.genesisHash,i=r.name,l=r.tags,c=void 0===l?[]:l;return(0,T.ol)((function(){return g.Nn.addUri(ne(e,n,t),a,{genesisHash:o,isHardware:!1,name:i,tags:c},"ed25519-ledger"===t?"ed25519":t)}),s)}(P,k,S,e,ce,h("created account"));i(n),U(!1),s()})))}),[m,k,f,pe,X,s,i,S,ce,P,h]);return(0,r.jsxs)(ie,ee({className:t,header:h("Add an account via seed {{step}}/{{STEPS_COUNT}}",{replace:{STEPS_COUNT:3,step:V}}),onClose:s,size:"large"},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsx)(o.u_.Columns,{children:(0,r.jsx)(o.mV,{defaultName:X,fullLength:!0,isEditableName:!1,noDefaultNameOpacity:!0,value:A&&C||null})}),1===V&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.u_.Columns,ee({hint:h("The secret seed value for this account. Ensure that you keep this in a safe place, with access to the seed you can re-create the account.")},{children:(0,r.jsxs)(o.Kx,ee({isError:!A,isReadOnly:"dev"===I,label:h("bip"===I?"mnemonic seed":"dev"===I?"development seed":v?"ethereum private key":"seed (hex or string)"),onChange:ge,seed:P,withLabel:!0},{children:[(0,r.jsx)(o.qi,{className:"copyMoved",type:"bip"===I?h("mnemonic"):"raw"===I?v?h("private key"):"seed":h("raw seed"),value:P}),(0,r.jsx)(o.Lt,{defaultValue:I,isButton:!0,onChange:be,options:fe.current})]}))})),(0,r.jsxs)(o.xH,ee({className:"accounts--Creator-advanced",isPadded:!0,summary:h("Advanced creation options")},{children:["ethereum"!==S&&(0,r.jsx)(o.u_.Columns,ee({hint:h("If you are moving accounts between applications, ensure that you use the correct type.")},{children:(0,r.jsx)(o.Lt,{defaultValue:S,label:h("keypair crypto type"),onChange:xe,options:v?x.X.availableCryptosEth:b?x.X.availableCryptosLedger:x.X.availableCryptos,tabIndex:-1})})),"ed25519-ledger"===S?(0,r.jsx)(K,{onChange:ve,seedType:I}):"ethereum"===S?(0,r.jsx)(_,{derivePath:k,deriveValidation:O,onChange:ve,seed:P,seedType:I}):(0,r.jsxs)(o.u_.Columns,ee({hint:h("The derivation path allows you to create different accounts from the same base mnemonic.")},{children:[(0,r.jsx)(o.II,{isDisabled:"raw"===I,isError:!!(null==O?void 0:O.error),label:h("secret derivation path"),onChange:ve,placeholder:h("raw"===I?"sr25519"===S?"//hard/soft":"//hard":"sr25519"===S?"//hard/soft///password":"//hard///password"),tabIndex:-1,value:k}),(null==O?void 0:O.error)&&(0,r.jsx)(o.oy,{content:me.current[O.error]||O.error}),(null==O?void 0:O.warning)&&(0,r.jsx)(o.Pd,{content:me.current[O.warning]})]}))]})),(0,r.jsxs)(o.u_.Columns,{children:[(0,r.jsx)($,{}),(0,r.jsx)("div",ee({className:"saveToggle"},{children:(0,r.jsx)(o.XZ,{label:(0,r.jsx)(r.Fragment,{children:h("I have saved my mnemonic seed safely")}),onChange:ye,value:D})}))]})]}),2===V&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(R,{name:{isNameValid:Y,name:X},onCommit:je,setName:te,setPassword:ue}),";",(0,r.jsx)(o.u_.Columns,{children:(0,r.jsx)($,{})})]}),3===V&&C&&(0,r.jsx)(L,{derivePath:k,isBusy:Z,pairType:"ed25519-ledger"===S?"ed25519":S,seed:P})]}),(0,r.jsxs)(o.u_.Actions,{children:[1===V&&(0,r.jsx)(o.zx,{activeOnEnter:!0,icon:"step-forward",isDisabled:!de,label:h("Next"),onClick:H}),2===V&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.zx,{icon:"step-backward",label:h("Prev"),onClick:W}),(0,r.jsx)(o.zx,{activeOnEnter:!0,icon:"step-forward",isDisabled:!he,label:h("Next"),onClick:H})]}),3===V&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.zx,{icon:"step-backward",label:h("Prev"),onClick:W}),(0,r.jsx)(o.zx,{activeOnEnter:!0,icon:"plus",isBusy:Z,label:h("Save"),onClick:je})]})]})]}))}));var ce,ue=t(56623),de=t(48731),he=function(){return he=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},he.apply(this,arguments)},pe=["application/json","text/plain"].join(", ");const me=a.memo((function(e){var n=e.className,t=void 0===n?"":n,s=e.onClose,i=e.onStatusChange,l=(0,M.$)().t,c=(0,u.h)(),d=c.api,h=c.isDevelopment,p=c.isEthereum,m=(0,a.useState)(!1),f=m[0],v=m[1],x=(0,a.useState)(null),b=x[0],y=x[1],j=(0,a.useState)(null),w=j[0],C=j[1],k=(0,a.useState)({isPassValid:!1,password:""}),O=k[0],A=O.isPassValid,S=O.password,P=k[1],I=(0,a.useMemo)((function(){return h?null:d.genesisHash.toHex()}),[d,h]),E=(0,a.useMemo)((function(){return(null==b?void 0:b.meta.genesisHash)&&b.meta.genesisHash!==I}),[I,b]),T=(0,a.useCallback)((function(e){return y(function(e,n,t,r){try{var a=g.Nn.createFromJson(JSON.parse((0,ue.z)(e)),{genesisHash:r});return t?(0,de.hu)("ethereum"===a.type,"JSON File does not contain an ethereum type key pair"):(0,de.hu)("ethereum"!==a.type,"JSON contains an ethereum keytype, this is not available on this network"),a}catch(e){console.error(e),n(e.message?e.message:e.toString())}return null}(e,C,p,I))}),[I,p]),z=(0,a.useCallback)((function(e){return P({isPassValid:g.Nn.isPassValid(e),password:e})}),[]),D=(0,a.useCallback)((function(){b&&(v(!0),(0,N.Y)((function(){var e={action:"restore"};try{g.Nn.addPair(b,S),e.status="success",e.account=b.address,e.message=l("account restored"),o.rp.setLastValue("account",b.address)}catch(n){P((function(e){return he(he({},e),{isPassValid:!1})})),e.status="error",e.message=n.message,console.error(n)}v(!1),i(e),"error"!==e.status&&s()})))}),[s,i,b,S,l]);return(0,r.jsxs)(o.u_,he({className:t,header:l("Add via backup file"),onClose:s,size:"large"},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsx)(o.u_.Columns,{children:(0,r.jsx)(o.mV,{defaultName:(null==b?void 0:b.meta.name)||null,noDefaultNameOpacity:!0,value:(null==b?void 0:b.address)||null})}),(0,r.jsx)(o.u_.Columns,he({hint:l("Supply a backed-up JSON file, encrypted with your account-specific password.")},{children:(0,r.jsx)(o.ht,{accept:pe,className:"full",isError:!b,label:l("backup file"),onChange:T,withLabel:!0})})),(0,r.jsx)(o.u_.Columns,he({hint:l("The password previously used to encrypt this account.")},{children:(0,r.jsx)(o.ro,{autoFocus:!0,className:"full",isError:!A,label:l("password"),onChange:z,onEnter:D,value:S})})),(0,r.jsxs)(o.u_.Columns,{children:[w&&(0,r.jsx)(o.oy,{content:w}),E&&(0,r.jsx)(o.Pd,{content:l('The network from which this account was originally generated is different than the network you are currently connected to. Once imported ensure you toggle the "allow on any network" option for the account to keep it visible on the current network.')}),(0,r.jsx)($,{})]})]}),(0,r.jsx)(o.u_.Actions,{children:(0,r.jsx)(o.zx,{icon:"sync",isBusy:f,isDisabled:!b||!A,label:l("Restore"),onClick:D})})]}))}));var fe=t(48801),ve=t.n(fe),ge=t(5122),xe=t(37146),be=t(11677);function ye(e,n,t){return n.reduce((function(e,n){return n===t||e.includes(n)||e.push(n),e}),e)}const je=(0,be.e)("useKnownAddresses",(function(e){var n=(0,xe.i)(),t=n.accounts.allAccounts,r=n.addresses.allAddresses;return(0,a.useMemo)((function(){return ye(ye([],t,e),r,e)}),[t,r,e])}));var we=function(){return we=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},we.apply(this,arguments)},Ce=new(ve())(2),ke=["application/json"].join(", "),Ne=(0,o.zo)(o.u_)(Ae||(Ae=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  .signaturesFileToggle {\n    width: 100%;\n    text-align: right;\n  }\n"],["\n  .signaturesFileToggle {\n    width: 100%;\n    text-align: right;\n  }\n"])));const Oe=a.memo((function(e){var n=e.className,t=void 0===n?"":n,s=e.onClose,i=e.onStatusChange,l=(0,u.h)(),c=l.api,d=l.isDevelopment,h=(0,M.$)().t,p=je(),m=(0,a.useState)({isNameValid:!1,name:""}),f=m[0],v=f.isNameValid,x=f.name,b=m[1],y=(0,a.useState)({isUploadedFileValid:!0,uploadedFileError:"",uploadedSignatories:[]}),j=y[0],w=j.isUploadedFileValid,C=j.uploadedFileError,k=j.uploadedSignatories,N=y[1],O=(0,a.useState)([""]),A=O[0],S=O[1],P=(0,a.useState)(!1),I=P[0],E=P[1],T=(0,a.useState)({isThresholdValid:!0,threshold:Ce}),z=T[0],D=z.isThresholdValid,F=z.threshold,B=T[1],R=(0,a.useCallback)((function(){var e={genesisHash:d?void 0:c.genesisHash.toString(),name:x.trim()},n=function(e,n,t,r){var a=t.genesisHash,s=t.name,o=t.tags,i=void 0===o?[]:o,l={action:"create"};try{var c=g.Nn.addMultisig(e,n,{genesisHash:a,name:s,tags:i}).pair.address;l.account=c,l.status="success",l.message=r}catch(e){l.status="error",l.message=e.message}return l}(A,F,e,h("created multisig"));i(n),s()}),[c.genesisHash,d,x,s,i,A,h,F]),V=(0,a.useCallback)((function(e){return b({isNameValid:e.trim().length>=3,name:e})}),[]),L=(0,a.useCallback)((function(e){return e&&B({isThresholdValid:e.gte(Ce)&&e.lten(A.length),threshold:e})}),[A]),H=(0,a.useCallback)((function(e){var n=function(e){var n,t="";try{n=JSON.parse((0,ue.z)(e)),(0,de.hu)(Array.isArray(n)&&!!n.length,"JSON file should contain an array of signatories"),n=n.filter((function(e){return(0,ge.Y)(e)})),n=function(e,n,t){if(t||2===arguments.length)for(var r,a=0,s=n.length;a<s;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))}([],new Set(n),!0),(0,de.hu)(n.length<=16,"Maximum you can have ".concat(16," signatories"))}catch(e){n=[],t=e.message?e.message:e.toString()}return{isUploadedFileValid:!t,uploadedFileError:t,uploadedSignatories:n}}(e);N(n),(n.isUploadedFileValid||k.length)&&S(n.uploadedSignatories.length?n.uploadedSignatories:[""])}),[k]),q=(0,a.useCallback)((function(){N({isUploadedFileValid:w,uploadedFileError:C,uploadedSignatories:[]})}),[C,w]),_=(0,a.useCallback)((function(e){q(),S(e)}),[q]),W=v&&D;return(0,r.jsxs)(Ne,we({className:t,header:h("Add multisig"),onClose:s,size:"large"},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsx)(o.u_.Columns,{children:(0,r.jsx)(o.ZD,{className:"signaturesFileToggle",label:h("Upload JSON file with signatories"),onChange:E,value:I})}),!I&&(0,r.jsx)(o.u_.Columns,we({hint:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:h("The signatories has the ability to create transactions using the multisig and approve transactions sent by others.Once the threshold is reached with approvals, the multisig transaction is enacted on-chain.")}),(0,r.jsx)("p",{children:h("Since the multisig function like any other account, once created it is available for selection anywhere accounts are used and needs to be funded before use.")})]})},{children:(0,r.jsx)(o.m3,{available:p,availableLabel:h("available signatories"),maxCount:16,onChange:_,valueLabel:h("selected signatories")})})),I&&(0,r.jsxs)(o.u_.Columns,we({hint:h("Supply a JSON file with the list of signatories.")},{children:[(0,r.jsx)(o.ht,{accept:ke,className:"full",clearContent:!k.length&&w,isError:!w,label:h("upload signatories list"),onChange:H,withLabel:!0}),!!k.length&&(0,r.jsx)(o.jN,we({label:h("found signatories"),labelExtra:(0,r.jsx)(o.JH,{icon:"sync",label:h("Reset"),onClick:q})},{children:(0,r.jsx)("div",we({className:"ui--Static ui dropdown selection"},{children:k.map((function(e){return(0,r.jsx)("div",{children:(0,r.jsx)(o.ax,{value:e,withSidebar:!1})},e)}))}))})),C&&(0,r.jsx)(o.oy,{content:C})]})),(0,r.jsx)(o.u_.Columns,we({hint:h("The threshold for approval should be less or equal to the number of signatories for this multisig.")},{children:(0,r.jsx)(o.Rn,{isError:!D,label:h("threshold"),onChange:L,value:F})})),(0,r.jsx)(o.u_.Columns,we({hint:h("The name is for unique identification of the account in your owner lists.")},{children:(0,r.jsx)(o.II,{autoFocus:!0,className:"full",isError:!v,label:h("name"),onChange:V,placeholder:h("multisig name")})}))]}),(0,r.jsx)(o.u_.Actions,{children:(0,r.jsx)(o.zx,{icon:"plus",isDisabled:!W,label:h("Create"),onClick:R})})]}))}));var Ae,Se=t(74065);function Pe(e,n,t,r){void 0===r&&(r=b.nw);var a=n.toString();return{address:a,delay:r,isOwned:e.includes(a),type:t}}const Ie=(0,be.e)("useProxies",(function(e){var n=(0,u.h)().api,t=(0,i.x)().allAccounts,r=(0,Se.X)(),s=(0,a.useState)(null),o=s[0],l=s[1];return(0,a.useEffect)((function(){l(null),e&&n.query.proxy&&n.query.proxy.proxies(e).then((function(e){var a=e[0],s=3===n.tx.proxy.addProxy.meta.args.length?a.map((function(e){var n=e.delay,r=e.delegate,a=e.proxyType;return Pe(t,r,a,n)})):a.map((function(e){var n=e[0],r=e[1];return Pe(t,n,r)})),o=s.filter((function(e){return e.isOwned}));r.current&&l({isEmpty:0===o.length,owned:o,proxies:s})})).catch(console.error)}),[t,n,e,r]),o}));var Ee=function(){return Ee=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Ee.apply(this,arguments)};const Me=a.memo((function(e){var n=e.className,t=void 0===n?"":n,s=e.onClose,i=e.onStatusChange,l=(0,u.h)(),c=l.api,d=l.isDevelopment,h=(0,M.$)().t,p=(0,a.useState)({isNameValid:!1,name:""}),m=p[0],f=m.isNameValid,v=m.name,x=p[1],b=(0,a.useState)(null),y=b[0],j=b[1],w=Ie(y),C=(0,a.useCallback)((function(){if(y){var e={genesisHash:d?void 0:c.genesisHash.toString(),name:v.trim()},n=function(e,n,t){var r=n.genesisHash,a=n.name,s=n.tags,o=void 0===s?[]:s,i={action:"create"};try{g.Nn.addExternal(e,{genesisHash:r,isProxied:!0,name:a,tags:o}),i.account=e,i.status="success",i.message=t}catch(e){i.status="error",i.message=e.message}return i}(y,e,h("added proxy"));i(n),s()}}),[c.genesisHash,d,v,s,i,y,h]),k=(0,a.useCallback)((function(e){return x({isNameValid:e.trim().length>=3,name:e})}),[]),N=f&&!!y&&w&&!w.isEmpty;return(0,r.jsxs)(o.u_,Ee({className:t,header:h("Add proxied account"),onClose:s,size:"large"},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsx)(o.u_.Columns,Ee({hint:h("The address that has previously setup a proxy to one of the accounts that you control.")},{children:(0,r.jsx)(o.bm,{autoFocus:!0,isError:!w||w.isEmpty,label:h("proxied account"),onChange:j,placeholder:h("address being proxied")})})),(0,r.jsx)(o.u_.Columns,Ee({hint:h("The name is for unique identification of the account in your owner lists.")},{children:(0,r.jsx)(o.II,{className:"full",isError:!f,label:h("name"),onChange:k,placeholder:h("proxied name")})}))]}),(0,r.jsx)(o.u_.Actions,{children:(0,r.jsx)(o.zx,{icon:"plus",isDisabled:!N,label:h("Add"),onClick:C})})]}))}));var Te=function(){return Te=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Te.apply(this,arguments)},ze=(0,o.zo)(o.u_)(Fe||(Fe=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  .qr-wrapper {\n    margin: 0 auto;\n    max-width: 30rem;\n  }\n"],["\n  .qr-wrapper {\n    margin: 0 auto;\n    max-width: 30rem;\n  }\n"])));const De=a.memo((function(e){var n=e.className,t=void 0===n?"":n,s=e.onClose,i=e.onStatusChange,c=(0,M.$)().t,d=(0,u.h)(),h=d.api,p=d.isEthereum,m=(0,l.g)().isIpfs,f=(0,a.useState)({isNameValid:!1,name:""}),v=f[0],x=v.isNameValid,b=v.name,y=f[1],j=(0,a.useState)({address:"",isAddress:!1,scanned:null}),w=j[0],C=w.address,k=w.isAddress,N=w.scanned,O=w.warning,A=j[1],S=(0,a.useState)({isPasswordValid:!1,password:""}),P=S[0],I=P.isPasswordValid,E=P.password,T=S[1],z=!!C&&x&&(k||I),D=(0,a.useMemo)((function(){return!!N&&!!N.genesisHash&&!h.genesisHash.eq(N.genesisHash)}),[N,h]),B=(0,a.useCallback)((function(e){return y({isNameValid:!!e.trim(),name:e})}),[]),R=(0,a.useCallback)((function(e,n){return T({isPasswordValid:n,password:e})}),[]),V=(0,a.useCallback)((function(e){A({address:e.isAddress?e.content:g.Nn.createFromUri(e.content,{},"sr25519").address,isAddress:e.isAddress,scanned:e}),e.name&&B(e.name)}),[B]),L=(0,a.useCallback)((function(e){A({address:"",isAddress:!1,scanned:null,warning:e.message})}),[]),H=(0,a.useCallback)((function(){if(N&&z){var e=N.content,n=N.isAddress,t={genesisHash:N.genesisHash||h.genesisHash.toHex(),name:b.trim()},r=n?p?g.Nn.addExternal(e).pair.address:g.Nn.addExternal(e,t).pair.address:g.Nn.addUri(e,E,t,"sr25519").pair.address;o.rp.setLastValue("account",r),i({account:r,action:"create",message:c("created account"),status:"success"}),s()}}),[h,z,b,s,i,E,N,p,c]);return(0,r.jsxs)(ze,Te({className:t,header:c("Add account via Qr"),onClose:s,size:"large"},{children:[(0,r.jsx)(o.u_.Content,{children:N?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.u_.Columns,{children:(0,r.jsx)(o.mV,{defaultName:b,noDefaultNameOpacity:!0,value:N.content})}),(0,r.jsxs)(o.u_.Columns,Te({hint:c("The local name for this account. Changing this does not affect your on-line identity, so this is only used to indicate the name of the account locally.")},{children:[(0,r.jsx)(o.II,{autoFocus:!0,className:"full",isError:!x,label:c("name"),onChange:B,onEnter:H,value:b}),D&&(0,r.jsx)(o.Pd,{content:c("The genesisHash for the scanned account does not match the genesisHash of the connected chain. The account will not be usable on this chain.")})]})),!k&&(0,r.jsx)(F,{onChange:R,onEnter:H})]}):(0,r.jsxs)(o.u_.Columns,Te({hint:c("Provide the account QR from the module/external application for scanning. Once detected as valid, you will be taken to the next step to add the account to your list.")},{children:[(0,r.jsx)("div",Te({className:"qr-wrapper"},{children:(0,r.jsx)(o.CU,{isEthereum:p,onError:L,onScan:V})})),O&&(0,r.jsx)(o.Pd,{content:O})]}))}),(0,r.jsx)(o.u_.Actions,{children:(0,r.jsx)(o.zx,{icon:"plus",isDisabled:!N||!z||!k&&m,label:c("Save"),onClick:H})})]}))}));var Fe,Be=t(15336),Re=t(86135),Ve=t(54383),Le=t(83696),He=t(78627),qe=t(9118),_e=t(37198),We=t(14681),Ge=t(92730),Ze=t(46782),Ue=t.n(Ze),Je=function(){return Je=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Je.apply(this,arguments)};const Qe=a.memo((function(e){var n=e.address,t=e.onClose,s=(0,M.$)().t,i=(0,a.useState)(!1),l=i[0],c=i[1],u=(0,a.useState)({isPassTouched:!1,password:""}),d=u[0],h=d.isPassTouched,p=d.password,m=u[1],f=(0,a.useState)(!1),v=f[0],x=f[1],b=!v&&g.Nn.isPassValid(p),y=(0,a.useCallback)((function(e){x(!1),m({isPassTouched:!0,password:e})}),[]),j=(0,a.useCallback)((function(){c(!0),(0,N.Y)((function(){try{var e=n&&g.Nn.getPair(n),r=e&&g.Nn.backupAccount(e,p),a=new Blob([JSON.stringify(r)],{type:"application/json; charset=utf-8"});Ue().saveAs(a,"".concat(n,".json"))}catch(e){return x(!0),c(!1),void console.error(e)}c(!1),t()}))}),[n,t,p]);return(0,r.jsxs)(o.u_,Je({className:"app--accounts-Modal",header:s("Backup account"),onClose:t},{children:[(0,r.jsx)(o.u_.Content,{children:(0,r.jsxs)(o.mV,Je({isInline:!0,value:n},{children:[(0,r.jsx)("p",{children:s('An encrypted backup file will be created once you have pressed the "Download" button. This can be used to re-import your account on any other machine.')}),(0,r.jsx)("p",{children:s("Save this backup file in a secure location. Additionally, the password associated with this account is needed together with this backup file in order to restore your account.")}),(0,r.jsx)("div",{children:(0,r.jsx)(o.ro,{autoFocus:!0,isError:h&&!b,label:s("password"),onChange:y,onEnter:j,tabIndex:0,value:p})})]}))}),(0,r.jsx)(o.u_.Actions,{children:(0,r.jsx)(o.zx,{icon:"download",isBusy:l,isDisabled:!b,label:s("Download"),onClick:j})})]}))}));var Ye=function(){return Ye=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Ye.apply(this,arguments)};const Ke=a.memo((function(e){var n=e.address,t=e.className,s=void 0===t?"":t,i=e.onClose,l=(0,M.$)().t,c=(0,a.useState)(!1),u=c[0],d=c[1],h=(0,a.useState)({isValid:!1,password:""}),p=h[0],m=h[1],f=(0,a.useState)({isValid:!1,password:""}),v=f[0],x=f[1],b=(0,a.useState)({isOldValid:!1,oldPass:""}),y=b[0],j=y.isOldValid,w=y.oldPass,C=b[1],k=(0,a.useCallback)((function(e){return m({isValid:g.Nn.isPassValid(e),password:e})}),[]),O=(0,a.useCallback)((function(e){return x({isValid:g.Nn.isPassValid(e)&&p.password===e,password:e})}),[p]),A=(0,a.useCallback)((function(e){return C({isOldValid:g.Nn.isPassValid(e),oldPass:e})}),[]),S=(0,a.useCallback)((function(){var e=n&&g.Nn.getPair(n);e&&(d(!0),(0,N.Y)((function(){try{e.isLocked||e.lock(),e.decodePkcs8(w)}catch(e){return C((function(e){return Ye(Ye({},e),{isOldValid:!1})})),void d(!1)}try{g.Nn.encryptAccount(e,p.password)}catch(e){return x((function(e){return Ye(Ye({},e),{isValid:!1})})),void d(!1)}d(!1),i()})))}),[n,p,w,i]);return(0,r.jsxs)(o.u_,Ye({className:"".concat(s," app--accounts-Modal"),header:l("Change account password"),onClose:i,size:"large"},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsx)(o.mV,{isInline:!0,value:n}),(0,r.jsx)(o.u_.Columns,Ye({hint:l("The existing account password as specified when this account was created or when it was last changed.")},{children:(0,r.jsx)(o.ro,{autoFocus:!0,isError:!j,label:l("your current password"),onChange:A,tabIndex:1,value:w})})),(0,r.jsxs)(o.u_.Columns,Ye({hint:l("This will apply to any future use of this account as stored on this browser. Ensure that you securely store this new password and that it is strong and unique to the account.")},{children:[(0,r.jsx)(o.ro,{isError:!p.isValid,label:l("your new password"),onChange:k,onEnter:S,tabIndex:2,value:p.password}),(0,r.jsx)(o.ro,{isError:!v.isValid,label:l("password (repeat)"),onChange:O,onEnter:S,tabIndex:2,value:v.password}),(0,r.jsx)(o.YV,{value:p.password})]}))]}),(0,r.jsx)(o.u_.Actions,{children:(0,r.jsx)(o.zx,{icon:"sign-in-alt",isBusy:u,isDisabled:!p.isValid||!v.isValid||!j,label:l("Change"),onClick:S})})]}))}));var Xe=t(36609);const $e=a.memo((function(e){var n,t=e.amount,s=e.delegatingAccount,i=e.onError,l=(0,M.$)().t,c=(0,u.h)().api,d=(0,qe.W7)(null===(n=c.derive.balances)||void 0===n?void 0:n.all,[s]),h=(0,a.useState)({error:null,warning:null}),p=h[0],m=p.error,f=p.warning,v=h[1];return(0,a.useEffect)((function(){if((null==d?void 0:d.freeBalance)&&(null==t?void 0:t.gt(b.nw))){var e=null;t.gte(d.freeBalance)&&(e=l("The maximum amount you can delegate is the amount of funds available on the delegating account.")),v((function(n){var t=n.error!==e?e:n.error,r=n.warning;return i(t||r?{error:t,warning:r}:null),{error:t,warning:r}}))}}),[c,i,t,l,d]),m?(0,r.jsx)(o.oy,{content:m}):f?(0,r.jsx)(o.Pd,{content:f}):null}));var en=function(){return en=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},en.apply(this,arguments)};const nn=a.memo((function(e){var n=e.onClose,t=e.previousAmount,s=e.previousConviction,i=e.previousDelegatedAccount,l=e.previousDelegatingAccount,c=(0,M.$)().t,d=(0,u.h)().api,h=(0,a.useState)(null),p=h[0],m=h[1],f=(0,a.useState)()[0],v=(0,a.useState)(t),g=v[0],x=v[1],y=(0,a.useState)(l||null),j=y[0],w=y[1],C=(0,a.useState)(i||null),k=C[0],N=C[1],O=void 0===s?0:s.toNumber(),A=(0,a.useState)(O),S=A[0],P=A[1],I=(null==g?void 0:g.toString())!==(null==t?void 0:t.toString())||k!==i||j!==l||S!==(null==s?void 0:s.toNumber());return(0,r.jsxs)(o.u_,en({className:"staking--Delegate",header:c(i?"democracy vote delegation":"delegate democracy vote"),onClose:n,size:"large"},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsxs)(o.u_.Columns,en({hint:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:c("Any democracy vote performed by the delegated account will result in an additional vote from the delegating account")}),(0,r.jsx)("p",{children:c("If the delegated account is currently voting in a referendum, the delegating vote and conviction will be added.")})]})},{children:[(0,r.jsx)(o.rp,{label:c("delegating account"),onChange:w,type:"account",value:j}),(0,r.jsx)(o.rp,{label:c("delegated account"),onChange:N,type:"account",value:k})]})),(0,r.jsxs)(o.u_.Columns,en({hint:c("The amount to allocate and the conviction that will be applied to all votes made on a referendum.")},{children:[(0,r.jsx)(o.H,{autoFocus:!0,isError:!!(null==p?void 0:p.error),isZeroable:!1,label:c("delegating amount"),labelExtra:(0,r.jsx)(Xe.Z,{label:(0,r.jsx)("span",en({className:"label"},{children:c("balance")})),params:j}),maxValue:f,onChange:x,value:g}),(0,r.jsx)($e,{amount:g,delegatingAccount:j,onError:m}),(0,r.jsx)(o.v,{label:c("conviction"),onChange:P,value:S,voteLockingPeriod:d.consts.democracy.voteLockingPeriod||d.consts.democracy.enactmentPeriod})]}))]}),(0,r.jsxs)(o.u_.Actions,{children:[i&&(0,r.jsx)(o.cA,{accountId:j,icon:"trash-alt",label:c("Undelegate"),onStart:n,tx:d.tx.democracy.undelegate}),(0,r.jsx)(o.cA,{accountId:j,icon:"sign-in-alt",isDisabled:!(null==g?void 0:g.gt(b.nw))||!!(null==p?void 0:p.error)||!I,label:c(i?"Save delegation":"Delegate"),onStart:n,params:[k,S,g],tx:d.tx.democracy.delegate})]})]}))}));var tn=t(27421),rn=t(55736),an=function(){return an=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},an.apply(this,arguments)};const sn=a.memo((function(e){var n=e.className,t=void 0===n?"":n,s=e.from,i=e.onClose,l=(0,M.$)().t,c=(0,u.h)(),d=c.api,p=c.isDevelopment,m=(0,Re.L)().queueAction,f=(0,a.useState)((function(){return g.Nn.getPair(s)}))[0],v=(0,a.useState)(!1),x=v[0],b=v[1],y=(0,a.useState)({isNameValid:!1,name:""}),j=y[0],w=j.isNameValid,C=j.name,k=y[1],O=(0,a.useState)({isPasswordValid:!1,password:""}),A=O[0],S=A.isPasswordValid,P=A.password,I=O[1],E=(0,a.useState)({address:null,deriveError:null}),z=E[0],D=z.address,F=z.deriveError,B=E[1],V=(0,h.O)(),H=V[0],q=V[1],_=(0,a.useState)({isLocked:f.isLocked,lockedError:null}),W=_[0],G=W.isLocked,Z=W.lockedError,U=_[1],J=(0,a.useState)({isRootValid:!1,rootPass:""}),Q=J[0],Y=Q.isRootValid,K=Q.rootPass,X=J[1],$=(0,a.useState)(""),ee=$[0],ne=$[1],te=(0,tn.N)(ee),re=!!D&&!F&&w&&S;(0,a.useEffect)((function(){U({isLocked:f.isLocked,lockedError:null})}),[f]),(0,a.useEffect)((function(){!G&&B((function(){var e=null,n=function(e,n){if(e.includes("///"))return"Password paths are not supported on keys derived from others";try{var t=(0,rn.c)(e).path;if("ed25519"===n&&t.some((function(e){return e.isSoft})))return"Soft derivation paths are not allowed on ed25519"}catch(e){return console.error(e),e.message}return null}(te,f.type);return n||(e=f.derive(te).address),{address:e,deriveError:n}}))}),[te,G,f]);var ae=(0,a.useCallback)((function(e){X({isRootValid:!!e,rootPass:e}),U((function(e){return{isLocked:e.isLocked,lockedError:null}}))}),[]),se=(0,a.useCallback)((function(){b(!0),(0,N.Y)((function(){try{f.decodePkcs8(K),U({isLocked:f.isLocked,lockedError:null})}catch(e){console.error(e),U({isLocked:!0,lockedError:e.message})}b(!1)}))}),[K,f]),oe=(0,a.useCallback)((function(){re&&(b(!0),(0,N.Y)((function(){var e=function(e,n,t,r,a,s){return(0,T.ol)((function(){var a=e.derive(n);return a.setMeta(an(an({},a.meta),{genesisHash:s,name:t,parentAddress:e.address,tags:[]})),g.Nn.addPair(a,r||"")}),a)}(f,ee,C,P,l("created account"),p?void 0:d.genesisHash.toString());m(e),b(!1),i()})))}),[d,p,re,C,i,P,m,f,ee,l]),ie=(0,r.jsx)(o.rp,{isDisabled:!0,label:l("derive root account"),value:s});return(0,r.jsxs)(o.u_,an({className:t,header:l("Derive account from pair"),onClose:i},{children:[D&&H?(0,r.jsx)(L,{address:D,derivePath:ee,isBusy:x,name:C,pairType:f.type}):(0,r.jsxs)(o.u_.Content,{children:[G&&(0,r.jsxs)(r.Fragment,{children:[ie,(0,r.jsx)(o.ro,{autoFocus:!0,isError:!!Z,label:l("password"),onChange:ae,value:K})]}),!G&&(0,r.jsxs)(o.mV,an({defaultName:C,noDefaultNameOpacity:!0,value:F?"":D},{children:[ie,(0,r.jsx)(o.II,{autoFocus:!0,label:l("derivation path"),onChange:ne,placeholder:l("//hard/soft")}),F&&(0,r.jsx)(o.oy,{content:F}),(0,r.jsx)(R,{name:{isNameValid:w,name:C},onCommit:oe,setName:k,setPassword:I}),";"]}))]}),(0,r.jsx)(o.u_.Actions,{children:G?(0,r.jsx)(o.zx,{icon:"lock",isBusy:x,isDisabled:!Y,label:l("Unlock"),onClick:se}):H?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.zx,{icon:"step-backward",label:l("Prev"),onClick:q}),(0,r.jsx)(o.zx,{icon:"plus",isBusy:x,label:l("Save"),onClick:oe})]}):(0,r.jsx)(o.zx,{icon:"step-forward",isDisabled:!re,label:l("Next"),onClick:q})})]}))}));var on=function(){return on=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},on.apply(this,arguments)},ln=[" ","\t"];function cn(e,n,t){e.isRaw&&(n&&n(!0),t((0,ue.z)(e.asRaw.toU8a(!0))))}function un(e,n,t,r,a,s,o,i){return void 0===o&&(o=ln),void 0===i&&(i=ln),!e||!!n&&n.length>=t&&r.reduce((function(e,t){return e&&n.includes(t)}),!0)&&(!s.length||s.some((function(e){return n.startsWith(e)})))&&!a.some((function(e){return n.includes(e)}))&&!o.some((function(e){return n.startsWith(e)}))&&!i.some((function(e){return n.endsWith(e)}))}const dn=a.memo((function(e){var n,t=e.address,s=e.className,i=void 0===s?"":s,l=e.onClose,d=(0,M.$)().t,h=(0,u.h)().api,p=(0,qe.W7)(h.query.identity.identityOf,[t]),m=(0,a.useState)({info:{},okAll:!1}),f=m[0],v=f.info,g=f.okAll,x=f.okDisplay,b=f.okEmail,y=f.okLegal,j=f.okRiot,w=f.okTwitter,C=f.okWeb,k=m[1],N=(0,a.useState)(!1),O=N[0],A=N[1],S=(0,a.useState)(!1),P=S[0],I=S[1],E=(0,a.useState)(!1),T=E[0],z=E[1],D=(0,a.useState)(!1),F=D[0],B=D[1],R=(0,a.useState)(!1),V=R[0],L=R[1],H=(0,a.useState)((function(){return((0,c.Ly)(t).name||"").replace(/\(.*\)/,"").trim()})),q=H[0],_=H[1],W=(0,a.useState)(""),G=W[0],Z=W[1],U=(0,a.useState)(""),J=U[0],Q=U[1],Y=(0,a.useState)(""),K=Y[0],X=Y[1],$=(0,a.useState)(""),ee=$[0],ne=$[1],te=(0,a.useState)(""),re=te[0],ae=te[1],se=(0,a.useState)(!1),oe=se[0],ie=se[1];return(0,a.useEffect)((function(){if(p&&p.isSome){var e=p.unwrap().info;cn(e.display,null,_),cn(e.email,A,Z),cn(e.legal,I,Q),cn(e.riot,z,X),cn(e.twitter,B,ne),cn(e.web,L,ae),[e.display,e.email,e.legal,e.riot,e.twitter,e.web].some((function(e){return!!e.isRaw&&(ie(!0),!0)}))}}),[p]),(0,a.useEffect)((function(){var e,n,t,r,a,s,o=un(!0,q,1,[],[],[]),i=un(O,G,3,["@"],ln,[]),l=un(P,J,1,[],[],[]),c=un(T,K,6,[":"],ln,["@","~"]),u=un(F,ee,3,[],ln,["@"]),d=un(V,re,8,["."],ln,["https://","http://"]);k({info:{display:(e={},e[o?"raw":"none"]=q||null,e),email:(n={},n[i&&O?"raw":"none"]=i&&O?G:null,n),legal:(t={},t[l&&P?"raw":"none"]=l&&P?J:null,t),riot:(r={},r[c&&T?"raw":"none"]=c&&T?K:null,r),twitter:(a={},a[u&&F?"raw":"none"]=u&&F?ee:null,a),web:(s={},s[d&&V?"raw":"none"]=d&&V?re:null,s)},okAll:o&&i&&l&&c&&u&&d,okDisplay:o,okEmail:i,okLegal:l,okRiot:c,okTwitter:u,okWeb:d})}),[O,P,T,F,V,q,G,J,K,ee,re]),(0,r.jsxs)(o.u_,on({className:i,header:d("Register identity"),onClose:l},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsx)(o.II,{autoFocus:!0,isError:!x,label:d("display name"),maxLength:32,onChange:_,placeholder:d("My On-Chain Name"),value:q}),(0,r.jsx)(o.II,{isDisabled:!P,isError:!y,label:d("legal name"),labelExtra:(0,r.jsx)(o.ZD,{label:d("include field"),onChange:I,value:P}),maxLength:32,onChange:Q,placeholder:d("Full Legal Name"),value:P?J:"<none>"}),(0,r.jsx)(o.II,{isDisabled:!O,isError:!b,label:d("email"),labelExtra:(0,r.jsx)(o.ZD,{label:d("include field"),onChange:A,value:O}),maxLength:32,onChange:Z,placeholder:d("somebody@example.com"),value:O?G:"<none>"}),(0,r.jsx)(o.II,{isDisabled:!V,isError:!C,label:d("web"),labelExtra:(0,r.jsx)(o.ZD,{label:d("include field"),onChange:L,value:V}),maxLength:32,onChange:ae,placeholder:d("https://example.com"),value:V?re:"<none>"}),(0,r.jsx)(o.II,{isDisabled:!F,isError:!w,label:d("twitter"),labelExtra:(0,r.jsx)(o.ZD,{label:d("include field"),onChange:B,value:F}),onChange:ne,placeholder:d("@YourTwitterName"),value:F?ee:"<none>"}),(0,r.jsx)(o.II,{isDisabled:!T,isError:!j,label:d("riot name"),labelExtra:(0,r.jsx)(o.ZD,{label:d("include field"),onChange:z,value:T}),maxLength:32,onChange:X,placeholder:d("@yourname:matrix.org"),value:T?K:"<none>"}),(0,r.jsx)(o.H,{defaultValue:null===(n=h.consts.identity)||void 0===n?void 0:n.basicDeposit,isDisabled:!0,label:d("total deposit")})]}),(0,r.jsxs)(o.u_.Actions,{children:[(0,r.jsx)(o.cA,{accountId:t,icon:"trash-alt",isDisabled:!oe,label:d("Clear Identity"),onStart:l,tx:h.tx.identity.clearIdentity}),(0,r.jsx)(o.cA,{accountId:t,isDisabled:!g,label:d("Set Identity"),onStart:l,params:[v],tx:h.tx.identity.setIdentity})]})]}))}));var hn=t(19008),pn=function(){return pn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},pn.apply(this,arguments)},mn=a.memo((function(e){var n=e.address,t=e.index,s=e.name,i=e.setAddress,l=e.setName,c=e.t,u=(0,a.useCallback)((function(e){return i(t,e||"")}),[t,i]),d=(0,a.useCallback)((function(e){return l(t,e||"")}),[t,l]);return(0,r.jsxs)(o.P0,{children:[(0,r.jsx)(o.P0.Column,{children:(0,r.jsx)(o.rp,{defaultValue:n,label:c("address {{index}}",{replace:{index:t+1}}),onChange:u})}),(0,r.jsx)(o.P0.Column,{children:(0,r.jsx)(o.II,{defaultValue:s,isError:!s,isFull:!0,label:c("sub name"),onChange:d})})]})})),fn={withParams:!0};const vn=a.memo((function(e){var n=e.address,t=e.className,s=e.onClose,l=(0,M.$)().t,c=(0,u.h)().api,d=(0,i.x)().allAccounts,h=(0,hn.x)(n),p=(0,qe.W7)(h&&0!==h.length&&c.query.identity.superOf.multi,[h],fn),m=(0,a.useState)(),f=m[0],v=m[1];(0,a.useEffect)((function(){p?v(function(e){var n=e[0][0],t=e[1];return n.reduce((function(e,n,r){var a=t[r];if(a.isSome){var s=a.unwrap()[1];s.isRaw&&e.push([n,(0,ue.z)(s.asRaw)])}return e}),[])}(p)):h&&!h.length&&v([])}),[d,h,p]);var g=(0,a.useCallback)((function(){return v((function(e){return e&&e.concat([[d[0],""]])}))}),[d]),x=(0,a.useCallback)((function(){return v((function(e){return e&&e.slice(0,e.length-1)}))}),[]),b=(0,a.useCallback)((function(e,n){return v((function(t){return(t||[]).map((function(t,r){var a=t[0],s=t[1];return[e===r?n:a,s]}))}))}),[]),y=(0,a.useCallback)((function(e,n){return v((function(t){return(t||[]).map((function(t,r){var a=t[0],s=t[1];return[a,e===r?n:s]}))}))}),[]);return(0,r.jsxs)(o.u_,pn({className:t,header:l("Register sub-identities"),onClose:s,size:"large"},{children:[(0,r.jsx)(o.u_.Content,{children:f?(0,r.jsxs)("div",{children:[f.length?f.map((function(e,n){var t=e[0],a=e[1];return(0,r.jsx)(mn,{address:t,index:n,name:a,setAddress:b,setName:y,t:l},n)})):(0,r.jsx)("article",{children:l("No sub identities set.")}),(0,r.jsxs)(o.zx.Group,{children:[(0,r.jsx)(o.zx,{icon:"plus",label:l("Add sub"),onClick:g}),(0,r.jsx)(o.zx,{icon:"minus",isDisabled:0===f.length,label:l("Remove sub"),onClick:x})]})]}):(0,r.jsx)(o.$j,{label:l("Retrieving sub-identities")})}),(0,r.jsx)(o.u_.Actions,{children:f&&(0,r.jsx)(o.cA,{accountId:n,isDisabled:f.some((function(e){var n=e[0],t=e[1];return!n||!t})),label:l("Set Subs"),onStart:s,params:[f.map((function(e){return[e[0],{raw:e[1]}]}))],tx:c.tx.identity.setSubs})})]}))}));var gn=t(56949),xn=function(){return xn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},xn.apply(this,arguments)},bn={callData:null,callError:null,callInfo:null},yn=(0,o.zo)(o.u_)(wn||(wn=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  .tipToggle {\n    width: 100%;\n    text-align: right;\n  }\n"],["\n  .tipToggle {\n    width: 100%;\n    text-align: right;\n  }\n"])));const jn=a.memo((function(e){var n=e.className,t=void 0===n?"":n,s=e.onClose,l=e.ongoing,c=e.threshold,d=e.who,h=(0,M.$)().t,p=(0,u.h)().api,m=(0,i.x)().allAccounts,f=(0,a.useState)(""),v=f[0],g=f[1],x=(0,a.useState)(bn),b=x[0],y=b.callData,j=b.callError,w=b.callInfo,C=x[1],N=(0,gn.h7)(y),O=N.encodedCallLength,A=N.weight,S=(0,a.useState)((function(){return l[0][0].toHex()})),P=S[0],I=S[1],E=(0,a.useState)((function(){return{isMultiCall:!1,multisig:null}})),T=E[0],z=T.isMultiCall,D=T.multisig,F=E[1],B=(0,a.useState)(!0),R=B[0],V=B[1],L=(0,a.useState)([]),H=L[0],q=L[1],_=(0,a.useState)(null),W=_[0],G=_[1],Z=(0,a.useState)([]),U=Z[0],J=Z[1],Q=(0,a.useState)("aye"),Y=Q[0],K=Q[1],X=(0,a.useState)(null),$=X[0],ee=X[1],ne=(0,a.useRef)([{text:h("Approve this call hash"),value:"aye"},{text:h("Cancel this call hash"),value:"nay"}]),te=(0,a.useMemo)((function(){return l.map((function(e){var n=e[0];return{text:n.toHex(),value:n.toHex()}}))}),[l]);(0,a.useEffect)((function(){var e=(l.find((function(e){return e[0].eq(P)}))||[null,null])[1];F({isMultiCall:!!e&&e.approvals.length+1>=c,multisig:e}),C(bn)}),[P,l,c]),(0,a.useEffect)((function(){q(d.map((function(e){return p.createType("AccountId",e)})).filter((function(e){return!e.eq(W)})))}),[p,W,d]),(0,a.useEffect)((function(){var e=D&&D.approvals.length>=c;J(d.map((function(e){return p.createType("AccountId",e).toString()})).filter((function(n){return m.some((function(e){return e===n}))&&D&&("nay"===Y?D.depositor.eq(n):e||!D.approvals.some((function(e){return e.eq(n)})))})))}),[p,m,D,c,Y,d]),(0,a.useEffect)((function(){if(v)try{(0,de.hu)((0,k.vq)(v),"Hex call data required");var e=p.createType("Call",v);(0,de.hu)(e.hash.eq(P),"Call data does not match the existing call hash");var n=p.registry.findMetaCall(e.callIndex);C({callData:e,callError:null,callInfo:n})}catch(e){C({callData:null,callError:e.message,callInfo:null})}else C(bn)}),[p,v,P]),(0,a.useEffect)((function(){var e=p.tx.multisig||p.tx.utility;ee((function(){return P&&D?"aye"===Y?z&&R?y?5===e.asMulti.meta.args.length?e.asMulti(c,H,D.when,y.toHex(),A):6===e.asMulti.meta.args.length?e.asMulti(c,H,D.when,y.toHex(),!1,A):e.asMulti(c,H,D.when,y):null:5===e.approveAsMulti.meta.args.length?e.approveAsMulti(c,H,D.when,P,A):e.approveAsMulti(c,H,D.when,P):e.cancelAsMulti(c,H,D.when,P):null}))}),[p,y,P,R,z,H,D,c,Y,A]);var re="aye"===Y;return(0,r.jsxs)(yn,xn({className:t,header:h("Pending call hashes"),onClose:s,size:"large"},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsx)(o.u_.Columns,xn({hint:h("The call hash from the list of available and unapproved calls.")},{children:(0,r.jsx)(o.Lt,{label:h("pending hashes {{count}}",{replace:{count:te.length}}),onChange:I,options:te,value:P})})),D&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.u_.Columns,xn({hint:h("The creator for this multisig call")},{children:(0,r.jsx)(o.rp,{defaultValue:D.depositor,isDisabled:!0,label:h("depositor")})})),(0,r.jsx)(o.u_.Columns,xn({hint:h("The current approvals applied to this multisig")},{children:(0,r.jsx)(o.xH,xn({isPadded:!0,summary:h("Existing approvals ({{approvals}}/{{threshold}})",{replace:{approvals:D.approvals.length,threshold:c}})},{children:D.approvals.map((function(e){return(0,r.jsx)(o.ax,{isPadded:!1,value:e},de.hu.toString())}))}))}))]}),(0,r.jsx)(o.u_.Columns,xn({hint:h("The operation type to apply. For approvals both non-final and final approvals are supported.")},{children:(0,r.jsx)(o.Lt,{label:h("approval type"),onChange:K,options:ne.current,value:Y})})),0!==U.length&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.u_.Columns,xn({hint:h("For approvals outstanding approvers will be shown, for hashes that should be cancelled the first approver is required.")},{children:(0,r.jsx)(o.rp,{filter:U,label:h("signatory"),onChange:G})})),"aye"===Y&&z&&(0,r.jsxs)(r.Fragment,{children:[R&&(0,r.jsxs)(o.u_.Columns,xn({hint:h("The call data for this transaction matching the hash. Once sent, the multisig will be executed against this.")},{children:[y&&w?(0,r.jsx)(o.xH,xn({isPadded:!0,summary:"".concat(w.section,".").concat(w.method),summaryMeta:w.meta},{children:(0,r.jsx)(o.Ig,{className:"details",value:y})})):(0,r.jsx)(o.II,{autoFocus:!0,isError:!v||!!j,label:h("call data for final approval"),onChange:g}),j&&(0,r.jsx)(o.oy,{content:j})]})),(0,r.jsx)(o.u_.Columns,xn({hint:h("Swap to a non-executing approval type, with subsequent calls providing the actual call data.")},{children:(0,r.jsx)(o.ZD,{className:"tipToggle",label:h(z?"Multisig message with call (for final approval)":"Multisig approval with hash (non-final approval)"),onChange:V,value:R})}))]})]})]}),(0,r.jsx)(o.u_.Actions,{children:(0,r.jsx)(o.cA,{accountId:W,extrinsic:$,icon:re?"check":"times",isDisabled:!$||re&&(!U.length||!!y&&!O),label:re?"Approve":"Reject",onStart:s})})]}))}));var wn,Cn=t(79760),kn=function(){return kn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},kn.apply(this,arguments)},Nn=function(e,n,t){if(t||2===arguments.length)for(var r,a=0,s=n.length;a<s;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))},On={type:"all"},An=[[],b.nw];function Sn(e,n,t,r){return void 0===r&&(r=0),2===e.tx.proxy.removeProxy.meta.args.length?e.tx.proxy.removeProxy(n,t):e.tx.proxy.removeProxy(n,t,r)}function Pn(e){var n=e.index,t=e.onRemove,s=e.typeOpts,i=e.value,l=i[0],c=i[1],u=(0,M.$)().t,d=(0,a.useCallback)((function(){l&&t(l,c,n)}),[l,n,t,c]);return(0,r.jsxs)("div",kn({className:"proxy-container"},{children:[(0,r.jsxs)("div",kn({className:"input-column"},{children:[(0,r.jsx)(o.rp,{defaultValue:l,isDisabled:!0,label:u("proxy account")}),(0,r.jsx)(o.Lt,{isDisabled:!0,label:"type",options:s,value:c.toNumber()})]})),(0,r.jsx)("div",kn({className:"buttons-column"},{children:(0,r.jsx)(o.zx,{icon:"times",onClick:d})}))]}))}function In(e){var n=e.index,t=e.onChangeAccount,s=e.onChangeType,i=e.onRemove,l=e.proxiedAccount,c=e.typeOpts,u=e.value,d=u[0],h=u[1],p=(0,M.$)().t,m=(0,a.useCallback)((function(e){return t(n,e)}),[n,t]),f=(0,a.useCallback)((function(e){return s(n,e)}),[n,s]),v=(0,a.useCallback)((function(){return i(n)}),[n,i]);return(0,r.jsxs)("div",kn({className:"proxy-container"},{children:[(0,r.jsxs)("div",kn({className:"input-column"},{children:[(0,r.jsx)(o.rp,{isError:!d,label:p("proxy account"),onChange:m,type:"account",value:d}),d&&d.eq(l)&&(0,r.jsx)(o.oy,{content:p("You should not setup proxies to act as a self-proxy.")}),(0,r.jsx)(o.Lt,{label:"type",onChange:f,options:c,value:h.toNumber()})]})),(0,r.jsx)("div",kn({className:"buttons-column"},{children:(0,r.jsx)(o.zx,{icon:"times",onClick:v})}))]}),"addedProxy-".concat(n))}function En(e,n){void 0===n&&(n=0);var t=e.registry.lookup.names.filter((function(e){return e.endsWith("RuntimeProxyType")}));return e.createType(t.length?t[0]:"ProxyType",n)}var Mn=(0,o.zo)(o.u_)(zn||(zn=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  .proxy-container {\n    display: grid;\n    grid-column-gap: 0.5rem;\n    grid-template-columns: minmax(0, 1fr) auto;\n    margin-bottom: 1rem;\n\n    .input-column {\n      grid-column: 1;\n    }\n\n    .buttons-column {\n      grid-column: 2;\n      padding-top: 0.3rem;\n    }\n  }\n"],["\n  .proxy-container {\n    display: grid;\n    grid-column-gap: 0.5rem;\n    grid-template-columns: minmax(0, 1fr) auto;\n    margin-bottom: 1rem;\n\n    .input-column {\n      grid-column: 1;\n    }\n\n    .buttons-column {\n      grid-column: 2;\n      padding-top: 0.3rem;\n    }\n  }\n"])));const Tn=a.memo((function(e){var n=e.className,t=e.onClose,s=e.previousProxy,i=(void 0===s?An:s)[0],l=e.proxiedAccount,c=(0,M.$)().t,d=(0,u.h)().api,h=(0,a.useState)([]),p=h[0],m=h[1],f=(0,a.useState)([]),v=f[0],g=f[1],x=(0,a.useState)(null),b=x[0],y=x[1],j=(0,a.useState)((function(){return i.map((function(e){return[e.delegate,e.proxyType]}))})),w=j[0],C=j[1],k=(0,a.useState)([]),N=k[0],O=k[1],A=(0,Cn.b)(b,On),S=(0,a.useMemo)((function(){return d.consts.proxy.proxyDepositFactor.muln(p.length+v.length).iadd(d.consts.proxy.proxyDepositBase)}),[d,p,v]),P=(0,a.useRef)(function(e){return En(e).defKeys.map((function(e,n){return{text:e,value:n}})).filter((function(e){return!e.text.startsWith("__Unused")}))}(d));(0,a.useEffect)((function(){g(N.filter((function(e){return!!e[0]})).map((function(e){var n=e[0],t=e[1];return function(e,n,t,r){return void 0===r&&(r=0),2===e.tx.proxy.addProxy.meta.args.length?e.tx.proxy.addProxy(n,t):e.tx.proxy.addProxy(n,t,r)}(d,n,t)})))}),[d,N]),(0,a.useEffect)((function(){y((function(){return Nn(Nn([],p,!0),v,!0)}))}),[p,v]);var I=(0,a.useCallback)((function(){return O((function(e){return Nn(Nn([],e,!0),[[e.length?e[e.length-1][0]:w.length?w[w.length-1][0]:d.createType("AccountId",l),En(d)]],!1)}))}),[d,w,l]),E=(0,a.useCallback)((function(e){return O((function(n){return n.filter((function(n,t){return t!==e}))}))}),[]),T=(0,a.useCallback)((function(e,n,t){C((function(e){return e.filter((function(e,n){return n!==t}))})),m((function(t){return Nn(Nn([],t,!0),[Sn(d,e,n)],!1)}))}),[d]),z=(0,a.useCallback)((function(e,n){return O((function(t){var r=Nn([],t,!0);return r[e][0]=n?d.createType("AccountId",n):null,r}))}),[d]),D=(0,a.useCallback)((function(e,n){return O((function(t){var r=Nn([],t,!0);return r[e][1]=En(d,n),r}))}),[d]),F=N.some((function(e){var n=e[0];return n&&n.eq(l)}));return(0,r.jsxs)(Mn,kn({className:n,header:c("Proxy overview"),onClose:t,size:"large"},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsx)(o.u_.Columns,kn({hint:c("Any account set as proxy will be able to perform actions in place of the proxied account")},{children:(0,r.jsx)(o.rp,{isDisabled:!0,label:c("proxied account"),type:"account",value:l})})),(0,r.jsxs)(o.u_.Columns,kn({hint:c("If you add several proxy accounts for the same proxy type (e.g 2 accounts set as proxy for Governance), then any of those 2 accounts will be able to perform governance actions on behalf of the proxied account")},{children:[w.map((function(e,n){return(0,r.jsx)(Pn,{index:n,onRemove:T,typeOpts:P.current,value:e},"".concat(e.toString(),"-").concat(n))})),N.map((function(e,n){return(0,r.jsx)(In,{index:n,onChangeAccount:z,onChangeType:D,onRemove:E,proxiedAccount:l,typeOpts:P.current,value:e},"".concat(e.toString(),"-").concat(n))})),(0,r.jsx)(o.zx.Group,{children:(0,r.jsx)(o.zx,{icon:"plus",label:c("Add proxy"),onClick:I})})]})),(0,r.jsx)(o.u_.Columns,kn({hint:c("A deposit paid by the proxied account that can not be used while the proxy is in existence. The deposit is returned when the proxy is destroyed. The amount reserved is based on the base deposit and number of proxies")},{children:(0,r.jsx)(o.H,{defaultValue:S,isDisabled:!0,label:c("reserved balance")})})),(0,r.jsx)(o.u_.Columns,{children:(0,r.jsx)(o.RN,{})})]}),(0,r.jsxs)(o.u_.Actions,{children:[0!==i.length&&(0,r.jsx)(o.cA,{accountId:l,icon:"trash-alt",label:c("Clear all"),onStart:t,tx:d.tx.proxy.removeProxies}),(0,r.jsx)(o.cA,{accountId:l,extrinsic:A,icon:"sign-in-alt",isDisabled:F||!p.length&&!v.length,onStart:t})]})]}))}));var zn,Dn=function(){return Dn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Dn.apply(this,arguments)};const Fn=a.memo((function(e){var n=e.address,t=e.className,s=void 0===t?"":t,i=e.onClose,l=(0,M.$)().t,c=(0,u.h)().api,d=(0,a.useState)(null),h=d[0],p=d[1];return(0,r.jsxs)(o.u_,Dn({className:s,header:l("Initiate account recovery"),onClose:i},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsx)(o.rp,{isDisabled:!0,label:l("the account to recover to"),value:n}),(0,r.jsx)(o.rp,{label:l("recover this account"),onChange:p,type:"allPlus"})]}),(0,r.jsx)(o.u_.Actions,{children:(0,r.jsx)(o.cA,{accountId:n,icon:"recycle",isDisabled:!h||h===n,label:l("Start recovery"),onStart:i,params:[h],tx:c.tx.recovery.initiateRecovery})})]}))}));var Bn=t(65606),Rn=function(){return Rn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Rn.apply(this,arguments)};const Vn=a.memo((function(e){var n=e.address,t=e.className,s=void 0===t?"":t,i=e.onClose,l=(0,M.$)().t,c=(0,u.h)().api,d=je(n),h=(0,a.useState)(),p=h[0],m=h[1],f=(0,a.useState)([]),v=f[0],g=f[1],x=(0,a.useState)(),b=x[0],y=x[1],j=!p,w=!v.length,C=!b||!b.gtn(0)||b.gtn(v.length);return(0,r.jsxs)(o.u_,Rn({className:s,header:l("Setup account as recoverable"),onClose:i,size:"large"},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsx)(o.u_.Columns,Rn({hint:l("The recoverable account is protected against the loss of seed/access by a social process.")},{children:(0,r.jsx)(o.rp,{isDisabled:!0,label:l("the account to make recoverable"),value:n})})),(0,r.jsx)(o.u_.Columns,Rn({hint:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:l("These are trusted individuals that can verify and approve any recovery actions. With recovery, once the threshold is reached, the funds associated with the account can be moved to a new destination.")}),(0,r.jsx)("p",{children:l("The helpers should be able to verify, via an off-chain mechanism, that the account owner indeed wishes to recover access and as such provide any approvals. In the cases of malicious recovery procedures, they will have the power to stop it.")})]})},{children:(0,r.jsx)(o.m3,{available:d,availableLabel:l("available social recovery helpers"),maxCount:16,onChange:g,valueLabel:l("trusted social recovery helpers")})})),(0,r.jsxs)(o.u_.Columns,Rn({hint:l("The threshold for approvals and the delay is the protection associated with the account. The delay should be such that any colluding recovery attempts does have a window to stop.")},{children:[(0,r.jsx)(o.Rn,{isError:C,label:l("recovery threshold"),onChange:y}),(0,r.jsx)(o.Rn,{isError:j,isZeroable:!0,label:l("recovery block delay"),onChange:m})]}))]}),(0,r.jsx)(o.u_.Actions,{children:(0,r.jsx)(o.cA,{accountId:n,icon:"share-alt",isDisabled:w||C||j,label:l("Make recoverable"),onStart:i,params:[(0,Bn.i)(v),b,p],tx:c.tx.recovery.createRecovery})})]}))}));var Ln=t(14868),Hn=function(){return Hn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Hn.apply(this,arguments)};const qn=a.memo((function(e){var n=e.accountDelegating,t=e.onClose,a=(0,M.$)().t,s=(0,u.h)().api;return(0,r.jsxs)(o.u_,Hn({className:"staking--Undelegate",header:a("Undelegate"),onClose:t,size:"large"},{children:[(0,r.jsx)(o.u_.Content,{children:(0,r.jsx)(o.u_.Columns,Hn({hint:a("You will remove any delegation made by this acccount")},{children:(0,r.jsx)(o.rp,{defaultValue:n,isDisabled:!0,label:a("delegating account")})}))}),(0,r.jsx)(o.u_.Actions,{children:(0,r.jsx)(o.cA,{accountId:n,icon:"sign-in-alt",label:a("Undelegate"),onStart:t,tx:s.tx.democracy.undelegate})})]}))}));var _n=t(67405),Wn=t(60864);const Gn=(0,be.e)("useMultisigApprovals",(function(e){var n=(0,_n.d)().events,t=(0,u.h)().api,r=(0,a.useState)(),s=r[0],o=r[1],i=(0,Wn.y)(1),l=i[0],c=i[1],d=(0,Se.X)();return(0,a.useEffect)((function(){n.some((function(n){var t=n.record.event,r=t.data;return"multisig"===t.section&&r.some((function(n){return"AccountId"===n.toRawType()&&n.eq(e)}))}))&&c()}),[e,n,c]),(0,a.useEffect)((function(){var n;l&&(null===(n=t.query.multisig)||void 0===n||n.multisigs.entries(e).then((function(e){d.current&&o(e.filter((function(e){return e[1].isSome})).map((function(e){var n=e[0],t=e[1];return[n.args[1],t.unwrap()]})))})).catch(console.error))}),[e,t,d,l]),s}));var Zn=function(){return Zn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Zn.apply(this,arguments)},Un={available:!1,bonded:!1,locked:!1,redeemable:!1,reserved:!1,total:!0,unlocking:!1,vested:!1},Jn={available:!0,bonded:!0,locked:!0,nonce:!0,redeemable:!0,reserved:!0,total:!1,unlocking:!0,vested:!0};function Qn(e){return(null==e?void 0:e.unlocking)?e.unlocking.filter((function(e){var n=e.remainingEras;return e.value.gt(b.nw)&&n.gt(b.nw)})).map((function(e){return e.value})).reduce((function(e,n){return e.iadd(n)}),new(ve())(0)):b.nw}function Yn(e,n,t){return e.tx.utility&&t.length?e.tx.utility.batch(t.map((function(n){return e.tx.democracy.removeVote(n)})).concat(e.tx.democracy.unlock(n))):null}function Kn(e,n,t,r){if(void 0===r&&(r="convictionVoting"),!e.tx.utility||!t.length)return null;var a=t.map((function(n){var t=n[0],a=n[1];return e.tx[r].removeVote(t,a)}));return t.reduce((function(e,n){var t=n[0];return e.find((function(e){return e.eq(t)}))||e.push(t),e}),[]).forEach((function(t){a.push(e.tx[r].unlock(t,n))})),e.tx.utility.batch(a)}var Xn={transform:function(e){return e.unwrapOr(null)}},$n=o.zo.tr(nt||(nt=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  .devBadge {\n    opacity: var(--opacity-light);\n  }\n"],["\n  .devBadge {\n    opacity: var(--opacity-light);\n  }\n"])));const et=a.memo((function(e){var n,t,s,i=e.account,l=i.address,c=i.meta,p=e.className,m=void 0===p?"":p,f=e.delegation,v=e.filter,x=e.isFavorite,j=e.proxy,w=e.setBalance,C=e.toggleFavorite,k=(0,M.$)().t,N=(0,h.O)(!1),O=N[0],A=N[1],S=(0,Re.L)().queueExtrinsic,P=(0,u.h)(),I=(0,d.c)().getLedger,E=(0,Ve.C)(),z=(0,Le.r)(l),D=(0,He._)(l),F=(0,qe.W7)(null===(n=P.api.derive.democracy)||void 0===n?void 0:n.locks,[l]),B=(0,qe.W7)(null===(t=P.api.query.recovery)||void 0===t?void 0:t.recoverable,[l],Xn),R=Gn(l),V=Ie(l),L=(0,_e.B)(l),H=L.flags,q=H.isDevelopment,_=H.isEditable,W=H.isEthereum,G=H.isExternal,Z=H.isHardware,U=H.isInjected,J=H.isMultisig,Q=H.isProxied,Y=L.genesisHash,K=L.identity,X=L.name,$=L.onSetGenesisHash,ee=L.tags,ne=(0,Be.Z)("referenda","convictionVoting",l),te=(0,a.useState)({democracyUnlockTx:null,ids:[]}),re=te[0].democracyUnlockTx,ae=te[1],se=(0,a.useState)({ids:[],referendaUnlockTx:null}),oe=se[0].referendaUnlockTx,ie=se[1],le=(0,a.useState)(null),ce=le[0],ue=le[1],de=(0,h.O)(),he=de[0],pe=de[1],me=(0,h.O)(),fe=me[0],ve=me[1],ge=(0,h.O)(),xe=ge[0],be=ge[1],ye=(0,h.O)(),je=ye[0],we=ye[1],Ce=(0,h.O)(),ke=Ce[0],Ne=Ce[1],Oe=(0,h.O)(),Ae=Oe[0],Se=Oe[1],Pe=(0,h.O)(),Ee=Pe[0],Me=Pe[1],Te=(0,h.O)(),ze=Te[0],De=Te[1],Fe=(0,h.O)(),Ze=Fe[0],Ue=Fe[1],Je=(0,h.O)(),Ye=Je[0],Xe=Je[1],$e=(0,h.O)(),en=$e[0],tn=$e[1],rn=(0,h.O)(),an=rn[0],on=rn[1],ln=(0,h.O)(),cn=ln[0],un=ln[1];(0,a.useEffect)((function(){var e,n;z&&(w(l,{bonded:(null===(e=null==D?void 0:D.stakingLedger.active)||void 0===e?void 0:e.unwrap())||b.nw,locked:z.lockedBalance,redeemable:(null==D?void 0:D.redeemable)||b.nw,total:z.freeBalance.add(z.reservedBalance),transferrable:z.availableBalance,unbonding:Qn(D)}),(null===(n=P.api.tx.vesting)||void 0===n?void 0:n.vest)&&ue((function(){return z.vestingLocked.isZero()?null:P.api.tx.vesting.vest()})))}),[l,P,z,w,D]),(0,a.useEffect)((function(){E&&F&&ae((function(e){var n=F.filter((function(e){var n=e.isFinished,t=e.unlockAt;return n&&E.gt(t)})).map((function(e){return e.referendumId}));return JSON.stringify(e.ids)===JSON.stringify(n)?e:{democracyUnlockTx:Yn(P.api,l,n),ids:n}}))}),[l,P,E,F]),(0,a.useEffect)((function(){E&&ne&&ie((function(e){var n=ne.filter((function(e){var n=e.endBlock;return n.gt(b.nw)&&E.gt(n)})).map((function(e){return[e.classId,e.refId]}));return JSON.stringify(e.ids)===JSON.stringify(n)?e:{ids:n,referendaUnlockTx:Kn(P.api,l,n)}}))}),[l,P,E,ne]);var hn=(0,a.useMemo)((function(){return function(e,n,t){if(0===e.length)return!0;var r=e.toLowerCase();return t.reduce((function(e,n){return e||n.toLowerCase().includes(r)}),n.toLowerCase().includes(r))}(v,X,ee)}),[X,v,ee]),pn=(0,a.useCallback)((function(){if(l){var e={account:l,action:"forget"};try{g.Nn.forgetAccount(l),e.status="success",e.message=k("account forgotten")}catch(n){e.status="error",e.message=n.message}}}),[l,k]),mn=(0,a.useCallback)((function(){return re&&S({accountId:l,extrinsic:re})}),[l,re,S]),fn=(0,a.useCallback)((function(){return oe&&S({accountId:l,extrinsic:oe})}),[l,oe,S]),gn=(0,a.useCallback)((function(){return ce&&S({accountId:l,extrinsic:ce})}),[l,S,ce]),xn=(0,a.useCallback)((function(){(function(e,n){return function(e,n,t,r){return new(t||(t=Promise))((function(a,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function i(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,i)}l((r=r.apply(e,n||[])).next())}))}(this,void 0,Promise,(function(){return function(e,n){var t,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=n.call(e,o)}catch(e){i=[6,e],r=0}finally{t=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(t){switch(t.label){case 0:return[4,e().getAddress(!0,n.accountOffset||0,n.addressOffset||0)];case 1:return t.sent(),[2]}}))}))})(I,c).catch((function(e){console.error("ledger: ".concat(e.message))}))}),[I,c]),bn=(0,a.useMemo)((function(){var e,n,t,a,s,i,l,c,u,d;return[(0,T.xv)("identityGroup",[(0,y.m)(null===(e=P.api.tx.identity)||void 0===e?void 0:e.setIdentity)&&!Z&&(0,r.jsx)(o.v2.Item,{icon:"link",label:k("Set on-chain identity"),onClick:we},"identityMain"),(0,y.m)(null===(n=P.api.tx.identity)||void 0===n?void 0:n.setSubs)&&(null==K?void 0:K.display)&&!Z&&(0,r.jsx)(o.v2.Item,{icon:"vector-square",label:k("Set on-chain sub-identities"),onClick:Ne},"identitySub"),(0,y.m)(null===(t=P.api.tx.democracy)||void 0===t?void 0:t.unlock)&&re&&(0,r.jsx)(o.v2.Item,{icon:"broom",label:k("Clear expired democracy locks"),onClick:mn},"clearDemocracy"),(0,y.m)(null===(a=P.api.tx.convictionVoting)||void 0===a?void 0:a.unlock)&&oe&&(0,r.jsx)(o.v2.Item,{icon:"broom",label:k("Clear expired referenda locks"),onClick:fn},"clearReferenda"),(0,y.m)(null===(s=P.api.tx.vesting)||void 0===s?void 0:s.vest)&&ce&&(0,r.jsx)(o.v2.Item,{icon:"unlock",label:k("Unlock vested amount"),onClick:gn},"vestingVest")],k("Identity")),(0,T.xv)("deriveGroup",[!(W||G||Z||U||J||P.isEthereum)&&(0,r.jsx)(o.v2.Item,{icon:"download",label:k("Derive account via derivation path"),onClick:ve},"deriveAccount"),Z&&(0,r.jsx)(o.v2.Item,{icon:"eye",label:k("Show address on hardware device"),onClick:xn},"showHwAddress")],k("Derive")),(0,T.xv)("backupGroup",[!(G||Z||U||J||q)&&(0,r.jsx)(o.v2.Item,{icon:"database",label:k("Create a backup file for this account"),onClick:pe},"backupJson"),!(G||Z||U||J||q)&&(0,r.jsx)(o.v2.Item,{icon:"edit",label:k("Change this account's password"),onClick:De},"changePassword"),!(U||q)&&(0,r.jsx)(o.v2.Item,{icon:"trash-alt",label:k("Forget this account"),onClick:be},"forgetAccount")],k("Backup")),(0,y.m)(null===(i=P.api.tx.recovery)||void 0===i?void 0:i.createRecovery)&&(0,T.xv)("reoveryGroup",[!B&&(0,r.jsx)(o.v2.Item,{icon:"redo",label:k("Make recoverable"),onClick:Xe},"makeRecoverable"),(0,r.jsx)(o.v2.Item,{icon:"screwdriver",label:k("Initiate recovery for another"),onClick:Ue},"initRecovery")],k("Recovery")),(0,y.m)(null===(l=P.api.tx.multisig)||void 0===l?void 0:l.asMulti)&&J&&(0,T.xv)("multisigGroup",[(0,r.jsx)(o.v2.Item,{icon:"file-signature",isDisabled:!R||!R.length,label:k("Multisig approvals"),onClick:Se},"multisigApprovals")],k("Multisig")),(0,y.m)(null===(c=P.api.query.democracy)||void 0===c?void 0:c.votingOf)&&(null==f?void 0:f.accountDelegated)&&(0,T.xv)("undelegateGroup",[(0,r.jsx)(o.v2.Item,{icon:"user-edit",label:k("Change democracy delegation"),onClick:on},"changeDelegate"),(0,r.jsx)(o.v2.Item,{icon:"user-minus",label:k("Undelegate"),onClick:un},"undelegate")],k("Undelegate")),(0,T.xv)("delegateGroup",[(0,y.m)(null===(u=P.api.query.democracy)||void 0===u?void 0:u.votingOf)&&!(null==f?void 0:f.accountDelegated)&&(0,r.jsx)(o.v2.Item,{icon:"user-plus",label:k("Delegate democracy votes"),onClick:on},"delegate"),(0,y.m)(null===(d=P.api.query.proxy)||void 0===d?void 0:d.proxies)&&(0,r.jsx)(o.v2.Item,{icon:"sitemap",label:(null==j?void 0:j[0].length)?k("Manage proxies"):k("Add proxy"),onClick:Me},"proxy-overview")],k("Delegate")),_&&!P.isDevelopment&&(0,T.xv)("genesisGroup",[(0,r.jsx)(o.H_,{className:"accounts--network-toggle",genesisHash:Y,onChange:$},"chainlock")])].filter((function(e){return e}))}),[mn,fn,xn,gn,P,f,re,Y,K,q,_,W,G,Z,U,J,R,$,j,oe,B,k,pe,on,ve,be,we,Ne,Se,De,Me,Ue,Xe,un,ce]);return hn?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)($n,Zn({className:"".concat(m," isExpanded isFirst packedBottom")},{children:[(0,r.jsx)(o.iA.Column.Favorite,{address:l,isFavorite:x,toggle:C}),(0,r.jsxs)("td",Zn({className:"address all relative"},{children:[(0,r.jsx)(o.N,{parentAddress:c.parentAddress,value:l,withShortAddress:!0}),he&&(0,r.jsx)(Qe,{address:l,onClose:pe},"modal-backup-account"),an&&(0,r.jsx)(nn,{onClose:on,previousAmount:null==f?void 0:f.amount,previousConviction:null==f?void 0:f.conviction,previousDelegatedAccount:null==f?void 0:f.accountDelegated,previousDelegatingAccount:l},"modal-delegate"),fe&&(0,r.jsx)(sn,{from:l,onClose:ve},"modal-derive-account"),xe&&(0,r.jsx)(o.u5,{address:l,onClose:be,onForget:pn},"modal-forget-account"),je&&(0,r.jsx)(dn,{address:l,onClose:we},"modal-identity-main"),ke&&(0,r.jsx)(vn,{address:l,onClose:Ne},"modal-identity-sub"),ze&&(0,r.jsx)(Ke,{address:l,onClose:De},"modal-change-pass"),en&&(0,r.jsx)(Ln.Z,{onClose:tn,senderId:l},"modal-transfer"),Ee&&(0,r.jsx)(Tn,{onClose:Me,previousProxy:j,proxiedAccount:l},"modal-proxy-overview"),J&&Ae&&R&&0!==R.length&&(0,r.jsx)(jn,{address:l,onClose:Se,ongoing:R,threshold:c.threshold,who:c.who},"multisig-approve"),Ze&&(0,r.jsx)(Fn,{address:l,onClose:Ue},"recover-account"),Ye&&(0,r.jsx)(Vn,{address:l,onClose:Xe},"recover-setup"),cn&&(0,r.jsx)(qn,{accountDelegating:l,onClose:un},"modal-delegate"),(0,r.jsxs)("div",Zn({className:"absolute"},{children:[c.genesisHash?(0,r.jsx)(o.Ct,{color:"transparent"}):q?(0,r.jsx)(o.Ct,{className:"warning",hover:k("This is a development account derived from the known development seed. Do not use for any funds on a non-development network."),icon:"wrench"}):(0,r.jsx)(o.Ct,{className:"warning",hover:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:k('This account is available on all networks. It is recommended to link to a specific network via the account options ("only this network" option) to limit availability. For accounts from an extension, set the network on the extension.')}),(0,r.jsx)("p",{children:k("This does not send any transaction, rather it only sets the genesis in the account JSON.")})]}),icon:"exclamation-triangle"}),B&&(0,r.jsx)(o.Ct,{className:"recovery",hover:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:k("This account is recoverable, with the following friends:")}),(0,r.jsx)("div",{children:B.friends.map((function(e,n){return(0,r.jsx)(o.N,{value:e},n)}))}),(0,r.jsx)("table",{children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:k("threshold")}),(0,r.jsx)("td",{children:(0,We.u)(B.threshold)})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:k("delay")}),(0,r.jsx)("td",{children:(0,We.u)(B.delayPeriod)})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:k("deposit")}),(0,r.jsx)("td",{children:(0,Ge.a)(B.deposit)})]})]})})]}),icon:"redo"}),Q&&(null==V?void 0:V.isEmpty)&&(0,r.jsx)(o.Ct,{className:"important",hover:k("Proxied account has no owned proxies"),icon:"sitemap",info:"0"}),J&&R&&0!==R.length&&(0,r.jsx)(o.Ct,{className:"important",color:"purple",hover:k("Multisig approvals pending"),hoverAction:k("View pending approvals"),icon:"file-signature",onClick:Se}),(null==f?void 0:f.accountDelegated)&&(0,r.jsx)(o.Ct,{className:"information",hover:k("This account has a governance delegation"),hoverAction:k("Manage delegation"),icon:"calendar-check",onClick:on}),j&&0!==j[0].length&&P.api.tx.utility&&(0,r.jsx)(o.Ct,{className:"information",hover:1===j[0].length?k("This account has a proxy set"):k("This account has {{proxyNumber}} proxies set",{replace:{proxyNumber:j[0].length}}),hoverAction:k("Manage proxies"),icon:"sitemap",onClick:Me})]}))]})),(0,r.jsx)("td",Zn({className:"actions button"},{children:(0,r.jsxs)(o.zx.Group,{children:[(0,y.m)(null===(s=P.api.tx.balances)||void 0===s?void 0:s.transfer)&&(0,r.jsx)(o.zx,{className:"send-button",icon:"paper-plane",label:k("send"),onClick:tn}),(0,r.jsx)(o.GI,{isDisabled:!bn.length,value:(0,r.jsx)(o.v2,{children:bn})})]})})),(0,r.jsx)(o.iA.Column.Expand,{isExpanded:O,toggle:A})]})),(0,r.jsxs)($n,Zn({className:"".concat(m," isExpanded ").concat(O?"":"isLast"," packedTop")},{children:[(0,r.jsx)("td",{}),(0,r.jsx)("td",Zn({className:"balance all",colSpan:2},{children:(0,r.jsx)(o.hl,{address:l,balancesAll:z,withBalance:Un})})),(0,r.jsx)("td",{})]})),(0,r.jsxs)($n,Zn({className:"".concat(m," ").concat(O?"isExpanded isLast":"isCollapsed"," packedTop")},{children:[(0,r.jsx)("td",{}),(0,r.jsxs)("td",Zn({className:"balance columar",colSpan:2},{children:[(0,r.jsx)(o.hl,{address:l,balancesAll:z,convictionLocks:ne,withBalance:Jn}),(0,r.jsxs)(o.P0,Zn({size:"tiny"},{children:[(0,r.jsx)(o.P0.Column,{children:(0,r.jsx)("div",Zn({"data-testid":"tags"},{children:(0,r.jsx)(o.$G,{value:ee,withTitle:!0})}))}),(0,r.jsxs)(o.P0.Column,{children:[(0,r.jsx)("h5",{children:k("account type")}),(0,r.jsx)(o.lK,{accountId:l})]})]})),(0,r.jsx)(o.P0,Zn({is100:!0},{children:(0,r.jsx)(o.P0.Column,{children:(0,r.jsx)(o.NR,{data:l,type:"address",withTitle:!0})})}))]})),(0,r.jsx)("td",{})]}))]}):null}));var nt,tt=t(73352),rt=function(){return rt=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},rt.apply(this,arguments)},at=o.zo.article(ot||(ot=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  .box {\n    padding: 0 0.5rem;\n  }\n"],["\n  .box {\n    padding: 0 0.5rem;\n  }\n"])));const st=a.memo((function(e){var n=e.children,t=e.className,a=void 0===t?"":t,s=e.type;return(0,r.jsx)(at,rt({className:"".concat(a," ").concat(s," centered")},{children:(0,r.jsx)("div",rt({className:"box"},{children:n}))}))}));var ot,it=function(){return it=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},it.apply(this,arguments)};const lt=a.memo((function(){var e=(0,tt.Z)(),n=(0,M.$)().t;return e?(0,r.jsx)(st,it({type:"error"},{children:(0,r.jsxs)("p",{children:[n("You have {{claimCount}} accounts that need attestations. Use the Claim Tokens app on the navigation bar to complete the process. Until you do, your balances for those accounts will not be reflected.",{replace:{claimCount:e}})," ",(0,r.jsx)("a",it({href:"#/claims"},{children:n("Claim tokens...")}))]})})):null}));var ct=t(54924),ut=t(61349),dt=t(76075),ht=t(79444),pt=t(345),mt=t(69356),ft=t(30242),vt=function(){return vt=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},vt.apply(this,arguments)},gt=(0,ct.qY)(),xt=gt&&gt.name||null,bt=xt&&Object.keys(ht.l).includes(xt);const yt=(0,mt.onlyOnWeb)(a.memo((function(){var e=(0,M.$)().t,n=(0,u.h)().hasInjectedAccounts,t=(0,dt.Z)(),s=(0,a.useRef)(e("Since some extensions, such as the polkadot-js extension, protects you against all community reported phishing sites, there are valid reasons to use them for additional protection, even if you are not storing accounts in it."));return bt&&xt?pt.LW?n?t?(0,r.jsxs)(st,vt({type:"warning"},{children:[(0,r.jsxs)("p",{children:[1===t?e("You have 1 extension that needs to be updated with the latest chain properties in order to display the correct information for the chain you are connected to."):e("You have {{upgradableCount}} extensions that need to be updated with the latest chain properties in order to display the correct information for the chain you are connected to.",{replace:{upgradableCount:t}}),e(" This update includes chain metadata and chain properties.")]}),(0,r.jsx)("p",{children:(0,r.jsxs)(ut.cC,{children:["Visit your ",(0,r.jsx)("a",vt({href:"#/settings/metadata"},{children:"settings page"}))," to apply the updates to the injected extensions."]},"extensionUpgrade")})]})):null:(0,r.jsxs)(st,vt({type:"warning"},{children:[(0,r.jsx)("p",{children:e("One or more extensions are detected in your browser, however no accounts has been injected.")}),(0,r.jsx)("p",{children:e("Ensure that the extension has accounts, some accounts are visible globally and available for this chain and that you gave the application permission to access accounts from the extension to use them.")}),(0,r.jsx)("p",{children:s.current})]})):(0,r.jsxs)(st,vt({type:"warning"},{children:[(0,r.jsx)("p",{children:e("It is recommended that you create/store your accounts securely and externally from the app. On {{yourBrowser}} the following browser extensions are available for use -",{replace:{yourBrowser:(0,ft.k)(xt)}})}),(0,r.jsx)("ul",{children:ht.l[xt].map((function(n){var t=n.desc,a=n.link,s=n.name;return(0,r.jsxs)("li",{children:[(0,r.jsx)("a",vt({href:a,rel:"noopener noreferrer",target:"_blank"},{children:s}))," (",e(t),")"]},s)}))}),(0,r.jsxs)("p",{children:[e("Accounts injected from any of these extensions will appear in this application and be available for use. The above list is updated as more extensions with external signing capability become available.")," ",(0,r.jsx)("a",vt({href:"https://github.com/polkadot-js/extension",rel:"noopener noreferrer",target:"_blank"},{children:e("Learn more...")}))]}),(0,r.jsx)("p",{children:s.current})]})):null})));var jt=t(43814),wt=t(58607),Ct=function(){return Ct=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Ct.apply(this,arguments)};const kt=a.memo((function(e){var n=e.balance,t=e.className,a=(0,jt.$)().t;return(0,r.jsxs)(o.Ty,Ct({className:t},{children:[(0,r.jsx)(o.Jy,Ct({label:a("total balance")},{children:(0,r.jsx)(wt.Z,{className:n?"":"--tmp",value:(null==n?void 0:n.total)||1})})),(0,r.jsx)(o.Jy,Ct({className:"media--900",label:a("total transferrable")},{children:(0,r.jsx)(wt.Z,{className:n?"":"--tmp",value:(null==n?void 0:n.transferrable)||1})})),(0,r.jsx)(o.Jy,Ct({label:a("total locked")},{children:(0,r.jsx)(wt.Z,{className:n?"":"--tmp",value:(null==n?void 0:n.locked)||1})})),(null==n?void 0:n.bonded.gtn(0))&&(0,r.jsx)(o.Jy,Ct({className:"media--1100",label:a("bonded")},{children:(0,r.jsx)(wt.Z,{value:n.bonded})})),(null==n?void 0:n.redeemable.gtn(0))&&(0,r.jsx)(o.Jy,Ct({className:"media--1500",label:a("redeemable")},{children:(0,r.jsx)(wt.Z,{value:n.redeemable})})),(null==n?void 0:n.unbonding.gtn(0))&&(0,r.jsx)(o.Jy,Ct({className:"media--1300",label:a("unbonding")},{children:(0,r.jsx)(wt.Z,{value:n.unbonding})}))]}))}));var Nt=function(){return Nt=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Nt.apply(this,arguments)},Ot=function(e,n,t){if(t||2===arguments.length)for(var r,a=0,s=n.length;a<s;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))},At={sortBy:"date",sortFromMax:!0},St=["accounts","injected","qr","hardware","proxied","multisig","testing"],Pt=o.zo.div(Et||(Et=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  .ui--Dropdown {\n    width: 15rem;\n  }\n\n  .header-box {\n    .dropdown-section {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n    }\n\n    .ui--Button-Group {\n      margin-left: auto;\n    }\n  }\n"],["\n  .ui--Dropdown {\n    width: 15rem;\n  }\n\n  .header-box {\n    .dropdown-section {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n    }\n\n    .ui--Button-Group {\n      margin-left: auto;\n    }\n  }\n"])));const It=a.memo((function(e){var n=e.className,t=void 0===n?"":n,s=e.onStatusChange,j=(0,M.$)().t,w=(0,u.h)(),C=w.api,k=w.isElectron,N=(0,i.x)(),O=N.allAccounts,A=N.hasAccounts,S=(0,l.g)().isIpfs,P=(0,d.c)().isLedgerEnabled,I=(0,h.O)(),E=I[0],z=I[1],D=(0,h.O)(),F=D[0],B=D[1],R=(0,h.O)(),V=R[0],L=R[1],H=(0,h.O)(),q=H[0],_=H[1],W=(0,h.O)(),G=W[0],Z=W[1],U=(0,h.O)(),Q=U[0],Y=U[1],K=(0,p.r)("accounts:favorites"),X=K[0],$=K[1],ee=(0,a.useState)({accounts:{}}),ne=ee[0],te=ee[1],re=(0,a.useState)(""),ae=re[0],se=re[1],oe=(0,a.useState)([]),ie=oe[0],ce=oe[1],ue=(0,a.useState)(At),de=ue[0],he=de.sortBy,pe=de.sortFromMax,fe=ue[1],ve=(0,m.W)(),ge=(0,f.N)(),xe=(0,v.q)(),be=(0,a.useCallback)((function(e){return fe((function(n){var t=n.sortFromMax;return{sortBy:e,sortFromMax:t}}))}),[]),ye=(0,a.useCallback)((function(){return fe((function(e){return{sortBy:e.sortBy,sortFromMax:!e.sortFromMax}}))}),[]),je=(0,a.useRef)(T.r.map((function(e){return{text:e,value:e}}))),we=(0,a.useCallback)((function(e,n){return te((function(t){var r=t.accounts;r[e]=n;var a=function(e){return Object.values(r).reduce((function(n,t){return n.add(t[e])}),b.nw)};return{accounts:r,summary:{bonded:a("bonded"),locked:a("locked"),redeemable:a("redeemable"),total:a("total"),transferrable:a("transferrable"),unbonding:a("unbonding")}}}))}),[]),Ce=(0,a.useMemo)((function(){return k||!S&&"on"===x.X.get().storage}),[k,S]),ke=(0,a.useMemo)((function(){return Object.fromEntries(X.map((function(e){return[e,!0]})))}),[X]),Ne=(0,a.useMemo)((function(){var e;return(0,y.m)(null===(e=C.tx.multisig||C.tx.utility)||void 0===e?void 0:e.approveAsMulti)}),[C]),Ae=(0,a.useMemo)((function(){var e;return(0,y.m)(null===(e=C.tx.proxy)||void 0===e?void 0:e.addProxy)}),[C]),Se=(0,a.useMemo)((function(){return O.map((function(e,n){var t,r,a,s=ve&&(null===(t=ve[n])||void 0===t?void 0:t.isDelegating)&&(null===(r=ve[n])||void 0===r?void 0:r.asDelegating),o=s&&{accountDelegated:s.target.toString(),amount:s.balance,conviction:s.conviction}||void 0;return{account:g.Nn.getAccount(e),address:e,delegation:o,isFavorite:null!==(a=ke[null!=e?e:""])&&void 0!==a&&a}})).filter((function(e){return!!e.account})).reduce((function(e,n){return e[n.address]=n,e}),{})}),[O,ke,ve]),Pe=(0,a.useMemo)((function(){var e={accounts:[[(0,r.jsxs)(r.Fragment,{children:[j("accounts"),(0,r.jsx)("div",Nt({className:"sub"},{children:j("all locally stored accounts")}))]})]],hardware:[[(0,r.jsxs)(r.Fragment,{children:[j("hardware"),(0,r.jsx)("div",Nt({className:"sub"},{children:j("accounts managed via hardware devices")}))]})]],injected:[[(0,r.jsxs)(r.Fragment,{children:[j("extension"),(0,r.jsx)("div",Nt({className:"sub"},{children:j("accounts available via browser extensions")}))]})]],multisig:[[(0,r.jsxs)(r.Fragment,{children:[j("multisig"),(0,r.jsx)("div",Nt({className:"sub"},{children:j("on-chain multisig accounts")}))]})]],proxied:[[(0,r.jsxs)(r.Fragment,{children:[j("proxied"),(0,r.jsx)("div",Nt({className:"sub"},{children:j("on-chain proxied accounts")}))]})]],qr:[[(0,r.jsxs)(r.Fragment,{children:[j("via qr"),(0,r.jsx)("div",Nt({className:"sub"},{children:j("accounts available via mobile devices")}))]})]],testing:[[(0,r.jsxs)(r.Fragment,{children:[j("development"),(0,r.jsx)("div",Nt({className:"sub"},{children:j("accounts derived via development seeds")}))]})]]};return Object.values(e).forEach((function(e){e[0][1]="start",e[0][2]=4})),e}),[j]),Ie=(0,a.useMemo)((function(){return function(e){for(var n={accounts:[],hardware:[],injected:[],multisig:[],proxied:[],qr:[],testing:[]},t=0;t<e.length;t++){var r=e[t],a=r.account,s=r.address,o=(0,c.C9)(s);(null==a?void 0:a.meta.isHardware)?n.hardware.push(s):(null==a?void 0:a.meta.isTesting)?n.testing.push(s):"injected"===o?n.injected.push(s):"multisig"===o?n.multisig.push(s):"proxied"===o?n.proxied.push(s):"qr"===o?n.qr.push(s):n.accounts.push(s)}return n}(ie)}),[ie]),Ee=(0,a.useMemo)((function(){return Object.values(Se).reduce((function(e,n,t){var a=n.account,s=n.address,o=n.delegation,i=n.isFavorite;return e[s]=(0,r.jsx)(et,{account:a,delegation:o,filter:ae,isFavorite:i,proxy:null==ge?void 0:ge[t],setBalance:we,toggleFavorite:$},s),e}),{})}),[Se,ae,ge,we,$]),Te=(0,a.useMemo)((function(){return St.reduce((function(e,n){var t=Ie[n];return t.length&&(e[n]=t.map((function(e){return Ee[e]}))),e}),{})}),[Ie,Ee]);return(0,a.useEffect)((function(){ce((function(e){return Ot(Ot([],e.map((function(e){return Se[e.address]})).filter((function(e){return!!e})),!0),Object.keys(Se).filter((function(n){return!e.find((function(e){return n===e.address}))})).map((function(e){return Se[e]})),!0)}))}),[Se]),(0,a.useEffect)((function(){ce((function(e){return(0,T.nZ)(e,Se,ne.accounts,he,pe)}))}),[Se,ne,he,pe]),(0,r.jsxs)(Pt,Nt({className:t},{children:[E&&(0,r.jsx)(le,{onClose:z,onStatusChange:s}),F&&(0,r.jsx)(me,{onClose:B,onStatusChange:s}),V&&(0,r.jsx)(J,{onClose:L}),q&&(0,r.jsx)(Oe,{onClose:_,onStatusChange:s}),G&&(0,r.jsx)(Me,{onClose:Z,onStatusChange:s}),Q&&(0,r.jsx)(De,{onClose:Y,onStatusChange:s}),(0,r.jsx)(yt,{}),(0,r.jsx)(lt,{}),(0,r.jsx)(kt,{balance:ne.summary}),(0,r.jsxs)(o.Ty,Nt({className:"header-box"},{children:[(0,r.jsxs)("section",Nt({className:"dropdown-section media--1300","data-testid":"sort-by-section"},{children:[(0,r.jsx)(o.ak,{className:"media--1500",defaultValue:he,label:j("sort by"),onChange:be,onClick:ye,options:je.current,sortDirection:pe?"ascending":"descending"}),(0,r.jsx)(o.HS,{filterOn:ae,label:j("filter by name or tags"),setFilter:se})]})),(0,r.jsxs)(o.zx.Group,{children:[Ce&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.zx,{icon:"plus",label:j("Account"),onClick:z}),(0,r.jsx)(o.zx,{icon:"sync",label:j("From JSON"),onClick:B})]}),(0,r.jsx)(o.zx,{icon:"qrcode",label:j("From Qr"),onClick:Y}),P&&(0,r.jsx)(o.zx,{icon:"project-diagram",label:j("From Ledger"),onClick:L}),(0,r.jsx)(o.zx,{icon:"plus",isDisabled:!Ne||!A,label:j("Multisig"),onClick:_}),(0,r.jsx)(o.zx,{icon:"plus",isDisabled:!Ae||!A,label:j("Proxied"),onClick:Z})]})]})),xe&&ie.length?St.map((function(e){return Te[e]&&(0,r.jsx)(o.iA,Nt({empty:j("No accounts"),header:Pe[e],isSplit:!0},{children:Te[e]}),e)})):(0,r.jsx)(o.iA,{empty:xe&&ie&&j("You don't have any accounts. Some features are currently hidden and will only become available once you have accounts."),header:Pe.accounts})]}))}));var Et,Mt=t(61261),Tt=t(76116),zt=t(22420),Dt=function(){return Dt=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Dt.apply(this,arguments)},Ft=o.zo.tr(Rt||(Rt=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  text-align: center;\n\n  &:hover {\n    background: #f9f8f7;\n  }\n\n  .vanity--Match-addr {\n    font-size: 1.1rem;\n\n    .no {\n      color: inherit;\n    }\n\n    .yes {\n      color: red;\n    }\n  }\n\n  .vanity--Match-buttons,\n  .vanity--Match-data,\n  .vanity--Match-icon {\n    display: inline-block;\n    vertical-align: middle;\n  }\n\n  .vanity--Match-item {\n    display: inline-block;\n    font: var(--font-mono);\n    margin: 0 auto;\n    padding: 0.5em;\n    position: relative;\n  }\n\n  .vanity--Match-seed {\n    opacity: 0.45;\n    padding: 0 1rem;\n  }\n"],["\n  text-align: center;\n\n  &:hover {\n    background: #f9f8f7;\n  }\n\n  .vanity--Match-addr {\n    font-size: 1.1rem;\n\n    .no {\n      color: inherit;\n    }\n\n    .yes {\n      color: red;\n    }\n  }\n\n  .vanity--Match-buttons,\n  .vanity--Match-data,\n  .vanity--Match-icon {\n    display: inline-block;\n    vertical-align: middle;\n  }\n\n  .vanity--Match-item {\n    display: inline-block;\n    font: var(--font-mono);\n    margin: 0 auto;\n    padding: 0.5em;\n    position: relative;\n  }\n\n  .vanity--Match-seed {\n    opacity: 0.45;\n    padding: 0 1rem;\n  }\n"])));const Bt=a.memo((function(e){var n=e.address,t=e.className,s=void 0===t?"":t,i=e.count,l=e.offset,c=e.onCreateToggle,u=e.onRemove,d=e.seed,h=(0,M.$)().t,p=(0,a.useMemo)((function(){return(0,C.c)(d)}),[d]),m=(0,a.useCallback)((function(){return c(p)}),[p,c]),f=(0,a.useCallback)((function(){return u(n)}),[n,u]);return(0,r.jsxs)(Ft,Dt({className:s},{children:[(0,r.jsx)("td",Dt({className:"number",colSpan:2},{children:(0,r.jsx)(o.k,{className:"vanity--Match-icon",value:n})})),(0,r.jsx)("td",Dt({className:"address all"},{children:(0,r.jsxs)("div",Dt({className:"vanity--Match-addr"},{children:[(0,r.jsx)("span",Dt({className:"no"},{children:n.slice(0,l)})),(0,r.jsx)("span",Dt({className:"yes"},{children:n.slice(l,i+l)})),(0,r.jsx)("span",Dt({className:"no"},{children:n.slice(i+l)}))]}))})),(0,r.jsx)("td",Dt({className:"hash"},{children:p})),(0,r.jsxs)("td",Dt({className:"button"},{children:[(0,r.jsx)(o.zx,{icon:"plus",label:h("Save"),onClick:m}),(0,r.jsx)(o.zx,{icon:"times",onClick:f})]}))]}))}));var Rt,Vt=function(){return Vt=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Vt.apply(this,arguments)},Lt=[{text:"No",value:!1},{text:"Yes",value:!0}],Ht=o.zo.div(_t||(_t=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  .vanity--App-matches {\n    overflow-x: auto;\n    padding: 1em 0;\n  }\n\n  .vanity--App-stats {\n    padding: 1em 0 0 0;\n    opacity: 0.45;\n    text-align: center;\n  }\n"],["\n  .vanity--App-matches {\n    overflow-x: auto;\n    padding: 1em 0;\n  }\n\n  .vanity--App-stats {\n    padding: 1em 0 0 0;\n    opacity: 0.45;\n    text-align: center;\n  }\n"])));const qt=a.memo((function(e){var n=e.className,t=void 0===n?"":n,s=e.onStatusChange,i=(0,M.$)().t,l=(0,u.h)(),c=l.api,d=l.isEthereum,h=(0,a.useRef)([]),p=(0,a.useRef)(!1),m=(0,Se.X)(),f=(0,a.useState)(null),v=f[0],g=f[1],b=(0,a.useState)({elapsed:0,isRunning:!1,keyCount:-1,keyTime:0,matches:[],startAt:0}),y=b[0],j=y.elapsed,w=y.isRunning,C=y.keyCount,k=y.matches,O=b[1],A=(0,a.useState)({isMatchValid:!0,match:"Some"}),S=A[0],P=S.isMatchValid,I=S.match,E=A[1],T=(0,a.useState)("ed25519"),z=T[0],D=T[1],F=(0,a.useState)(!0),B=F[0],R=F[1],V=(0,a.useCallback)((function(){return g(null)}),[]),L=(0,a.useCallback)((function(){var e=h.current;h.current=[],0!==e.length&&m.current&&O((function(n){var t=n.isRunning,r=n.keyCount,a=n.keyTime,s=n.matches,o=n.startAt,i=r,l=a,c=e.reduce((function(e,n){var t=n.elapsed,r=n.found;return i+=r.length,l+=t,e.concat(r)}),s);return{elapsed:Date.now()-o,isRunning:t,keyCount:i,keyTime:l,matches:c.sort(zt.Z).slice(0,25),startAt:o}}))}),[m]),H=(0,a.useCallback)((function(){if(!p.current)return L();(0,N.Y)((function(){m.current&&(25===h.current.length&&L(),h.current.push((0,Mt.Z)({match:I,runs:10,ss58Format:c.registry.chainSS58||0,type:z,withCase:B,withHex:!0})),H())}))}),[L,c,I,m,p,z,B]),q=(0,a.useCallback)((function(e){return E({isMatchValid:Tt.Z.test(e)&&0!==e.length&&e.length<31,match:e})}),[]),_=(0,a.useCallback)((function(e){return O((function(n){return Vt(Vt({},n),{matches:n.matches.filter((function(n){return n.address!==e}))})}))}),[]),W=(0,a.useCallback)((function(){return O((function(e){var n=e.elapsed,t=e.isRunning,r=e.keyCount,a=e.keyTime,s=e.matches,o=e.startAt;return{elapsed:n,isRunning:!t,keyCount:t?r:0,keyTime:t?a:0,matches:s,startAt:t?o:Date.now()}}))}),[]);(0,a.useEffect)((function(){p.current=w,w&&H()}),[H,w]);var G=(0,a.useMemo)((function(){return[[i("matches"),"start",2],[i("Evaluated {{count}} keys in {{elapsed}}s ({{avg}} keys/s)",{replace:{avg:(C/(j/1e3)).toFixed(3),count:C,elapsed:(j/1e3).toFixed(2)}}),"start --digits"],[i("secret"),"start"],[]]}),[j,C,i]);return(0,r.jsxs)(Ht,Vt({className:t},{children:[(0,r.jsxs)("div",Vt({className:"ui--row"},{children:[(0,r.jsx)(o.II,{autoFocus:!0,className:"medium",isDisabled:w,isError:!P,label:i("Search for"),onChange:q,onEnter:W,value:I}),(0,r.jsx)(o.Lt,{className:"medium",isDisabled:w,label:i("case sensitive"),onChange:R,options:Lt,value:B})]})),(0,r.jsx)("div",Vt({className:"ui--row"},{children:(0,r.jsx)(o.Lt,{className:"medium",defaultValue:z,label:i("keypair crypto type"),onChange:D,options:d?x.X.availableCryptosEth:x.X.availableCryptos})})),(0,r.jsx)(o.zx.Group,{children:(0,r.jsx)(o.zx,{icon:w?"stop":"sign-in-alt",isDisabled:!P,label:i(w?"Stop generation":"Start generation"),onClick:W})}),0!==k.length&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("article",Vt({className:"warning centered"},{children:i('Ensure that you utilized the "Save" functionality before using a generated address to receive funds. Without saving the address and the associated seed any funds sent to it will be lost.')})),(0,r.jsx)(o.iA,Vt({className:"vanity--App-matches",empty:i("No matches found"),header:G},{children:k.map((function(e){return(0,a.createElement)(Bt,Vt({},e,{key:e.address,onCreateToggle:g,onRemove:_}))}))}))]}),v&&(0,r.jsx)(le,{onClose:V,onStatusChange:s,seed:v,type:z})]}))}));var _t,Wt=function(){return Wt=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Wt.apply(this,arguments)},Gt=["vanity"];const Zt=a.memo((function(e){var n=e.basePath,t=e.onStatusChange,c=(0,M.$)().t,u=(0,i.x)().hasAccounts,d=(0,l.g)().isIpfs,h=(0,a.useRef)([{isRoot:!0,name:"overview",text:c("My accounts")},{name:"vanity",text:c("Vanity generator")}]);return(0,r.jsxs)("main",Wt({className:"accounts--App"},{children:[(0,r.jsx)(o.mQ,{basePath:n,hidden:u&&!d?void 0:Gt,items:h.current}),(0,r.jsxs)(s.rs,{children:[(0,r.jsx)(s.AW,Wt({path:"".concat(n,"/vanity")},{children:(0,r.jsx)(qt,{onStatusChange:t})})),(0,r.jsx)(s.AW,{children:(0,r.jsx)(It,{onStatusChange:t})})]})]}))}))},14868:(e,n,t)=>{t.d(n,{Z:()=>j});var r,a,s=t(52322),o=t(2784),i=t(2727),l=t(24732),c=t(5305),u=t(90778),d=t(9118),h=t(13940),p=t(95292),m=t(17965),f=t(33661),v=t(5469),g=function(){return g=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},g.apply(this,arguments)},x=function(e,n,t,r){return new(t||(t=Promise))((function(a,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function i(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,i)}l((r=r.apply(e,n||[])).next())}))},b=function(e,n){var t,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=n.call(e,o)}catch(e){i=[6,e],r=0}finally{t=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},y=(0,l.zo)(c.Z)(w||(r=["\n  .balance {\n    margin-bottom: 0.5rem;\n    text-align: right;\n    padding-right: 1rem;\n\n    .label {\n      opacity: 0.7;\n    }\n  }\n\n  label.with-help {\n    flex-basis: 10rem;\n  }\n\n  .typeToggle {\n    text-align: right;\n  }\n\n  .typeToggle+.typeToggle {\n    margin-top: 0.375rem;\n  }\n"],a=["\n  .balance {\n    margin-bottom: 0.5rem;\n    text-align: right;\n    padding-right: 1rem;\n\n    .label {\n      opacity: 0.7;\n    }\n  }\n\n  label.with-help {\n    flex-basis: 10rem;\n  }\n\n  .typeToggle {\n    text-align: right;\n  }\n\n  .typeToggle+.typeToggle {\n    margin-top: 0.375rem;\n  }\n"],Object.defineProperty?Object.defineProperty(r,"raw",{value:a}):r.raw=a,w=r));const j=o.memo((function(e){var n,t,r,a,j,w,C,k,N,O=this,A=e.className,S=void 0===A?"":A,P=e.onClose,I=e.recipientId,E=e.senderId,M=(0,v.$)().t,T=(0,u.h)().api,z=(0,o.useState)(p.nw),D=z[0],F=z[1],B=(0,o.useState)(!0)[0],R=(0,o.useState)(!0),V=R[0],L=R[1],H=(0,o.useState)(!1),q=H[0],_=H[1],W=(0,o.useState)([null,!1]),G=W[0],Z=G[0],U=G[1],J=W[1],Q=(0,o.useState)(null),Y=Q[0],K=Q[1],X=(0,o.useState)(null),$=X[0],ee=X[1],ne=(0,o.useState)([null,null]),te=ne[0][1],re=ne[1],ae=(0,d.W7)(null===(n=T.derive.balances)||void 0===n?void 0:n.all,[E||$]),se=(0,d.W7)(T.query.system.account,[E||$]);(0,o.useEffect)((function(){var e,n=E||$,t=I||Y;ae&&(null===(e=ae.accountId)||void 0===e?void 0:e.eq(n))&&n&&t&&T.call.transactionPaymentApi&&T.tx.balances?(0,m.Y)((function(){return x(O,void 0,Promise,(function(){var e,r,a,s;return b(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,T.tx.balances.transfer(t,ae.availableBalance).paymentInfo(n)];case 1:return e=o.sent().partialFee,r=e.muln(110).div(p.S8),a=ae.availableBalance.sub(r),J(T.consts.balances&&a.gt(T.consts.balances.existentialDeposit)?[a,!1]:[null,!0]),[3,3];case 2:return s=o.sent(),console.error(s),[3,3];case 3:return[2]}}))}))})):J([null,!1])}),[T,ae,I,E,Y,$]),(0,o.useEffect)((function(){(function(e,n){return x(this,void 0,Promise,(function(){var e,t;return b(this,(function(r){switch(r.label){case 0:return e=[null],n?[4,(0,i.fF)(n)]:[3,2];case 1:return t=r.sent(),[3,3];case 2:t=null,r.label=3;case 3:return[2,e.concat([t])]}}))}))})(0,I||Y).then(re).catch(console.error)}),[I,E,Y,$]);var oe=!se||(function(e){return!!e.refcount}(se)?se.refcount.isZero():se.consumers.isZero()),ie=!V&&ae&&(null===(t=ae.accountId)||void 0===t?void 0:t.eq(E||$))&&Z&&oe;return(0,s.jsxs)(y,g({className:"app--accounts-Modal",header:M("Send funds"),onClose:P,size:"large"},{children:[(0,s.jsx)(c.Z.Content,{children:(0,s.jsxs)("div",g({className:S},{children:[(0,s.jsx)(c.Z.Columns,g({hint:M("The transferred balance will be subtracted (along with fees) from the sender account.")},{children:(0,s.jsx)(l.rp,{defaultValue:E,isDisabled:!!E,label:M("send from account"),labelExtra:(0,s.jsx)(h.Z,{label:M("transferrable"),params:E||$}),onChange:ee,type:"account"})})),(0,s.jsxs)(c.Z.Columns,g({hint:M("The beneficiary will have access to the transferred fees when the transaction is included in a block.")},{children:[(0,s.jsx)(l.rp,{defaultValue:I,isDisabled:!!I,label:M("send to address"),labelExtra:(0,s.jsx)(h.Z,{label:M("transferrable"),params:I||Y}),onChange:K,type:"allPlus"}),te&&(0,s.jsx)(l.oy,{content:M("The recipient is associated with a known phishing site on {{url}}",{replace:{url:te}})})]})),(0,s.jsx)(c.Z.Columns,g({hint:M("If the recipient account is new, the balance needs to be more than the existential deposit. Likewise if the sending account balance drops below the same value, the account will be removed from the state.")},{children:ie&&q?(0,s.jsx)(l.H,{autoFocus:!0,defaultValue:Z,isDisabled:!0,label:M("transferrable minus fees")},null==Z?void 0:Z.toString()):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.H,{autoFocus:!0,isError:!B,isZeroable:!0,label:M("amount"),maxValue:Z,onChange:F}),(0,s.jsx)(l.H,{defaultValue:null===(r=T.consts.balances)||void 0===r?void 0:r.existentialDeposit,isDisabled:!0,label:M("existential deposit")})]})})),(0,s.jsxs)(c.Z.Columns,g({hint:M("With the keep-alive option set, the account is protected against removal due to low balances.")},{children:[(0,f.m)(null===(a=T.tx.balances)||void 0===a?void 0:a.transferKeepAlive)&&(0,s.jsx)(l.ZD,{className:"typeToggle",label:M(V?"Transfer with account keep-alive checks":"Normal transfer without keep-alive checks"),onChange:L,value:V}),ie&&(0,s.jsx)(l.ZD,{className:"typeToggle",label:M("Transfer the full account balance, reap the sender"),onChange:_,value:q}),!V&&!oe&&(0,s.jsx)(l.Pd,{content:M("There is an existing reference count on the sender account. As such the account cannot be reaped from the state.")}),U&&(0,s.jsx)(l.Pd,{content:M("The transaction, after application of the transfer fees, will drop the available balance below the existential deposit. As such the transfer will fail. The account needs more free funds to cover the transaction fees.")})]}))]}))}),(0,s.jsx)(c.Z.Actions,{children:(0,s.jsx)(l.cA,{accountId:E||$,icon:"paper-plane",isDisabled:!(B&&(I||Y)&&D&&!te),label:M("Make Transfer"),onStart:P,params:ie&&q?(0,f.m)(null===(j=T.tx.balances)||void 0===j?void 0:j.transferAll)?[I||Y,!1]:[I||Y,Z]:[I||Y,D],tx:ie&&q&&(0,f.m)(null===(w=T.tx.balances)||void 0===w?void 0:w.transferAll)?null===(C=T.tx.balances)||void 0===C?void 0:C.transferAll:V?null===(k=T.tx.balances)||void 0===k?void 0:k.transferKeepAlive:null===(N=T.tx.balances)||void 0===N?void 0:N.transfer})})]}))}));var w},5469:(e,n,t)=>{t.d(n,{$:()=>a});var r=t(61349);function a(){return(0,r.$G)("app-accounts")}},10189:(e,n,t)=>{t.d(n,{Z:()=>a});var r=t(34814);const a=(0,t(11677).e)("useCounter",(function(){return(0,r.x)().hasAccounts?null:"!"}))},1632:(e,n,t)=>{t.d(n,{nZ:()=>f,ol:()=>p,r:()=>m,v8:()=>v,xv:()=>d});var r=t(52322),a=t(46782),s=t.n(a),o=t(2784),i=t(41186),l=t(24732),c=t(11798),u=t(95292);function d(e,n,t){var a=n.filter((function(e){return!!e}));return a.length?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(l.v2.Divider,{}),t&&(0,r.jsx)(l.v2.Header,{children:t}),a]},e):null}function h(e){var n=e.json,t=e.pair;s().saveAs(new Blob([JSON.stringify(n)],{type:"application/json; charset=utf-8"}),"".concat(t.address,".json"))}function p(e,n){var t={action:"create",message:n,status:"success"};try{var r=e(),a=r.pair.address;t.account=a,"web"===(0,i.getEnvironment)()&&h(r),h(r),l.rp.setLastValue("account",a)}catch(e){t.status="error",t.message=e.message}return t}var m=["parent","name","date","balances"];function f(e,n,t,r,a){return function(e,n,t){if(t||2===arguments.length)for(var r,a=0,s=n.length;a<s;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))}([],e,!0).sort(function(e,n,t,r){function a(e,n){var t=r?1:-1;return function(r,a){return t*n(e(r),e(a))}}switch(t){case"parent":return a((function n(t){var r;if(t){var a=(null===(r=t.account)||void 0===r?void 0:r.meta.parentAddress)||"";return n(e[a])+t.address}return""}),(function(e,n){return e.localeCompare(n)}));case"name":return a((function(e){var n;return null!==(n=(0,c.Ly)(e.address).name)&&void 0!==n?n:""}),(function(e,n){return e.localeCompare(n)}));case"date":return a((function(e){var n,t;return null!==(t=null===(n=e.account)||void 0===n?void 0:n.meta.whenCreated)&&void 0!==t?t:0}),(function(e,n){return e-n}));case"balances":return a((function(e){var t,r;return null!==(r=null===(t=n[e.address])||void 0===t?void 0:t.total)&&void 0!==r?r:u.nw}),(function(e,n){return e.cmp(n)}))}}(n,t,r,a)).sort((function(e,n){return e.isFavorite===n.isFavorite?0:n.isFavorite?1:-1}))}function v(e){return"Erroneous"===e||"Low quality"===e?"red":"green"}},28096:(e,n,t)=>{t.d(n,{Z:()=>z});var r=t(52322),a=t(2784),s=t(7267),o=t(24732),i=t(81642),l=t(38894),c=t(54131),u=t(47623),d=t(90778),h=t(9118),p=t(69187),m=t(48533),f=t(73493),v=t(61349);function g(){return(0,v.$G)("app-addresses")}var x=function(){return x=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},x.apply(this,arguments)};const b=a.memo((function(e){var n,t=e.onClose,s=e.onStatusChange,i=g().t,l=(0,d.h)(),c=l.api,u=l.isEthereum,v=(0,a.useState)({isNameValid:!1,name:""}),b=v[0],y=b.isNameValid,j=b.name,w=v[1],C=(0,a.useState)({address:"",addressInput:"",isAddressExisting:!1,isAddressValid:!1,isPublicKey:!1}),k=C[0],N=k.address,O=k.addressInput,A=k.isAddressExisting,S=k.isAddressValid,P=C[1],I=(0,h.W7)(!!N&&S&&c.derive.accounts.info,[N]),E=S&&y&&!!(null==I?void 0:I.accountId),M=(0,a.useCallback)((function(e){var n="",t=!0,r=!1,a=!1;try{if(u){var s=(0,m.G)(e);n=(0,f.K)(s),a=20===s.length}else{var o=p.Nn.decodeAddress(e);n=p.Nn.encodeAddress(o),a=32===o.length}if(!t){var i=p.Nn.getAddress(n);if(i){var l=i.meta.name||j;r=!0,t=!0,w({isNameValid:!!(l||"").trim(),name:l})}}}catch(e){t=!1}P({address:t?n:"",addressInput:e,isAddressExisting:r,isAddressValid:t,isPublicKey:a})}),[u,j]),T=(0,a.useCallback)((function(e){return w({isNameValid:!!e.trim(),name:e})}),[]),z=(0,a.useCallback)((function(){var e={action:"create"};if(E&&(null==I?void 0:I.accountId)){try{var n=I.accountId.toString();p.Nn.saveAddress(n,{genesisHash:p.Nn.genesisHash,name:j.trim(),tags:[]}),e.account=n,e.status=n?"success":"error",e.message=i(A?"address edited":"address created"),o.rp.setLastValue("address",n)}catch(n){e.status="error",e.message=n.message}s(e),t()}}),[I,A,E,j,t,s,i]);return(0,r.jsxs)(o.u_,x({header:i("Add an address"),onClose:t},{children:[(0,r.jsx)(o.u_.Content,{children:(0,r.jsxs)(o.mV,x({defaultName:j,noDefaultNameOpacity:!0,value:S?null===(n=null==I?void 0:I.accountId)||void 0===n?void 0:n.toString():void 0},{children:[(0,r.jsx)(o.II,{autoFocus:!0,className:"full",isError:!S,label:i("address"),onChange:M,onEnter:z,placeholder:i("new address"),value:O}),(0,r.jsx)(o.II,{className:"full",isError:!y,label:i("name"),onChange:T,onEnter:z,value:j})]}))}),(0,r.jsx)(o.u_.Actions,{children:(0,r.jsx)(o.zx,{icon:"save",isDisabled:!E,label:i("Save"),onClick:z})})]}))}));var y=t(14868),j=t(60773),w=t(83696),C=t(33661),k=function(){return k=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},k.apply(this,arguments)},N={available:!1,bonded:!1,locked:!1,redeemable:!1,reserved:!1,total:!0,unlocking:!1,vested:!1},O={available:!0,bonded:!0,locked:!0,nonce:!0,redeemable:!0,reserved:!0,total:!1,unlocking:!0,vested:!0};const A=a.memo((function(e){var n,t=e.address,s=e.className,i=void 0===s?"":s,c=e.filter,u=e.isFavorite,h=e.toggleFavorite,m=g().t,f=(0,d.h)(),v=(0,j.Y)(t),x=(0,w.r)(t),b=(0,a.useState)([]),A=b[0],S=b[1],P=(0,a.useState)(""),I=P[0],E=P[1],M=(0,a.useState)(null),T=M[0],z=M[1],D=(0,a.useState)(null),F=D[0],B=D[1],R=(0,a.useState)(!1),V=R[0],L=R[1],H=(0,a.useState)(!1),q=H[0],_=H[1],W=(0,a.useState)(!0),G=W[0],Z=W[1],U=(0,l.O)(!1),J=U[0],Q=U[1],Y=(0,a.useCallback)((function(e){return S(e.sort())}),[]);(0,a.useEffect)((function(){var e=p.Nn.getAddress(t);z(e||null),B(e&&e.meta.genesisHash||null)}),[]),(0,a.useEffect)((function(){var e,n=v||{},t=n.identity,r=n.nickname;(0,C.m)(null===(e=f.api.query.identity)||void 0===e?void 0:e.identityOf)?(null==t?void 0:t.display)&&E(t.display):r&&E(r)}),[f,v]),(0,a.useEffect)((function(){var e,n,r=p.Nn.getAddress(t);Y((null===(e=null==r?void 0:r.meta)||void 0===e?void 0:e.tags)||[]),E((null===(n=null==r?void 0:r.meta)||void 0===n?void 0:n.name)||"")}),[Y,t]),(0,a.useEffect)((function(){if(0===c.length)Z(!0);else{var e=c.toLowerCase();Z(A.reduce((function(n,t){return n||t.toLowerCase().includes(e)}),I.toLowerCase().includes(e)))}}),[I,c,A]);var K=(0,a.useCallback)((function(e){B(e);var n=p.Nn.getAddress(t);n&&p.Nn.saveAddress(t,k(k({},n.meta),{genesisHash:e})),B(e)}),[t]),X=(0,a.useCallback)((function(){return L(!V)}),[V]),$=(0,a.useCallback)((function(){return _(!q)}),[q]),ee=(0,a.useCallback)((function(){if(t){var e={account:t,action:"forget"};try{p.Nn.forgetAddress(t),e.status="success",e.message=m("address forgotten")}catch(n){e.status="error",e.message=n.message}}}),[t,m]);if(!G)return null;var ne=(0,r.jsxs)(o.v2,{children:[(0,r.jsx)(o.v2.Item,{isDisabled:!1,label:m("Forget this address"),onClick:X}),!f.isDevelopment&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.v2.Divider,{}),(0,r.jsx)(o.H_,{className:"addresses--network-toggle",genesisHash:F,onChange:K})]})]});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("tr",k({className:"".concat(i," isExpanded isFirst packedBottom")},{children:[(0,r.jsx)(o.iA.Column.Favorite,{address:t,isFavorite:u,toggle:h}),(0,r.jsxs)("td",k({className:"address all"},{children:[(0,r.jsx)(o.N,{value:t,withShortAddress:!0}),t&&T&&(0,r.jsxs)(r.Fragment,{children:[V&&(0,r.jsx)(o.u5,{address:T.address,mode:"address",onClose:X,onForget:ee},"modal-forget-account"),q&&(0,r.jsx)(y.Z,{onClose:$,recipientId:t},"modal-transfer")]})]})),(0,r.jsx)("td",k({className:"actions button"},{children:(0,r.jsxs)(o.zx.Group,{children:[(0,C.m)(null===(n=f.api.tx.balances)||void 0===n?void 0:n.transfer)&&(0,r.jsx)(o.zx,{className:"send-button",icon:"paper-plane",label:m("send"),onClick:$},"send"),(0,r.jsx)(o.GI,{value:ne})]})})),(0,r.jsx)(o.iA.Column.Expand,{isExpanded:J,toggle:Q})]})),(0,r.jsxs)("tr",k({className:"".concat(i," isExpanded ").concat(J?"":"isLast"," packedTop")},{children:[(0,r.jsx)("td",{}),(0,r.jsx)("td",k({className:"balance all",colSpan:2},{children:(0,r.jsx)(o.hl,{address:t,balancesAll:x,withBalance:N})})),(0,r.jsx)("td",{})]})),(0,r.jsxs)("tr",k({className:"".concat(i," ").concat(J?"isExpanded isLast":"isCollapsed"," packedTop")},{children:[(0,r.jsx)("td",{}),(0,r.jsxs)("td",k({className:"balance columar",colSpan:2},{children:[(0,r.jsx)(o.hl,{address:t,balancesAll:x,withBalance:O}),(0,r.jsx)(o.P0,k({size:"tiny"},{children:(0,r.jsx)(o.P0.Column,{children:(0,r.jsx)("div",k({"data-testid":"tags"},{children:(0,r.jsx)(o.$G,{value:A,withTitle:!0})}))})})),(0,r.jsx)(o.P0,k({is100:!0},{children:(0,r.jsx)(o.P0.Column,{children:(0,r.jsx)(o.NR,{data:t,type:"address",withTitle:!0})})}))]})),(0,r.jsx)("td",{})]}))]})}));var S,P,I=function(){return I=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},I.apply(this,arguments)},E=o.zo.div(T||(S=["\n  .summary-box-contacts {\n    align-items: center;\n  }\n"],P=["\n  .summary-box-contacts {\n    align-items: center;\n  }\n"],Object.defineProperty?Object.defineProperty(S,"raw",{value:P}):S.raw=P,T=S));const M=a.memo((function(e){var n=e.className,t=void 0===n?"":n,s=e.onStatusChange,d=g().t,h=(0,i.J)().allAddresses,p=(0,l.O)(!1),m=p[0],f=p[1],v=(0,c.r)("accounts:favorites"),x=v[0],y=v[1],j=(0,a.useState)(),w=j[0],C=j[1],k=(0,a.useState)(""),N=k[0],O=k[1],S=(0,u.q)(),P=(0,a.useRef)([[d("contacts"),"start",4]]);return(0,a.useEffect)((function(){C(h.map((function(e){return{address:e,isFavorite:x.includes(e)}})).sort((function(e,n){return e.isFavorite===n.isFavorite?0:n.isFavorite?1:-1})))}),[h,x]),(0,r.jsxs)(E,I({className:t},{children:[m&&(0,r.jsx)(b,{onClose:f,onStatusChange:s}),(0,r.jsxs)(o.Ty,I({className:"summary-box-contacts"},{children:[(0,r.jsx)("section",{children:(0,r.jsx)(o.HS,{className:"media--1000",filterOn:N,label:d("filter by name or tags"),setFilter:O})}),(0,r.jsx)(o.zx.Group,{children:(0,r.jsx)(o.zx,{icon:"plus",label:d("Add contact"),onClick:f})})]})),(0,r.jsx)(o.iA,I({empty:S&&w&&d("no addresses saved yet, add any existing address"),header:P.current,isSplit:!0},{children:S&&(null==w?void 0:w.map((function(e){var n=e.address,t=e.isFavorite;return(0,r.jsx)(A,{address:n,filter:N,isFavorite:t,toggleFavorite:y},n)})))}))]}))}));var T;const z=a.memo((function(e){var n=e.basePath,t=e.onStatusChange,i=g().t,l=(0,a.useRef)([{isRoot:!0,name:"contacts",text:i("My contacts")}]);return(0,r.jsxs)("main",{children:[(0,r.jsx)(o.mQ,{basePath:n,items:l.current}),(0,r.jsx)(s.rs,{children:(0,r.jsx)(s.AW,{children:(0,r.jsx)(M,{onStatusChange:t})})})]})}))},49307:(e,n,t)=>{t.d(n,{Z:()=>X});var r=t(52322),a=t(2784),s=t(7267),o=t(92858),i=t(24732),l=t(90778),c=t(9118),u=t(70563),d=t(61349);function h(){return(0,d.$G)("app-alliance")}var p=t(62837),m=function(){return m=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},m.apply(this,arguments)};const f=a.memo((function(e){var n=e.className,t=e.value,a=t.cid,s=a.codec,o=a.hash_.code,i=a.version,l=t.ipfs,c=(0,p.Y)(l);return(0,r.jsxs)("tr",m({className:n},{children:[(0,r.jsx)("td",m({className:"start all"},{children:c&&(0,r.jsx)("a",m({href:c.ipfsUrl,rel:"noopener noreferrer",target:"_blank"},{children:c.ipfsHash}))})),(0,r.jsx)("td",m({className:"number"},{children:i.type})),(0,r.jsxs)("td",m({className:"number"},{children:["0x",s.toString(16)]})),(0,r.jsxs)("td",m({className:"number"},{children:["0x",o.toString(16)]}))]}))}));var v=function(){return v=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},v.apply(this,arguments)};const g=a.memo((function(e){var n=e.accouncements,t=e.className,s=h().t,o=(0,a.useRef)([[s("annoucements"),"start"],[s("version"),"number"],[s("codec"),"number"],[s("code"),"number"]]);return(0,r.jsx)("div",v({className:t},{children:(0,r.jsx)(i.iA,v({empty:n&&s("No annoucements"),header:o.current},{children:n&&n.map((function(e){return(0,r.jsx)(f,{value:e},e.key)}))}))}))}));var x=t(38894),b=t(54383),y=t(34814),j=function(){return j=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},j.apply(this,arguments)};const w=a.memo((function(e){var n=e.className,t=e.members,s=e.onClose,o=e.unscrupulous.accounts,c=h().t,u=(0,l.h)().api,d=(0,y.x)().allAccounts,p=(0,a.useState)(null),m=p[0],f=p[1],v=(0,a.useMemo)((function(){return d.filter((function(e){return!t.some((function(n){return n.accountId===e}))&&!o.some((function(n){return n===e}))}))}),[o,d,t]);return(0,r.jsxs)(i.u_,j({className:n,header:c("Join alliance"),onClose:s,size:"large"},{children:[(0,r.jsxs)(i.u_.Content,{children:[(0,r.jsx)(i.u_.Columns,j({hint:c("This account will be submitted to join the aliance. It will be allocated one of the alliance roles upon joining, starting with Ally.")},{children:(0,r.jsx)(i.rp,{filter:v,label:c("alliance account"),onChange:f,type:"account"})})),(0,r.jsx)(i.u_.Columns,j({hint:c("The bond will be reserved for the duration of your alliance membership.")},{children:(0,r.jsx)(i.H,{defaultValue:u.consts.alliance.allyDeposit,isDisabled:!0,label:c("alliance deposit")})}))]}),(0,r.jsx)(i.u_.Actions,{children:(0,r.jsx)(i.cA,{accountId:m,onStart:s,tx:u.tx.alliance.joinAlliance})})]}))}));var C=t(86135),k=t(11677);const N=(0,k.e)("useMemberInfo",(function(e){var n=(0,l.h)().api,t=(0,c.W7)(n.query.alliance.upForKicking,[e]),r=(0,c.W7)(n.query.alliance.retiringMembers,[e]),s=(0,c.W7)(n.query.alliance.depositOf,[e]);return(0,a.useMemo)((function(){return s&&{accountId:e,deposit:s.unwrapOr(null),isUpForKicking:t&&t.isTrue,retiringAt:r&&r.unwrapOr(null)}}),[e,s,r,t])}));var O=function(){return O=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},O.apply(this,arguments)};const A=a.memo((function(e){var n=e.bestNumber,t=e.className,s=e.info,o=s.accountId,c=s.role,u=e.isPrime,d=e.isVoter,p=h().t,m=(0,l.h)().api,f=(0,y.x)().allAccounts,v=N(o),g=(0,C.L)().queueExtrinsic,x=!!m.tx.alliance.giveRetirementNotice,b=(0,a.useMemo)((function(){return f.includes(o)}),[f,o]),j=(0,a.useCallback)((function(){return g({accountId:o,extrinsic:m.tx.alliance.retire()})}),[o,m,g]),w=(0,a.useCallback)((function(){return g({accountId:o,extrinsic:m.tx.alliance.giveRetirementNotice()})}),[o,m,g]);return(0,r.jsxs)("tr",O({className:t},{children:[(0,r.jsxs)("td",O({className:"address all relative"},{children:[(0,r.jsx)(i.N,{value:o}),(0,r.jsx)("div",O({className:"absolute"},{children:v&&v.isRetiringAt&&(0,r.jsx)(i.Vp,{color:"yellow",hover:p("Is retiring"),label:p("retirting")})||v&&v.isUpForKicking&&(0,r.jsx)(i.Vp,{color:"red",hover:p("Up for kicking"),label:p("kicking")})||u&&(0,r.jsx)(i.Vp,{color:"green",hover:p("Current prime member, default voting"),label:p("prime voter")})||d&&(0,r.jsx)(i.Vp,{color:"green",hover:p("Allowed to vote on motions"),label:p("voter")})}))]})),(0,r.jsx)("td",O({className:"number"},{children:c})),(0,r.jsx)("td",O({className:"button"},{children:b&&(0,r.jsx)(i.GI,{value:(0,r.jsxs)(i.v2,{children:[x&&(0,r.jsx)(i.v2.Item,{isDisabled:!(!v||!v.isRetiringAt),label:p("Announce retirement"),onClick:w}),(0,r.jsx)(i.v2.Item,{isDisabled:!!v&&(v.isUpForKicking||!!x&&(!n||!v.isRetiringAt||v.isRetiringAt.lt(n))),label:p("Retire"),onClick:j})]})},"settings")}))]}))}));var S=t(14681),P=function(){return P=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},P.apply(this,arguments)};const I=a.memo((function(e){var n=e.className,t=e.members,a=e.rule,s=h().t,o=(0,p.Y)(a&&a.cid&&a.cid.ipfs);return(0,r.jsxs)(i.Ty,P({className:n},{children:[(0,r.jsx)(i.Jy,P({label:s("rule")},{children:a?a.hasRule?o?(0,r.jsx)("a",P({href:o.ipfsUrl,rel:"noopener noreferrer",target:"_blank"},{children:o.ipfsShort})):s("yes"):s("no"):(0,r.jsx)("span",P({className:"--tmp"},{children:s("no")}))})),(0,r.jsx)(i.Jy,P({label:s("members")},{children:t?(0,S.u)(t.length):(0,r.jsx)("span",P({className:"--tmp"},{children:"99"}))}))]}))}));var E=function(){return E=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},E.apply(this,arguments)};const M=a.memo((function(e){var n=e.className,t=e.members,s=e.prime,o=e.rule,l=e.unscrupulous,c=e.voters,u=h().t,d=(0,x.O)(),p=d[0],m=d[1],f=(0,b.C)(),v=(0,a.useRef)([[u("members"),"start",3]]);return(0,r.jsxs)("div",E({className:n},{children:[(0,r.jsx)(I,{members:t,rule:o}),(0,r.jsxs)(i.zx.Group,{children:[(0,r.jsx)(i.zx,{icon:"add",isDisabled:!t||!l,label:u("Join"),onClick:m}),t&&l&&p&&(0,r.jsx)(w,{members:t,onClose:m,unscrupulous:l})]}),(0,r.jsx)(i.iA,E({empty:t&&u("No members"),header:v.current,isSplit:!0,maxColumns:2},{children:t&&t.map((function(e){return(0,r.jsx)(A,{bestNumber:f,info:e,isPrime:s===e.accountId,isVoter:!!c&&c.includes(e.accountId)},e.accountId)}))}))]}))}));var T=function(){return T=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},T.apply(this,arguments)};const z=a.memo((function(e){var n=e.className,t=e.value;return(0,r.jsx)("tr",T({className:n},{children:(0,r.jsx)("td",T({className:"address all"},{children:(0,r.jsx)(i.N,{value:t})}))}))}));var D=function(){return D=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},D.apply(this,arguments)};const F=a.memo((function(e){var n=e.className,t=e.value;return(0,r.jsx)("tr",D({className:n},{children:(0,r.jsx)("td",D({className:"start all"},{children:t}))}))}));var B=function(){return B=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},B.apply(this,arguments)};const R=a.memo((function(e){var n=e.className,t=e.unscrupulous,s=h().t,o=(0,a.useRef)([[s("accounts"),"start"]]),l=(0,a.useRef)([[s("websites"),"start"]]);return(0,r.jsxs)("div",B({className:n},{children:[(0,r.jsx)(i.iA,B({empty:t&&t.accounts&&s("No accounts"),header:o.current},{children:t&&t.accounts.map((function(e){return(0,r.jsx)(z,{value:e},e)}))})),(0,r.jsx)(i.iA,B({empty:t&&t.websites&&s("No websites"),header:l.current},{children:t&&t.websites.map((function(e){return(0,r.jsx)(F,{value:e},e)}))}))]}))}));var V=t(67292);function L(e){return{cid:e,ipfs:(0,V.c)(e),key:e.toHex()}}var H={transform:function(e){return e.map(L)}};const q=(0,k.e)("useAnnouncements",(function(){var e=(0,l.h)().api;return(0,c.W7)(e.query.alliance.announcements,[],H)}));var _=["Retiring","Ally","Fellow"];const W=(0,k.e)("useMembers",(function(){var e=(0,l.h)().api,n=(0,a.useState)(),t=n[0],r=n[1],s=(0,c.W7)(e.query.alliance.members,[_[0]]),o=(0,c.W7)(e.query.alliance.members,[_[1]]),i=(0,c.W7)(e.query.alliance.members,[_[2]]);return(0,a.useEffect)((function(){s&&o&&i&&r((function(e){return void 0===e&&(e=[]),function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];for(var r=[],a=function(t){for(var a=_[t],s=n[t],o=function(n){var t=s[n].toString(),o=e.find((function(e){return e.accountId===t&&e.role===a}));r.push(o||{accountId:t,role:a})},i=0;i<s.length;i++)o(i)},s=0;s<_.length;s++)a(s);return r.reverse()}(e,s,o,i)}))}),[s,o,i]),t}));var G={transform:function(e){return e.isSome?{cid:L(e.unwrap()),hasRule:!0}:{cid:null,hasRule:!1}}};const Z=(0,k.e)("useRule",(function(){var e=(0,l.h)().api;return(0,c.W7)(e.query.alliance.rule,[],G)}));function U(e){return e.map((function(e){return e.toString()}))}var J={transform:function(e){return U(e)}},Q={transform:function(e){return U(e.filter((function(e){return e.isAscii})))}};const Y=(0,k.e)("useUnscrupulous",(function(){var e=(0,l.h)().api,n=(0,c.W7)(e.query.alliance.unscrupulousAccounts,[],J),t=(0,c.W7)(e.query.alliance.unscrupulousWebsites,[],Q);return(0,a.useMemo)((function(){return n&&t&&{accounts:n,websites:t}}),[n,t])}));var K=function(){return K=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},K.apply(this,arguments)};const X=a.memo((function(e){var n=e.basePath,t=e.className,d=h().t,p=(0,l.h)().api,m=(0,c.W7)(p.derive.alliance.proposalHashes),f=(0,u.V)("alliance"),v=f.isMember,x=f.members,b=f.prime,y=q(),j=W(),w=Z(),C=Y(),k=(0,a.useCallback)((function(e){return"alliance"===e}),[]),N=(0,a.useMemo)((function(){return[{isRoot:!0,name:"overview",text:d("Overview")},{name:"motions",text:d("Motions ({{count}})",{replace:{count:m&&m.length||0}})},{name:"announcements",text:d("Announcements ({{count}})",{replace:{count:y&&y.length||0}})},{name:"unscrupulous",text:d("Unscrupulous")}]}),[y,m,d]);return(0,r.jsxs)("main",K({className:t},{children:[(0,r.jsx)(i.mQ,{basePath:n,items:N}),(0,r.jsxs)(s.rs,{children:[(0,r.jsx)(s.AW,K({path:"".concat(n,"/announcements")},{children:(0,r.jsx)(g,{accouncements:y})})),(0,r.jsx)(s.AW,K({path:"".concat(n,"/motions")},{children:(0,r.jsx)(o.Z,{defaultProposal:p.tx.alliance.addUnscrupulousItems,defaultThreshold:.6666666666666666,filter:k,isMember:v,members:x,prime:b,proposalHashes:m,type:"alliance"})})),(0,r.jsx)(s.AW,K({path:"".concat(n,"/unscrupulous")},{children:(0,r.jsx)(R,{unscrupulous:C})})),(0,r.jsx)(s.AW,{children:(0,r.jsx)(M,{isVoter:v,members:j,prime:b,rule:w,unscrupulous:C,voters:x})})]})]}))}))},58370:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(2784),a=t(90778),s=t(9118);const o=(0,t(11677).e)("useCounter",(function(){var e=(0,a.h)(),n=e.api,t=e.isApiReady,o=(0,s.W7)(t&&n.derive.alliance.proposalHashes);return(0,r.useMemo)((function(){return o&&o.length||0}),[o])}))},25467:(e,n,t)=>{t.d(n,{Z:()=>le});var r=t(52322),a=t(2784),s=t(7267),o=t(24732),i=t(34814),l=t(95292),c=t(14681),u=t(61349);function d(){return(0,u.$G)("app-assets")}var h=t(58607),p=t(90778),m=t(38894),f=function(){return f=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},f.apply(this,arguments)};const v=a.memo((function(e){var n=e.accountId,t=e.assetId,s=e.className,i=e.minBalance,l=e.siFormat,c=l[0],u=l[1],h=d().t,v=(0,p.h)().api,g=(0,m.O)(),x=g[0],b=g[1],y=(0,a.useState)(),j=y[0],w=y[1],C=(0,a.useState)(null),k=C[0],N=C[1],O=(0,a.useState)(!0),A=O[0],S=O[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.zx,{icon:"paper-plane",label:h("send"),onClick:b}),x&&(0,r.jsxs)(o.u_,f({className:s,header:h("transfer asset"),onClose:b,size:"large"},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsx)(o.u_.Columns,f({hint:h("The account to transfer from. This account should have sufficient assets for this transfer.")},{children:(0,r.jsx)(o.rp,{defaultValue:n,isDisabled:!0,label:h("send from")})})),(0,r.jsx)(o.u_.Columns,f({hint:h("The beneficiary will have access to the transferred asset when the transaction is included in a block.")},{children:(0,r.jsx)(o.rp,{label:h("send to address"),onChange:N,type:"allPlus"})})),(0,r.jsx)(o.u_.Columns,f({hint:h("The amount of tokens to transfer to the account.")},{children:(0,r.jsx)(o.H,{autoFocus:!0,label:h("amount to transfer"),onChange:w,siDecimals:c,siSymbol:u})})),(0,r.jsx)(o.u_.Columns,f({hint:h("The minimum balance allowed for the asset.")},{children:(0,r.jsx)(o.H,{defaultValue:i,isDisabled:!0,label:h("minimum balance"),siDecimals:c,siSymbol:u})})),(0,r.jsx)(o.u_.Columns,f({hint:h("With the keep-alive option set, the account is protected against removal due to low balances.")},{children:(0,r.jsx)(o.ZD,{className:"typeToggle",label:h(A?"Transfer with account keep-alive checks":"Normal transfer without keep-alive checks"),onChange:S,value:A})}))]}),(0,r.jsx)(o.u_.Actions,{children:(0,r.jsx)(o.cA,{accountId:n,icon:"paper-plane",isDisabled:!k||!j,label:h("Send"),onStart:b,params:[t,k,j],tx:A?v.tx.assets.transferKeepAlive:v.tx.assets.transfer})})]}))]})}));var g=function(){return g=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},g.apply(this,arguments)};const x=a.memo((function(e){var n=e.account,t=n.balance,a=n.isFrozen,s=n.reason,i=n.sufficient,l=e.accountId,c=e.assetId,u=e.className,p=e.minBalance,m=e.siFormat,f=d().t;return(0,r.jsxs)("tr",g({className:u},{children:[(0,r.jsx)("td",g({className:"address"},{children:(0,r.jsx)(o.N,{value:l})})),(0,r.jsx)("td",g({className:"start"},{children:a.isTrue?f("Yes"):f("No")})),(0,r.jsx)("td",g({className:"start"},{children:i?i.isTrue?f("Yes"):f("No"):null==s?void 0:s.toString()})),(0,r.jsx)("td",g({className:"number all"},{children:(0,r.jsx)(h.Z,{format:m,value:t})})),(0,r.jsx)("td",g({className:"button"},{children:(0,r.jsx)(v,{accountId:l,assetId:c,minBalance:p,siFormat:m})}))]}))}));var b=t(9118),y=t(11677),j={transform:function(e){var n=e[0][0],t=e[1];return{accounts:n.map((function(e,n){var r,a=e[1],s=t[n];return{account:(r=s,r.isSome||r.isNone?s.unwrapOr(null):s),accountId:a}})).filter((function(e){return!!e.account&&!e.account.balance.isZero()})),assetId:n[0][0]}},withParamsTransform:!0};const w=(0,y.e)("useBalances",(function(e){var n=(0,p.h)().api,t=(0,i.x)().allAccounts,r=(0,a.useMemo)((function(){return[t.map((function(n){return[e,n]}))]}),[t,e]),s=(0,b.W7)(r&&n.query.assets.account.multi,r,j);return s&&e&&s.assetId===e&&s.accounts||null}));var C,k,N=function(){return N=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},N.apply(this,arguments)},O=o.zo.div(S||(C=["\n  table {\n    overflow: auto;\n  }\n"],k=["\n  table {\n    overflow: auto;\n  }\n"],Object.defineProperty?Object.defineProperty(C,"raw",{value:k}):C.raw=k,S=C));const A=a.memo((function(e){var n=e.className,t=e.infos,s=void 0===t?[]:t,i=d().t,l=(0,a.useState)(0),u=l[0],h=l[1],p=(0,a.useState)(null),m=p[0],f=p[1],v=w(null==m?void 0:m.id),g=(0,a.useRef)([[i("accounts"),"start"],[i("frozen"),"start"],[i("sufficient"),"start"],[],[]]),b=(0,a.useMemo)((function(){return s.filter((function(e){return!(!e.details||!e.metadata||e.details.supply.isZero())})).sort((function(e,n){return e.id.cmp(n.id)}))}),[s]),y=(0,a.useMemo)((function(){return b.map((function(e,n){var t=e.id,r=e.metadata;return{text:"".concat(r.name.toUtf8()," (").concat((0,c.u)(t),")"),value:n}}))}),[b]),j=(0,a.useMemo)((function(){return m?[m.metadata.decimals.toNumber(),m.metadata.symbol.toUtf8().toUpperCase()]:[0,"NONE"]}),[m]);return(0,a.useEffect)((function(){f((function(){return u>=0&&u<b.length?b[u]:null}))}),[b,u]),(0,r.jsx)(O,N({className:n},{children:(0,r.jsx)(o.iA,N({empty:m&&v&&i("No accounts with balances found for the asset"),filter:y.length?(0,r.jsx)(o.Lt,{isFull:!0,label:i("the asset to query for balances"),onChange:h,options:y,value:u}):void 0,header:g.current},{children:m&&(null==v?void 0:v.map((function(e){var n=e.account,t=e.accountId;return(0,r.jsx)(x,{account:n,accountId:t,assetId:m.id,minBalance:m.details.minBalance,siFormat:j},t)})))}))}))}));var S,P=function(){return P=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},P.apply(this,arguments)};const I=a.memo((function(e){var n=e.className,t=e.details,s=t.issuer,i=t.minBalance,l=e.id,c=e.metadata,u=e.onClose,h=d().t,m=(0,p.h)().api,f=(0,a.useState)(),v=f[0],g=f[1],x=(0,a.useState)(null),b=x[0],y=x[1],j=(0,a.useMemo)((function(){return v&&v.gte(i)}),[v,i]),w=(0,a.useMemo)((function(){return[c.decimals.toNumber(),c.symbol.toUtf8().toUpperCase()]}),[c]),C=w[0],k=w[1];return(0,r.jsxs)(o.u_,P({className:n,header:h("mint asset"),onClose:u,size:"large"},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsx)(o.u_.Columns,P({hint:h("The recipient account for this minting operation.")},{children:(0,r.jsx)(o.rp,{defaultValue:s,isDisabled:!0,label:h("issuer account")})})),(0,r.jsx)(o.u_.Columns,P({hint:h("The recipient account for this minting operation.")},{children:(0,r.jsx)(o.rp,{label:h("mint to address"),onChange:y,type:"allPlus"})})),(0,r.jsx)(o.u_.Columns,P({hint:h("The amount of tokens to issue to the account.")},{children:(0,r.jsx)(o.H,{autoFocus:!0,isError:!j,isZeroable:!1,label:h("amount to issue"),onChange:g,siDecimals:C,siSymbol:k})})),(0,r.jsx)(o.u_.Columns,P({hint:h("The minimum balance allowed for the asset.")},{children:(0,r.jsx)(o.H,{defaultValue:i,isDisabled:!0,label:h("minimum balance"),siDecimals:C,siSymbol:k})}))]}),(0,r.jsx)(o.u_.Actions,{children:(0,r.jsx)(o.cA,{accountId:s,icon:"plus",isDisabled:!b||!j,label:h("Mint"),onStart:u,params:[l,b,v],tx:m.tx.assets.mint})})]}))})),E=a.memo((function(e){var n=e.className,t=e.details,a=e.id,s=e.metadata,i=d().t,l=(0,m.O)(),c=l[0],u=l[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.zx,{icon:"plus",isDisabled:s.isFrozen.isTrue,label:i("Mint"),onClick:u}),c&&(0,r.jsx)(I,{className:n,details:t,id:a,metadata:s,onClose:u})]})}));var M=function(){return M=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},M.apply(this,arguments)};const T=a.memo((function(e){var n=e.className,t=e.value,s=t.details,i=t.id,l=t.isIssuerMe,c=t.metadata,u=(0,a.useMemo)((function(){return c?[c.decimals.toNumber(),c.symbol.toUtf8()]:[0,"---"]}),[c]);return(0,r.jsxs)("tr",M({className:n},{children:[(0,r.jsx)(o.iA.Column.Id,{value:i}),(0,r.jsx)("td",M({className:"together"},{children:null==c?void 0:c.name.toUtf8()})),(0,r.jsx)("td",M({className:"address media--1000"},{children:s&&(0,r.jsx)(o.N,{value:s.owner})})),(0,r.jsx)("td",M({className:"address media--1300"},{children:s&&(0,r.jsx)(o.N,{value:s.admin})})),(0,r.jsx)("td",M({className:"address media--1600"},{children:s&&(0,r.jsx)(o.N,{value:s.issuer})})),(0,r.jsx)("td",M({className:"address media--1900"},{children:s&&(0,r.jsx)(o.N,{value:s.freezer})})),(0,r.jsx)("td",M({className:"number all"},{children:s&&(0,r.jsx)(h.Z,{format:u,value:s.supply})})),(0,r.jsx)("td",M({className:"button"},{children:s&&c&&l&&(0,r.jsx)(E,{details:s,id:i,metadata:c})}))]}))}));var z=function(){return z=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},z.apply(this,arguments)};const D=a.memo((function(e){var n=e.className,t=e.infos,s=d().t,i=(0,a.useRef)([[s("assets"),"start",2],[s("owner"),"address media--1000"],[s("admin"),"address media--1300"],[s("issuer"),"address media--1600"],[s("freezer"),"address media--1900"],[s("supply")],[]]);return(0,r.jsx)(o.iA,z({className:n,empty:t&&s("No assets found"),header:i.current},{children:null==t?void 0:t.map((function(e){return(0,r.jsx)(T,{value:e},e.key)}))}))}));var F=t(98551),B=t(79760),R=function(){return R=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},R.apply(this,arguments)};const V=a.memo((function(e){var n=e.assetIds,t=e.className,s=void 0===t?"":t,i=e.defaultValue,c=e.onChange,u=e.openId,h=d().t,m=(0,p.h)().api,f=(0,a.useState)((function(){return i}))[0],v=(0,a.useState)((function(){return u}))[0],g=(0,a.useState)(null),x=g[0],b=g[1],y=(0,a.useState)(),j=y[0],w=y[1],C=(0,a.useState)(),k=C[0],N=C[1],O=(0,a.useState)((function(){return null==i?void 0:i.assetName})),A=O[0],S=O[1],P=(0,a.useState)((function(){return null==i?void 0:i.assetSymbol})),I=P[0],E=P[1],M=(0,a.useState)(),T=M[0],z=M[1],D=(0,a.useMemo)((function(){return k&&I?[k.toNumber(),I.toUpperCase()]:[0,"NONE"]}),[k,I]),F=D[0],B=D[1],V=(0,a.useMemo)((function(){return!!k&&k.lten(20)}),[k]),L=(0,a.useMemo)((function(){return!!A&&A.length>=3&&A.length<=32}),[A]),H=(0,a.useMemo)((function(){return!!I&&I.length>=3&&I.length<=7}),[I]),q=(0,a.useMemo)((function(){return!!j&&j.gt(l.nw)&&!n.some((function(e){return e.eq(j)}))}),[j,n]);return(0,a.useEffect)((function(){c(j&&A&&I&&k&&q&&L&&H&&V&&x&&T&&!T.isZero()?{accountId:x,assetDecimals:k,assetId:j,assetName:A,assetSymbol:I,minBalance:T}:null)}),[m,x,k,j,n,A,I,q,L,H,V,T,c]),(0,r.jsxs)(o.u_.Content,R({className:s},{children:[(0,r.jsx)(o.u_.Columns,R({hint:h("The account that is to be used to create this asset and setup the initial metadata.")},{children:(0,r.jsx)(o.rp,{defaultValue:null==f?void 0:f.accountId,label:h("creator account"),onChange:b,type:"account"})})),(0,r.jsx)(o.u_.Columns,R({hint:h("The descriptive name for this asset.")},{children:(0,r.jsx)(o.II,{autoFocus:!0,defaultValue:null==f?void 0:f.assetName,isError:!L,label:h("asset name"),onChange:S})})),(0,r.jsx)(o.u_.Columns,R({hint:h("The symbol that will represent this asset.")},{children:(0,r.jsx)(o.II,{defaultValue:null==f?void 0:f.assetSymbol,isError:!H,label:h("asset symbol"),onChange:E})})),(0,r.jsx)(o.u_.Columns,R({hint:h("The number of decimals for this token. Max allowed via the UI is set to 20.")},{children:(0,r.jsx)(o.Rn,{defaultValue:null==f?void 0:f.assetDecimals,isError:!V,label:h("asset decimals"),onChange:N})})),(0,r.jsx)(o.u_.Columns,R({hint:h("The minimum balance for the asset. This is specified in the units and decimals as requested.")},{children:(0,r.jsx)(o.H,{defaultValue:null==f?void 0:f.minBalance,isZeroable:!1,label:h("minimum balance"),onChange:z,siDecimals:F,siSymbol:B})})),(0,r.jsx)(o.u_.Columns,R({hint:h("The selected id for the asset. This should not match an already-existing asset id.")},{children:(0,r.jsx)(o.Rn,{defaultValue:(null==f?void 0:f.assetId)||v,isError:!q,isZeroable:!1,label:h("asset id"),onChange:w})}))]}))}));var L=function(){return L=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},L.apply(this,arguments)};const H=a.memo((function(e){var n=e.accountId,t=e.className,s=void 0===t?"":t,i=e.defaultValue,l=e.onChange,c=d().t,u=(0,p.h)().api,h=(0,a.useState)((function(){return i}))[0],m=(0,a.useState)(null),f=m[0],v=m[1],g=(0,a.useState)(null),x=g[0],b=g[1],y=(0,a.useState)(null),j=y[0],w=y[1];return(0,a.useEffect)((function(){l(f&&x&&j?{adminId:f,freezerId:x,issuerId:j}:null)}),[u,f,x,j,l]),(0,r.jsxs)(o.u_.Content,L({className:s},{children:[(0,r.jsx)(o.u_.Columns,L({hint:c("The account that is to be used for ongoing admin on the token.")},{children:(0,r.jsx)(o.rp,{defaultValue:(null==h?void 0:h.adminId)||n,label:c("admin account"),onChange:v,type:"account"})})),(0,r.jsx)(o.u_.Columns,L({hint:c("The account that is to be used for issuing this token.")},{children:(0,r.jsx)(o.rp,{defaultValue:(null==h?void 0:h.issuerId)||n,label:c("issuer account"),onChange:w,type:"account"})})),(0,r.jsx)(o.u_.Columns,L({hint:c("The account that is to be used for performing freezing.")},{children:(0,r.jsx)(o.rp,{defaultValue:(null==h?void 0:h.freezerId)||n,label:c("freezer account"),onChange:b,type:"account"})}))]}))}));var q=function(){return q=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},q.apply(this,arguments)},_={type:"all"};const W=a.memo((function(e){var n=e.assetIds,t=e.className,s=e.onClose,i=e.openId,l=d().t,c=(0,p.h)().api,u=(0,F.t)(),h=u[0],m=u[1],f=u[2],v=(0,a.useState)(null),g=v[0],x=v[1],b=(0,a.useState)(null),y=b[0],j=b[1],w=(0,a.useMemo)((function(){return g?[c.tx.assets.create(g.assetId,g.accountId,g.minBalance),c.tx.assets.setMetadata(g.assetId,g.assetName,g.assetSymbol,g.assetDecimals)]:[null,null]}),[c,g]),C=w[0],k=w[1],N=(0,a.useMemo)((function(){return g&&y&&(y.adminId!==g.accountId||y.freezerId!==g.accountId||y.issuerId!==g.accountId)?c.tx.assets.setTeam(g.assetId,y.issuerId,y.adminId,y.freezerId):null}),[c,g,y]),O=(0,a.useMemo)((function(){return C&&k&&y&&(N?[C,k,N]:[C,k])}),[C,k,y,N]),A=(0,B.b)(O,_);return(0,r.jsxs)(o.u_,q({className:t,header:l("create asset {{step}}/{{steps}}",{replace:{step:h,steps:2}}),onClose:s,size:"large"},{children:[1===h&&(0,r.jsx)(V,{assetIds:n,defaultValue:g,onChange:x,openId:i}),2===h&&g&&(0,r.jsx)(H,{accountId:g.accountId,defaultValue:y,onChange:j}),(0,r.jsxs)(o.u_.Actions,{children:[1===h&&(0,r.jsx)(o.zx,{icon:"step-forward",isDisabled:!g,label:l("Next"),onClick:m}),2===h&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.zx,{icon:"step-backward",label:l("Prev"),onClick:f}),(0,r.jsx)(o.cA,{accountId:null==g?void 0:g.accountId,extrinsic:A,icon:"plus",label:l("Create"),onStart:s})]})]})]}))})),G=a.memo((function(e){var n=e.assetIds,t=e.className,a=e.openId,s=d().t,l=(0,i.x)().hasAccounts,c=(0,m.O)(),u=c[0],h=c[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.zx,{icon:"plus",isDisabled:!n||!l,label:s("Create"),onClick:h}),u&&n&&(0,r.jsx)(W,{assetIds:n,className:t,onClose:h,openId:a})]})}));var Z=function(){return Z=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Z.apply(this,arguments)};const U=a.memo((function(e){var n=e.className,t=e.numAssets,a=d().t;return(0,r.jsx)(o.Ty,Z({className:n},{children:(0,r.jsx)(o.Jy,Z({label:a("assets")},{children:(0,c.u)(t)}))}))}));var J=function(){return J=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},J.apply(this,arguments)};const Q=a.memo((function(e){var n=e.className,t=e.ids,a=e.infos,s=e.openId;return(0,r.jsxs)("div",J({className:n},{children:[(0,r.jsx)(U,{numAssets:null==t?void 0:t.length}),(0,r.jsx)(o.zx.Group,{children:(0,r.jsx)(G,{assetIds:t,openId:s})}),(0,r.jsx)(D,{infos:a})]}))}));var Y=t(12298),K=t(39824),X=[],$={transform:function(e){return e.map((function(e){return e.args[0]}))}};function ee(e){var n=[],t=[];return e.forEach((function(e){var r=e.event,a=r.data[0],s=r.method;"Created"===s||"ForceCreated"===s?n.push(a):t.push(a)})),{added:n,removed:t}}const ne=(0,y.e)("useAssetIds",(function(){var e=(0,p.h)().api,n=(0,Y.k)(e.query.assets.asset,X,$);return(0,K.N)([e.events.assets.Created,e.events.assets.Destroyed,e.events.assets.ForceCreated],ee,n)}));var te=function(){return te=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},te.apply(this,arguments)},re={isAdminMe:!1,isFreezerMe:!1,isIssuerMe:!1,isOwnerMe:!1},ae={withParams:!0};function se(e,n){var t=n.toString();return e.some((function(e){return e===t}))}const oe=(0,y.e)("useAssetInfos",(function(e){var n=(0,p.h)().api,t=(0,i.x)().allAccounts,r=(0,b.W7)(n.query.assets.metadata.multi,[e],ae),s=(0,b.W7)(n.query.assets.asset.multi,[e],ae),o=(0,a.useState)(),l=o[0],c=o[1];return(0,a.useEffect)((function(){s&&r&&s[0][0].length===r[0][0].length&&c(s[0][0].map((function(e,n){return function(e,n,t,r){var a=t.unwrapOr(null);return te(te({},a?{isAdminMe:se(e,a.admin),isFreezerMe:se(e,a.freezer),isIssuerMe:se(e,a.issuer),isOwnerMe:se(e,a.owner)}:re),{details:a,id:n,key:n.toString(),metadata:r.isEmpty?null:r})}(t,e,s[1][n],r[1][n])})))}),[t,s,e,r]),l}));var ie=function(){return ie=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},ie.apply(this,arguments)};const le=a.memo((function(e){var n=e.basePath,t=e.className,c=d().t,u=(0,i.x)().hasAccounts,h=ne(),p=oe(h),m=(0,a.useRef)([{isRoot:!0,name:"overview",text:c("Overview")},{name:"balances",text:c("Balances")}]),f=(0,a.useMemo)((function(){return u&&p&&p.some((function(e){var n=e.details,t=e.metadata;return!(!n||!t)}))?[]:["balances"]}),[u,p]),v=(0,a.useMemo)((function(){return function(e){if(!e||!e.length)return l.If;var n=e.find((function(n,t){return 0===t?!n.eq(l.If):!n.sub(l.If).eq(e[t-1])}));return n?n.sub(l.If):e[e.length-1].add(l.If)}(h)}),[h]);return(0,r.jsxs)("main",ie({className:t},{children:[(0,r.jsx)(o.mQ,{basePath:n,hidden:f,items:m.current}),(0,r.jsxs)(s.rs,{children:[(0,r.jsx)(s.AW,ie({path:"".concat(n,"/balances")},{children:(0,r.jsx)(A,{infos:p})})),(0,r.jsx)(s.AW,{children:(0,r.jsx)(Q,{ids:h,infos:p,openId:v})})]})]}))}))},9178:(e,n,t)=>{t.d(n,{Z:()=>tn});var r=t(52322),a=t(2784),s=t(24732),o=t(68920),i=t(58607),l=t(48801),c=t.n(l),u=t(14681),d=t(61349);function h(){return(0,d.$G)("app-bounties")}var p=function(){return p=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},p.apply(this,arguments)};const m=a.memo((function(e){var n=e.className,t=void 0===n?"":n,l=e.info,d=l.bestNumber,m=l.bounties,f=l.bountyCount,v=l.childCount,g=h().t,x=(0,o._)().spendPeriod,b=(0,a.useMemo)((function(){return(m||[]).reduce((function(e,n){var t=n.bounty.value;return e.iadd(t)}),new(c())(0))}),[m]);return(0,r.jsxs)(s.Ty,p({className:"".concat(t," ui--BountySummary")},{children:[(0,r.jsxs)("section",{children:[m&&(0,r.jsx)(s.Jy,p({label:g("active")},{children:(0,u.u)(m.length)})),f&&m&&(0,r.jsx)(s.Jy,p({label:g("past")},{children:(0,u.u)(f.subn(m.length))})),v&&(0,r.jsx)(s.Jy,p({label:g("children")},{children:(0,u.u)(v)}))]}),(0,r.jsx)("section",{children:(0,r.jsx)(s.Jy,p({label:g("active total")},{children:(0,r.jsx)(i.Z,{value:b,withSi:!0})}))}),(0,r.jsx)("section",{children:d&&!x.isZero()&&(0,r.jsx)(s.Jy,{label:g("funding period"),progress:{total:x,value:d.mod(x),withTime:!0}})})]}))}));var f=t(38894),v=function(){return v=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},v.apply(this,arguments)},g=t(11677),x=(0,g.e)("useBountyStatus",(function(e){return(0,a.useCallback)((function(){return function(e){var n={beneficiary:void 0,bountyStatus:e.type,curator:void 0,unlockAt:void 0,updateDue:void 0};return e.isCuratorProposed&&(n=v(v({},n),{bountyStatus:"CuratorProposed",curator:e.asCuratorProposed.curator})),e.isActive&&(n=v(v({},n),{curator:e.asActive.curator,updateDue:e.asActive.updateDue})),e.isPendingPayout&&(n=v(v({},n),{beneficiary:e.asPendingPayout.beneficiary,bountyStatus:"PendingPayout",curator:e.asPendingPayout.curator,unlockAt:e.asPendingPayout.unlockAt})),n}(e)}),[e])()})),b=t(95292),y=t(90778),j=t(9118),w=t(54383),C=function(){return C=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},C.apply(this,arguments)},k=(0,g.e)("useBounties",(function(){var e,n=(0,y.h)().api,t=(0,j.W7)(n.derive.bounties.bounties),r=(0,j.W7)((n.query.bounties||n.query.treasury).bountyCount),s=(0,j.W7)(null===(e=n.query.childBounties)||void 0===e?void 0:e.childBountyCount),o=(0,w.C)(),i=(0,a.useMemo)((function(){return function(e){var n=e.consts.bounties||e.consts.treasury,t=e.tx.bounties||e.tx.treasury;return{bountyCuratorDeposit:n.bountyCuratorDeposit||b.nw,bountyDepositBase:n.bountyDepositBase,bountyUpdatePeriod:n.bountyUpdatePeriod,bountyValueMinimum:n.bountyValueMinimum,dataDepositPerByte:n.dataDepositPerByte,maximumReasonLength:n.maximumReasonLength.toNumber(),acceptCurator:t.acceptCurator,approveBounty:t.approveBounty,awardBounty:t.awardBounty,claimBounty:t.claimBounty,closeBounty:t.closeBounty,extendBountyExpiry:t.extendBountyExpiry,proposeBounty:t.proposeBounty,proposeCurator:t.proposeCurator,unassignCurator:t.unassignCurator}}(n)}),[n]);return(0,a.useMemo)((function(){return C(C({},i),{bestNumber:o,bounties:t,bountyCount:r,childCount:s})}),[o,t,r,s,i])})),N={dark:"#8E8E8E",light:"#4D4D4D"},O=function(){return O=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},O.apply(this,arguments)},A=s.zo.div((function(e){var n=e.theme;return"\n  display: flex;\n  align-items: center;\n  font-size: var(--font-size-small);\n  line-height: 1.5rem;\n\n  .info-icon {\n    margin-right: 0.2rem;\n\n    svg {\n      color: ".concat(N[n.theme],";\n    }\n  }\n\n  .description {\n    font-weight: var(--font-weight-normal);\n    var(font-size: var(--font-size-tiny);)\n    line-height: 0.864rem;\n    color: var(--color-label);\n    word-wrap: break-word;\n  }\n")}));const S=a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.description,o=e.type,i=void 0===o?"info":o;return(0,r.jsxs)(A,O({className:t},{children:["warning"===i&&(0,r.jsx)("div",O({className:"info-icon"},{children:(0,r.jsx)(s.JO,{icon:"exclamation-triangle"})})),(0,r.jsx)("div",O({className:"description"},{children:a}))]}))}));var P=new(c())("10000");const I=a.memo((function(e){var n=e.bestNumber,t=e.blocksUntilUpdate,s=e.status,o=h().t,i=x(s).unlockAt,l=k().bountyUpdatePeriod,c=(0,a.useMemo)((function(){return null==i?void 0:i.sub(n)}),[n,i]),u=null==l?void 0:l.muln(10).div(b.S8),d=null!=u?u:P;return(0,r.jsxs)("div",{children:[(null==t?void 0:t.lte(b.nw))&&(0,r.jsx)(S,{description:o("Update overdue"),type:"warning"}),(null==t?void 0:t.lt(d))&&(null==t?void 0:t.gt(b.nw))&&(0,r.jsx)(S,{description:o("Close deadline"),type:"warning"}),s.isApproved&&(0,r.jsx)(S,{description:o("Waiting for Bounty Funding"),type:"info"}),s.isCuratorProposed&&(0,r.jsx)(S,{description:o("Waiting for Curator's acceptance"),type:"info"}),(null==c?void 0:c.lt(b.nw))&&(0,r.jsx)(S,{description:o("Waiting for implementer to claim"),type:"info"})]})}));var E={Active:["closeBounty","unassignCurator"],Approved:[],CuratorProposed:["closeBounty","unassignCurator"],Funded:["proposeCurator","closeBounty"],PendingPayout:["unassignCurator"],Proposed:["approveBounty","closeBounty"]};function M(e,n){var t;return null!==(t=function(e,n){return e.find((function(e){var t=e.proposal;return t&&t.method===n}))}(e,function(e,n){var t=e.map((function(e){var n=e.proposal;return n&&n.method}));return function(e){return E[e.type]}(n).find((function(e){return t.includes(e)}))}(e,n)))&&void 0!==t?t:null}var T=t(34814);function z(e,n){return e.length>n?e.substring(0,n-1)+String.fromCharCode(8230):e}var D=function(){return D=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},D.apply(this,arguments)};const F=a.memo((function(e){var n=e.curatorId,t=e.description,o=e.index,i=h().t,l=k().awardBounty,c=(0,T.x)().allAccounts,u=(0,f.O)(),d=u[0],p=u[1],m=(0,a.useState)(null),v=m[0],g=m[1];return(0,a.useMemo)((function(){return c.includes(n.toString())}),[c,n])?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.zx,{icon:"award",isDisabled:!1,label:i("Reward implementer"),onClick:p}),d&&(0,r.jsxs)(s.u_,D({header:"".concat(i("award bounty"),' - "').concat(z(t,30),'"'),onClose:p,size:"large"},{children:[(0,r.jsxs)(s.u_.Content,{children:[(0,r.jsx)(s.u_.Columns,D({hint:i("The Curator account that will be used to send this transaction. Any applicable fees will be paid by this account.")},{children:(0,r.jsx)(s.rp,{defaultValue:n,isDisabled:!0,label:i("award with account"),type:"account",withLabel:!0})})),(0,r.jsx)(s.u_.Columns,D({hint:i("Reward the bounty to an implementer's account. The implementer will be able to claim the funds after a delay period.")},{children:(0,r.jsx)(s.rp,{label:i("implementer account"),onChange:g,withLabel:!0})}))]}),(0,r.jsx)(s.u_.Actions,{children:(0,r.jsx)(s.cA,{accountId:n,icon:"check",label:i("Approve"),onStart:p,params:[o,v],tx:l})})]}))]}):null}));var B=t(70563),R=(0,g.e)("useUserRole",(function(e){var n=(0,T.x)(),t=n.allAccounts,r=n.hasAccounts,s=(0,B.V)("council").isMember;return(0,a.useMemo)((function(){var n=!!e&&t.includes(e.toString()),a=[];return n&&a.push("Curator"),s&&a.push("Member"),r&&a.push("User"),{isCurator:n,roles:a}}),[t,e,r,s])})),V=function(){return V=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},V.apply(this,arguments)};const L=a.memo((function(e){var n=e.curatorId,t=e.description,o=e.fee,i=e.index,l=h().t,c=k().acceptCurator,u=R(n).isCurator,d=k().bountyCuratorDeposit,p=(0,f.O)(),m=p[0],v=p[1],g=(0,a.useMemo)((function(){return e=d,o.mul(e).div(b.uy);var e}),[o,d]);return u?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.zx,{icon:"check",isDisabled:!1,label:l("Accept"),onClick:v}),m&&(0,r.jsxs)(s.u_,V({header:"".concat(l("accept curator role"),' - "').concat(z(t,30),'"'),onClose:v,size:"large"},{children:[(0,r.jsxs)(s.u_.Content,{children:[(0,r.jsx)(s.u_.Columns,V({hint:l("Only the account proposed as curator by the council can create the assign curator transaction")},{children:(0,r.jsx)(s.rp,{isDisabled:!0,label:l("curator account"),type:"account",value:n.toString(),withLabel:!0})})),(0,r.jsx)(s.u_.Columns,V({hint:l("This amount will be sent to your account after bounty is rewarded and you claim curator's fee.")},{children:(0,r.jsx)(s.H,{defaultValue:o.toString(),isDisabled:!0,label:l("curator's fee")})})),(0,r.jsx)(s.u_.Columns,V({hint:l("This amount will be reserved from your account and returned after bounty claim is confirmed or if you give up, unless you are slashed earlier.")},{children:(0,r.jsx)(s.H,{defaultValue:g.toString(),isDisabled:!0,label:l("curator's deposit")})}))]}),(0,r.jsx)(s.u_.Actions,{children:(0,r.jsx)(s.cA,{accountId:n,icon:"check",label:l("Accept Curator Role"),onStart:v,params:[i],tx:c})})]}))]}):null})),H=a.memo((function(e){var n=e.beneficiaryId,t=e.index,o=e.payoutDue,i=h().t,l=k().claimBounty,c=(0,T.x)().allAccounts;return(0,a.useMemo)((function(){return function(e,n,t){return t.ltn(0)&&e.includes(n.toString())}(c,n,o)}),[c,n,o])?(0,r.jsx)(s.cA,{accountId:n,icon:"plus",label:i("Claim"),params:[t],tx:l}):null}));var q=t(30943),_=t(81190),W=function(){return W=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},W.apply(this,arguments)},G=["approveBounty","closeBounty"];const Z=a.memo((function(e){var n=e.description,t=e.index,o=e.proposals,i=h().t,l=(0,y.h)().api,u=(0,B.V)("council"),d=u.isMember,p=u.members,m=(0,_.m)("council"),v=k(),g=v.approveBounty,x=v.closeBounty,b=(0,f.O)(),j=b[0],w=b[1],C=(0,a.useState)(null),N=C[0],O=C[1],A=(0,a.useState)(),S=A[0],P=A[1];(0,a.useEffect)((function(){p&&P(new(c())(Math.ceil(p.length*(0,q.mo)(l))))}),[l,p]);var I=(0,a.useRef)(g(t)),E=(0,a.useRef)(x(t)),M=(0,a.useMemo)((function(){return 0!==(null==o?void 0:o.filter((function(e){var n=e.proposal;return n&&G.includes(n.method)})).length)}),[o]);return d&&!M&&m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.zx,{icon:"step-forward",isDisabled:!1,label:i("Initiate voting"),onClick:w}),j&&(0,r.jsxs)(s.u_,W({header:"".concat(i("Initiate voting"),' - "').concat(z(n,30),'"'),onClose:w,size:"large"},{children:[(0,r.jsx)(s.u_.Content,{children:(0,r.jsx)(s.u_.Columns,W({hint:i('The council member that will create a motion, submission equates to an "aye" vote for chosen option.')},{children:(0,r.jsx)(s.rp,{filter:p,label:i("vote with account"),onChange:O,type:"account",withLabel:!0})}))}),(0,r.jsxs)(s.u_.Actions,{children:[(0,r.jsx)(s.cA,{accountId:N,icon:"check",isDisabled:!1,label:i("Approve"),onStart:w,params:[S,I.current,I.current.length],tx:l.tx[m].propose}),(0,r.jsx)(s.cA,{accountId:N,icon:"ban",isDisabled:!1,label:i("Reject"),onStart:w,params:[S,E.current,E.current.length],tx:l.tx[m].propose})]})]}))]}):null}));var U=function(){return U=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},U.apply(this,arguments)},J=["proposeCurator"];const Q=a.memo((function(e){var n=e.description,t=e.index,o=e.proposals,i=e.value,l=h().t,u=(0,y.h)().api,d=(0,B.V)("council"),p=d.isMember,m=d.members,v=(0,_.m)("council"),g=k().proposeCurator,x=(0,f.O)(),b=x[0],j=x[1],w=(0,a.useState)(null),C=w[0],N=w[1],O=(0,a.useState)(null),A=O[0],S=O[1],P=(0,a.useState)(),I=P[0],E=P[1],M=(0,a.useState)(),T=M[0],D=M[1],F=(0,a.useState)(!1),R=F[0],V=F[1];(0,a.useEffect)((function(){m&&E(new(c())(Math.ceil(m.length*(0,q.mo)(u))))}),[u,m]);var L=(0,a.useMemo)((function(){return A&&g(t,A,T)}),[A,T,t,g]),H=(0,a.useMemo)((function(){return 0!==(null==o?void 0:o.filter((function(e){var n=e.proposal;return n&&J.includes(n.method)})).length)}),[o]);return(0,a.useEffect)((function(){V(!!T&&!!(null==i?void 0:i.gt(T)))}),[i,T]),p&&!H&&v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.zx,{icon:"step-forward",isDisabled:!1,label:l("Propose curator"),onClick:j}),b&&(0,r.jsxs)(s.u_,U({header:"".concat(l("Propose curator"),' - "').concat(z(n,30),'"'),onClose:j,size:"large",testId:"propose-curator-modal"},{children:[(0,r.jsxs)(s.u_.Content,{children:[(0,r.jsx)(s.u_.Columns,U({hint:l("The council member that will create the motion.")},{children:(0,r.jsx)(s.rp,{filter:m,label:l("proposing account"),onChange:N,type:"account",withLabel:!0})})),(0,r.jsx)(s.u_.Columns,U({hint:l("Choose a curator whose background and expertise is such that they are capable of determining when the task is complete.")},{children:(0,r.jsx)(s.rp,{label:l("select curator"),onChange:S,withLabel:!0})})),(0,r.jsxs)(s.u_.Columns,U({hint:l("Part of the bounty value that will go to the Curator as a reward for their work")},{children:[(0,r.jsx)(s.H,{isError:!R,isZeroable:!0,label:l("curator's fee"),onChange:D,value:T}),!R&&(0,r.jsx)(s.oy,{content:l("Curator's fee can't be higher than bounty value.")})]}))]}),(0,r.jsx)(s.u_.Actions,{children:(0,r.jsx)(s.cA,{accountId:C,icon:"check",isDisabled:!R,label:l("Propose curator"),onStart:j,params:[I,L,null==L?void 0:L.length],tx:u.tx[v].propose})})]}))]}):null}));function Y(e){var n=e.bestNumber,t=e.description,s=e.fee,o=e.index,i=e.proposals,l=e.status,c=e.value,u=x(l),d=u.beneficiary,h=u.curator,p=u.unlockAt,m=(0,a.useMemo)((function(){return null==p?void 0:p.sub(n)}),[n,p]);return(0,r.jsxs)(r.Fragment,{children:[l.isProposed&&(0,r.jsx)(Z,{description:t,index:o,proposals:i}),l.isFunded&&(0,r.jsx)(Q,{description:t,index:o,proposals:i,value:c}),l.isCuratorProposed&&h&&s&&(0,r.jsx)(L,{curatorId:h,description:t,fee:s,index:o}),l.isPendingPayout&&d&&m&&(0,r.jsx)(H,{beneficiaryId:d,index:o,payoutDue:m}),l.isActive&&h&&(0,r.jsx)(F,{curatorId:h,description:t,index:o})]})}var K=function(){return K=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},K.apply(this,arguments)};const X=a.memo((function(e){var n=e.curatorId,t=e.description,a=e.index,o=e.toggleOpen,i=h().t,l=k().unassignCurator;return(0,r.jsxs)(s.u_,K({header:"".concat(i("reject curator"),' - "').concat(z(t,30),'"'),onClose:o,size:"large"},{children:[(0,r.jsx)(s.u_.Content,{children:(0,r.jsx)(s.u_.Columns,K({hint:i("Only the account proposed as curator by the council can create the unassign curator transaction ")},{children:(0,r.jsx)(s.rp,{isDisabled:!0,label:i("curator account"),type:"account",value:n.toString(),withLabel:!0})}))}),(0,r.jsx)(s.u_.Actions,{children:(0,r.jsx)(s.cA,{accountId:n,icon:"times",label:i("Reject"),onStart:o,params:[a],tx:l})})]}))}));var $=function(){return $=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},$.apply(this,arguments)};const ee=a.memo((function(e){var n=e.description,t=e.index,o=e.toggleOpen,i=h().t,l=(0,y.h)().api,u=(0,B.V)("council").members,d=(0,_.m)("council"),p=k().closeBounty,m=(0,a.useState)(null),f=m[0],v=m[1],g=(0,a.useState)(),x=g[0],b=g[1];(0,a.useEffect)((function(){u&&b(new(c())(Math.ceil(u.length*(0,q.mo)(l))))}),[l,u]);var j=(0,a.useRef)(p(t));return d?(0,r.jsxs)(s.u_,$({header:"".concat(i("close bounty"),' - "').concat(z(n,30),'"'),onClose:o,size:"large"},{children:[(0,r.jsx)(s.u_.Content,{children:(0,r.jsx)(s.u_.Columns,$({hint:i('The council member that will create the close bounty proposal, submission equates to an "aye" vote.')},{children:(0,r.jsx)(s.rp,{filter:u,label:i("propose with account"),onChange:v,type:"account",withLabel:!0})}))}),(0,r.jsx)(s.u_.Actions,{children:(0,r.jsx)(s.cA,{accountId:f,icon:"ban",isDisabled:!1,label:i("Close Bounty"),onStart:o,params:[x,j.current,j.current.length],tx:l.tx[d].propose})})]})):null}));var ne=t(97794),te=function(){return te=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},te.apply(this,arguments)};const re=a.memo((function(e){var n=e.curatorId,t=e.description,o=e.index,i=e.toggleOpen,l=h().t,c=k(),u=c.bountyUpdatePeriod,d=c.extendBountyExpiry,p=(0,a.useState)(""),m=p[0],f=p[1],v=(0,ne.h)(u),g=v[0],x=v[1],b=(0,a.useCallback)((function(e){f(e)}),[]),y=(0,a.useMemo)((function(){return u&&function(e,n){return new Date(Date.now()+e.muln(n).toNumber())}(u,g)}),[u,g]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(s.u_,te({header:"".concat(l("extend expiry"),' - "').concat(z(t,30),'"'),onClose:i,size:"large"},{children:[(0,r.jsxs)(s.u_.Content,{children:[(0,r.jsx)(s.u_.Columns,te({hint:l("Only curator can extend the bounty time.")},{children:(0,r.jsx)(s.rp,{isDisabled:!0,label:l("curator account"),type:"account",value:n.toString(),withLabel:!0})})),y&&(0,r.jsx)(s.u_.Columns,te({hint:l("Bounty expiry time will be set to ".concat(x," from now."))},{children:(0,r.jsx)(s.II,{isDisabled:!0,label:l("new expiry date and time"),value:"".concat(y.toLocaleDateString()," ").concat(y.toLocaleTimeString())})})),(0,r.jsx)(s.u_.Columns,te({hint:l("The note that will be added to the transaction. It won't be stored on chain")},{children:(0,r.jsx)(s.II,{autoFocus:!0,defaultValue:"",label:l("bounty remark"),onChange:b,value:m})}))]}),(0,r.jsx)(s.u_.Actions,{children:(0,r.jsx)(s.cA,{accountId:n,icon:"check",label:l("Accept"),onStart:i,params:[o,m],tx:d})})]}))})}));var ae=function(){return ae=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},ae.apply(this,arguments)};const se=a.memo((function(e){var n=e.curatorId,t=e.description,a=e.index,o=e.toggleOpen,i=h().t,l=k().unassignCurator;return(0,r.jsxs)(s.u_,ae({header:"".concat(i("give up curator's role"),' - "').concat(z(t,30),'"'),onClose:o,size:"large"},{children:[(0,r.jsx)(s.u_.Content,{children:(0,r.jsx)(s.u_.Columns,ae({hint:i("You are giving up your curator role, the bounty will return to the Funded state. You will get your deposit back.")},{children:(0,r.jsx)(s.rp,{isDisabled:!0,label:i("curator account"),type:"account",value:n.toString(),withLabel:!0})}))}),(0,r.jsx)(s.u_.Actions,{children:(0,r.jsx)(s.cA,{accountId:n,icon:"check",label:i("Give up"),onStart:o,params:[a],tx:l})})]}))}));var oe=function(){return oe=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},oe.apply(this,arguments)};const ie=a.memo((function(e){var n=e.action,t=e.curatorId,o=e.description,i=e.index,l=e.toggleOpen,u=h().t,d=(0,y.h)().api,p=(0,B.V)("council").members,m=(0,_.m)("council"),f=k().unassignCurator,v=(0,a.useState)(null),g=v[0],x=v[1],b=(0,a.useState)(),j=b[0],w=b[1],C=(0,T.x)().allAccounts;(0,a.useEffect)((function(){p&&w(new(c())(Math.ceil(p.length*(0,q.mo)(d))))}),[d,p]);var N=(0,a.useMemo)((function(){return f(i)}),[i,f]),O=(0,a.useMemo)((function(){return{SlashCuratorAction:{filter:C,header:u("This action will Slash the Curator."),params:[i],proposingAccountTip:u("The account that will create the transaction."),tip:u("Curator's deposit will be slashed and curator will be unassigned. Bounty will return to the Funded state."),title:u("Slash curator"),tx:f},SlashCuratorMotion:{filter:p,header:u("This action will create a Council motion to slash the Curator."),params:[j,N,null==N?void 0:N.length],proposingAccountTip:u('The council member that will create the motion, submission equates to an "aye" vote.'),tip:u("If the motion is approved, Curator's deposit will be slashed and Curator will be unassigned. Bounty will return to the Funded state."),title:u("Slash curator"),tx:m&&d.tx[m].propose},UnassignCurator:{filter:p,header:u("This action will create a Council motion to unassign the Curator."),params:[j,N,null==N?void 0:N.length],proposingAccountTip:u('The council member that will create the motion, submission equates to an "aye" vote.'),tip:u("If the motion is approved, the current Curator will be unassigned and the Bounty will return to the Funded state."),title:u("Unassign curator"),tx:m&&d.tx[m].propose}}}),[u,i,f,d,C,m,p,j,N])[n],A=O.filter,S=O.params,P=O.proposingAccountTip,I=O.tip,E=O.title,M=O.tx;return M?(0,r.jsxs)(s.u_,oe({header:"".concat(E,' - "').concat(z(o,30),'"'),onClose:l,size:"large"},{children:[(0,r.jsxs)(s.u_.Content,{children:[(0,r.jsx)(s.u_.Columns,oe({hint:P},{children:(0,r.jsx)(s.rp,{filter:A,label:u("proposing account"),onChange:x,type:"account",withLabel:!0})})),(0,r.jsx)(s.u_.Columns,oe({hint:I},{children:(0,r.jsx)(s.rp,{defaultValue:t,isDisabled:!0,label:u("current curator"),withLabel:!0})}))]}),(0,r.jsx)(s.u_.Actions,{children:(0,r.jsx)(s.cA,{accountId:g,icon:"check",label:"Approve",onStart:l,params:S,tx:M})})]})):null}));var le=function(){return le=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},le.apply(this,arguments)};const ce=a.memo((function(e){var n=e.bestNumber,t=e.className,o=e.description,i=e.index,l=e.proposals,c=e.status,u=(0,f.O)(),d=u[0],p=u[1],m=(0,f.O)(),v=m[0],g=m[1],y=(0,f.O)(),j=y[0],w=y[1],C=(0,f.O)(),k=C[0],N=C[1],O=(0,f.O)(),A=O[0],S=O[1],P=(0,a.useState)(),I=P[0],E=P[1],M=h().t,T=(0,B.V)("council").isMember,z=x(c),D=z.curator,F=z.updateDue,V=R(D),L=V.isCurator,H=function(e,n,t){var r=[];return n.isCuratorProposed&&e.includes("Member")&&r.push("UnassignCurator"),n.isActive&&(e.includes("Member")&&r.push("SlashCuratorMotion"),e.includes("User")&&t&&t.lt(b.nw)&&r.push("SlashCuratorAction")),n.isPendingPayout&&e.includes("Member")&&r.push("SlashCuratorMotion"),r}(V.roles,c,(0,a.useMemo)((function(){return null==F?void 0:F.sub(n)}),[n,F])),q=(0,a.useRef)({SlashCuratorAction:M("Slash curator"),SlashCuratorMotion:M("Slash curator (Council)"),UnassignCurator:M("Unassign curator")}),_=(0,a.useMemo)((function(){return null==l?void 0:l.find((function(e){var n=e.proposal;return n&&"closeBounty"===n.method}))}),[l]),W=(0,a.useMemo)((function(){return null==l?void 0:l.find((function(e){var n=e.proposal;return n&&"unassignCurator"===n.method}))}),[l]),G=(c.isFunded||c.isActive||c.isCuratorProposed)&&T&&!_,Z=c.isCuratorProposed&&L,U=c.isActive&&L,J=c.isActive&&L,Q=(c.isCuratorProposed||c.isActive||c.isPendingPayout)&&!W&&0!==H.length,Y=!(G||Z||J||Q||U),K=(0,a.useCallback)((function(e){return function(){E(e),w()}}),[w]);return Y?null:(0,r.jsxs)("div",le({className:t},{children:[d&&(0,r.jsx)(ee,{description:o,index:i,toggleOpen:p}),v&&D&&(0,r.jsx)(X,{curatorId:D,description:o,index:i,toggleOpen:g}),k&&D&&(0,r.jsx)(re,{curatorId:D,description:o,index:i,toggleOpen:N}),A&&D&&(0,r.jsx)(se,{curatorId:D,description:o,index:i,toggleOpen:S}),j&&D&&I&&(0,r.jsx)(ie,{action:I,curatorId:D,description:o,index:i,toggleOpen:w}),(0,r.jsx)(s.GI,{value:(0,r.jsxs)(s.v2,le({className:"settings-menu"},{children:[G&&(0,r.jsx)(s.v2.Item,{label:M("Close"),onClick:p},"closeBounty"),Z&&(0,r.jsx)(s.v2.Item,{label:M("Reject curator"),onClick:g},"rejectCurator"),J&&(0,r.jsx)(s.v2.Item,{label:M("Extend expiry"),onClick:N},"extendExpiry"),U&&(0,r.jsx)(s.v2.Item,{label:M("Give up"),onClick:S},"giveUpCurator"),Q&&H.map((function(e){return(0,r.jsx)(s.v2.Item,{label:q.current[e],onClick:K(e)},e)}))]}))})]}))}));var ue,de,he=function(){return he=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},he.apply(this,arguments)},pe=s.zo.div(fe||(ue=["\n  margin-top: 0.28rem;\n  font-size: var(--font-size-tiny);\n  line-height: 0.85rem;\n  color: var(--color-label);\n"],de=["\n  margin-top: 0.28rem;\n  font-size: var(--font-size-tiny);\n  line-height: 0.85rem;\n  color: var(--color-label);\n"],Object.defineProperty?Object.defineProperty(ue,"raw",{value:de}):ue.raw=de,fe=ue));const me=a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.dataTestId,s=void 0===a?"":a,o=e.description;return(0,r.jsx)(pe,he({className:t,"data-testid":s},{children:o}))}));var fe,ve=function(){return ve=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},ve.apply(this,arguments)},ge=s.zo.div(be||(be=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  margin-left: 0.2rem;\n"],["\n  margin-left: 0.2rem;\n"])));const xe=a.memo((function(e){var n,t,o=e.className,i=(n=e.proposal,t=e.status,n.proposal&&"unassignCurator"!==n.proposal.method?n.proposal.method:t.isCuratorProposed?"unassignCurator":"slashCurator"),l=h().t,c=(0,a.useRef)({approveBounty:l("Bounty approval under voting"),closeBounty:l("Bounty rejection under voting"),proposeCurator:l("Curator proposal under voting"),slashCurator:l("Curator slash under voting"),unassignCurator:l("Unassign curator under voting")});return(0,r.jsx)(ge,ve({className:o,"data-testid":"voting-description"},{children:i&&c.current[i]&&(0,r.jsx)(s.ob,{help:c.current[i]})}))}));var be,ye=function(){return ye=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},ye.apply(this,arguments)},je=s.zo.a(Ce||(Ce=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  line-height: 0.85rem;\n  font-size: var(--font-size-tiny);\n  text-decoration: underline;\n"],["\n  line-height: 0.85rem;\n  font-size: var(--font-size-tiny);\n  text-decoration: underline;\n"])));const we=a.memo((function(e){var n=e.className,t=h().t;return(0,r.jsx)(je,ye({className:n,href:"#/council/motions"},{children:t("Voting")}))}));var Ce,ke=function(){return ke=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},ke.apply(this,arguments)},Ne=s.zo.div(Ae||(Ae=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  .voting-summary-text {\n    font-size: var(--font-size-small);\n    line-height: 1.5rem;\n    color: var(--color-label);\n\n    span {\n      min-width: 0.5rem;\n      margin-right: 0.5rem;\n    }\n  }\n\n  .link-info {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    line-height: 1.5rem;\n  }\n"],["\n  .voting-summary-text {\n    font-size: var(--font-size-small);\n    line-height: 1.5rem;\n    color: var(--color-label);\n\n    span {\n      min-width: 0.5rem;\n      margin-right: 0.5rem;\n    }\n  }\n\n  .link-info {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    line-height: 1.5rem;\n  }\n"])));const Oe=a.memo((function(e){var n=e.className,t=e.proposal,s=e.status,o=(0,B.V)("council").members,i=h().t,l=(0,a.useMemo)((function(){var e,n;return null===(n=null===(e=null==t?void 0:t.votes)||void 0===e?void 0:e.ayes)||void 0===n?void 0:n.length}),[t]),c=(0,a.useMemo)((function(){var e,n;return null===(n=null===(e=null==t?void 0:t.votes)||void 0===e?void 0:e.nays)||void 0===n?void 0:n.length}),[t]),u=(0,a.useMemo)((function(){var e;return null===(e=null==t?void 0:t.votes)||void 0===e?void 0:e.threshold.toNumber()}),[t]),d=(0,a.useMemo)((function(){return(null==o?void 0:o.length)&&u?o.length-u+1:0}),[o,u]);return(0,r.jsx)(r.Fragment,{children:t&&(0,r.jsxs)(Ne,ke({className:n,"data-testid":"voting-summary"},{children:[(0,r.jsxs)("div",ke({className:"voting-summary-text"},{children:[(0,r.jsx)("span",{children:i("Aye")})," ",(0,r.jsxs)("b",{children:[l,"/",u]})]})),(0,r.jsxs)("div",ke({className:"voting-summary-text"},{children:[(0,r.jsx)("span",{children:i("Nay")})," ",(0,r.jsxs)("b",{children:[c,"/",d]})]})),(0,r.jsxs)("div",ke({className:"link-info"},{children:[(0,r.jsx)(we,{}),(0,r.jsx)(xe,{proposal:t,status:s})]}))]}))})}));var Ae;const Se=a.memo((function(e){var n=e.beneficiary,t=e.proposals,o=e.status,i=h().t,l=(0,a.useMemo)((function(){return t&&M(t,o)}),[t,o]);return(0,r.jsxs)(r.Fragment,{children:[l&&(0,r.jsx)(Oe,{proposal:l,status:o}),n&&(0,r.jsxs)("div",{children:[(0,r.jsx)(s.N,{value:n}),(0,r.jsx)(me,{description:i("Beneficiary")})]})]})}));var Pe=function(){return Pe=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Pe.apply(this,arguments)},Ie=s.zo.div(Me||(Me=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  display: flex;\n  align-items: center;\n"],["\n  display: flex;\n  align-items: center;\n"])));const Ee=a.memo((function(e){var n,t=e.bountyStatus,a=e.className,s=void 0===a?"":a;return(0,r.jsx)(Ie,Pe({className:s,"data-testid":"bountyStatus"},{children:(n=t,n.replace(/([a-z])([A-Z])/g,"$1 $2"))}))}));var Me;const Te=a.memo((function(e){var n=e.curator,t=e.isFromProposal,a=h().t;return(0,r.jsxs)("div",{children:[(0,r.jsx)(s.N,{value:n.toString()}),t&&(0,r.jsx)(me,{description:a("Proposed Curator")})]})}));var ze=t(65874),De=function(){return De=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},De.apply(this,arguments)};const Fe=a.memo((function(e){var n=e.dueBlocks,t=e.endBlock,a=e.label;return(0,r.jsx)(r.Fragment,{children:n.gtn(0)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(ze.Z,De({value:n},{children:[" (",a,")"]})),"#",(0,u.u)(t)]})})}));var Be=function(){return Be=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Be.apply(this,arguments)},Re={ayes:"check",nays:"times"},Ve=s.zo.div(He||(He=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  width: 50%;\n\n  .vote-numbers {\n    display: flex;\n    align-items: center;\n    margin-bottom: 0.85rem;\n  }\n\n  .vote-numbers-icon svg {\n    max-width: 10px;\n    color: var(--color-label);\n  }\n\n  .vote-numbers-label {\n    margin-left: 0.75rem;\n    font-weight: var(--font-weight-bold);\n    font-size: var(--font-size-tiny);\n    line-height: 0.85rem;\n    text-transform: uppercase;\n    color: var(--color-label);\n  }\n"],["\n  width: 50%;\n\n  .vote-numbers {\n    display: flex;\n    align-items: center;\n    margin-bottom: 0.85rem;\n  }\n\n  .vote-numbers-icon svg {\n    max-width: 10px;\n    color: var(--color-label);\n  }\n\n  .vote-numbers-label {\n    margin-left: 0.75rem;\n    font-weight: var(--font-weight-bold);\n    font-size: var(--font-size-tiny);\n    line-height: 0.85rem;\n    text-transform: uppercase;\n    color: var(--color-label);\n  }\n"])));const Le=a.memo((function(e){var n=e.className,t=e.option,o=e.proposals,i=e.status,l=h().t,c=(0,a.useMemo)((function(){return M(o,i)}),[o,i]),u=(0,a.useMemo)((function(){var e,n;return"ayes"===t?null===(e=null==c?void 0:c.votes)||void 0===e?void 0:e.ayes:null===(n=null==c?void 0:c.votes)||void 0===n?void 0:n.nays}),[c,t]),d=(0,a.useMemo)((function(){return null==u?void 0:u.map((function(e){return(0,r.jsx)("div",Be({className:"voter","data-testid":"voters_".concat(t,"_").concat(e.toString())},{children:(0,r.jsx)(s.N,{value:e})}),e.toString())}))}),[t,u]);return(0,r.jsx)(r.Fragment,{children:c&&(0,r.jsxs)(Ve,Be({className:n},{children:[(0,r.jsxs)("div",Be({className:"vote-numbers"},{children:[(0,r.jsx)("span",Be({className:"vote-numbers-icon"},{children:(0,r.jsx)(s.JO,{icon:Re[t]})})),(0,r.jsxs)("span",Be({className:"vote-numbers-label"},{children:["ayes"===t&&l("Aye: {{count}}",{replace:{count:u?u.length:0}}),"nays"===t&&l("Nay: {{count}}",{replace:{count:u?u.length:0}})]}))]})),d]}))})}));var He,qe=function(){return qe=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},qe.apply(this,arguments)},_e=s.zo.tr(Ge||(Ge=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  .description-column {\n    max-width: 200px;\n\n    div {\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  }\n\n  & .links {\n    display: inline-flex;\n  }\n\n  & .inline-balance {\n    width: 50%;\n    font-size: var(--font-size-base);\n    line-height: normal;\n  }\n\n  .column {\n    align-items: center;\n    display: flex;\n    padding: 0 0 0.5rem;\n\n    h5 {\n      text-align: right;\n      padding: 0 1.7rem 0 0;\n      width: 50%;\n    }\n  }\n\n  & .td-info-action-row {\n    padding-right: 0;\n  }\n\n  .td-row {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    & :only-child {\n      margin-left: auto;\n    }\n  }\n\n  .bounty-action-row {\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n\n    & > * + * {\n      margin-left: 0.6rem;\n    }\n  }\n\n  .block-to-time {\n    font-size: var(--font-size-tiny);\n    line-height: 1.5rem;\n    color: var(--color-label);\n  }\n\n  & .votes-table {\n    display: flex;\n    justify-content: space-between;\n  }\n"],["\n  .description-column {\n    max-width: 200px;\n\n    div {\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  }\n\n  & .links {\n    display: inline-flex;\n  }\n\n  & .inline-balance {\n    width: 50%;\n    font-size: var(--font-size-base);\n    line-height: normal;\n  }\n\n  .column {\n    align-items: center;\n    display: flex;\n    padding: 0 0 0.5rem;\n\n    h5 {\n      text-align: right;\n      padding: 0 1.7rem 0 0;\n      width: 50%;\n    }\n  }\n\n  & .td-info-action-row {\n    padding-right: 0;\n  }\n\n  .td-row {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    & :only-child {\n      margin-left: auto;\n    }\n  }\n\n  .bounty-action-row {\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n\n    & > * + * {\n      margin-left: 0.6rem;\n    }\n  }\n\n  .block-to-time {\n    font-size: var(--font-size-tiny);\n    line-height: 1.5rem;\n    color: var(--color-label);\n  }\n\n  & .votes-table {\n    display: flex;\n    justify-content: space-between;\n  }\n"])));const We=a.memo((function(e){var n=e.bestNumber,t=e.bounty,o=e.className,l=void 0===o?"":o,c=e.description,u=e.index,d=e.proposals,p=h().t,m=(0,f.O)(!1),v=m[0],g=m[1],b=t.bond,y=t.curatorDeposit,j=t.fee,w=t.proposer,C=t.status,k=t.value,N=x(C),O=N.beneficiary,A=N.bountyStatus,S=N.curator,P=N.unlockAt,E=N.updateDue,T=(0,a.useMemo)((function(){return null==E?void 0:E.sub(n)}),[n,E]),z=(0,a.useMemo)((function(){return null==P?void 0:P.sub(n)}),[n,P]),D=(0,a.useMemo)((function(){var e;if(S)return{curator:S,isFromProposal:!1};var n=d&&M(d,C);return"proposeCurator"===(null===(e=null==n?void 0:n.proposal)||void 0===e?void 0:e.method)?{curator:n.proposal.args[1],isFromProposal:!0}:null}),[S,d,C]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(_e,qe({className:"".concat(l," isExpanded isFirst ").concat(v?"":"isLast")},{children:[(0,r.jsx)(s.iA.Column.Id,{value:u}),(0,r.jsx)("td",qe({className:"description-column","data-testid":"description"},{children:(0,r.jsx)("div",qe({title:c},{children:c}))})),(0,r.jsx)("td",{children:(0,r.jsx)(Ee,{bountyStatus:A})}),(0,r.jsx)(s.iA.Column.Balance,{value:k}),(0,r.jsx)("td",{children:D&&(0,r.jsx)(Te,{curator:D.curator,isFromProposal:D.isFromProposal})}),(0,r.jsxs)("td",{children:[z&&P&&(0,r.jsx)(Fe,{dueBlocks:z,endBlock:P,label:p("payout")}),T&&E&&(0,r.jsx)(Fe,{dueBlocks:T,endBlock:E,label:p("update")}),(0,r.jsx)(I,{bestNumber:n,blocksUntilUpdate:T,status:C}),(0,r.jsx)(Y,{bestNumber:n,description:c,fee:j,index:u,proposals:d,status:C,value:k})]}),(0,r.jsx)("td",{children:(0,r.jsx)(Se,{beneficiary:O,proposals:d,status:C})}),(0,r.jsx)("td",qe({className:"actions"},{children:(0,r.jsxs)("div",{children:[(0,r.jsx)(ce,{bestNumber:n,description:c,index:u,proposals:d,status:C}),(0,r.jsx)(s.Vh,{expanded:v,onClick:g})]})}))]})),(0,r.jsxs)(_e,qe({className:"".concat(l," ").concat(v?"isExpanded isLast":"isCollapsed")},{children:[(0,r.jsx)("td",{}),(0,r.jsx)("td",qe({className:"columar",colSpan:3},{children:(0,r.jsxs)(s.P0,{children:[(0,r.jsx)(s.P0.Column,{children:(0,r.jsx)(s.NR,{data:u,type:"bounty",withTitle:!0})}),(0,r.jsxs)(s.P0.Column,{children:[(0,r.jsxs)("div",qe({className:"column"},{children:[(0,r.jsx)("h5",{children:p("Proposer")}),(0,r.jsx)(s.N,{value:w})]})),(0,r.jsxs)("div",qe({className:"column"},{children:[(0,r.jsx)("h5",{children:p("Bond")}),(0,r.jsx)("div",qe({className:"inline-balance"},{children:(0,r.jsx)(i.Z,{value:b})}))]})),S&&(0,r.jsxs)("div",qe({className:"column"},{children:[(0,r.jsx)("h5",{children:p("Curator's fee")}),(0,r.jsx)("div",qe({className:"inline-balance"},{children:(0,r.jsx)(i.Z,{value:j})}))]})),(0,r.jsx)("div",qe({className:"column"},{children:S&&!y.isZero()&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h5",{children:p("Curator's deposit")}),(0,r.jsx)("div",qe({className:"inline-balance"},{children:(0,r.jsx)(i.Z,{value:y})}))]})}))]})]})})),(0,r.jsx)("td",{}),(0,r.jsx)("td",{}),(0,r.jsx)("td",{children:d&&(0,r.jsxs)("div",qe({className:"votes-table"},{children:[(0,r.jsx)(Le,{option:"ayes",proposals:d,status:C}),(0,r.jsx)(Le,{option:"nays",proposals:d,status:C})]}))}),(0,r.jsx)("td",{})]}))]})}));var Ge,Ze=(0,g.e)("useBalance",(function(e){var n,t,r=(0,y.h)().api;return null===(t=(0,j.W7)(null===(n=r.derive.balances)||void 0===n?void 0:n.all,[e]))||void 0===t?void 0:t.availableBalance}));function Ue(e){return new Blob([e]).size}var Je=function(){return Je=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Je.apply(this,arguments)},Qe=b.nw;const Ye=a.memo((function(){var e=h().t,n=k(),t=n.bountyDepositBase,o=n.bountyValueMinimum,i=n.dataDepositPerByte,l=n.maximumReasonLength,c=n.proposeBounty,u=(0,a.useState)(null),d=u[0],p=u[1],m=Ze(d),v=(0,a.useState)(""),g=v[0],x=v[1],b=(0,a.useState)(t),y=b[0],j=b[1],w=(0,a.useState)(Qe),C=w[0],N=w[1],O=(0,f.O)(),A=O[0],S=O[1],P=(0,a.useState)(!1),I=P[0],E=P[1],M=(0,a.useState)(!1),T=M[0],z=M[1],D=(0,a.useState)(!1),F=D[0],B=D[1];(0,a.useEffect)((function(){E((null==g?void 0:g.length)>=1&&Ue(g)<=l)}),[l,g]),(0,a.useEffect)((function(){z(!!(null==C?void 0:C.gte(o)))}),[o,C]),(0,a.useEffect)((function(){B(!!(null==m?void 0:m.gte(y)))}),[m,y]);var R=F&&I&&T,V=(0,a.useCallback)((function(e){var n,r;x(e),j((n=e,r=i,t.add(r.muln(Ue(n)))))}),[t,i]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.zx,{icon:"plus",isDisabled:!1,label:e("Add Bounty"),onClick:S}),A&&(0,r.jsxs)(s.u_,Je({className:"ui--AddBountyModal",header:e("Add Bounty"),onClose:S},{children:[(0,r.jsxs)(s.u_.Content,{children:[(0,r.jsxs)(s.u_.Columns,Je({hint:e("Description of the Bounty (to be stored on-chain)")},{children:[(0,r.jsx)(s.II,{autoFocus:!0,defaultValue:"",isError:!I,label:e("bounty title"),onChange:V,value:g}),!I&&""!==g&&(0,r.jsx)(s.oy,{content:e("Title too long")})]})),(0,r.jsxs)(s.u_.Columns,Je({hint:e("How much should be paid out for completed Bounty. Upon funding, the amount will be reserved in treasury.")},{children:[(0,r.jsx)(s.H,{isError:!T,isZeroable:!0,label:e("bounty requested allocation"),onChange:N,value:C}),!T&&!(null==C?void 0:C.eq(Qe))&&(0,r.jsx)(s.oy,{content:e("Allocation value is smaller than the minimum bounty value.")})]})),(0,r.jsx)(s.u_.Columns,Je({hint:e("Proposer bond depends on bounty title length.")},{children:(0,r.jsx)(s.H,{defaultValue:y.toString(),isDisabled:!0,label:e("bounty bond")})})),(0,r.jsxs)(s.u_.Columns,Je({hint:e("This account will propose the bounty. Bond amount will be reserved on its balance.")},{children:[(0,r.jsx)(s.rp,{isError:!F,label:e("submit with account"),onChange:p,type:"account",withLabel:!0}),!F&&(0,r.jsx)(s.oy,{content:e("Account does not have enough funds.")})]}))]}),(0,r.jsx)(s.u_.Actions,{children:(0,r.jsx)(s.cA,{accountId:d,icon:"plus",isDisabled:!d||!R,label:e("Add Bounty"),onStart:S,params:[C,g],tx:c})})]}))]})}));var Ke=function(){return Ke=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Ke.apply(this,arguments)},Xe=s.zo.div(en||(en=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  .bounties-table-wrapper table {\n    tr {\n      td, &:not(.filter) th {\n        &:last-child {\n          padding-right: 1.14rem;\n        }\n      }\n    }\n  }\n\n  .ui--IdentityIcon {\n    margin-right: 0.42rem;\n  }\n\n  .via-identity .name {\n    font-size: var(--font-size-base);\n    line-height: 1.7rem;\n    text-transform: initial;\n    filter: initial;\n    opacity: 1;\n  }\n"],["\n  .bounties-table-wrapper table {\n    tr {\n      td, &:not(.filter) th {\n        &:last-child {\n          padding-right: 1.14rem;\n        }\n      }\n    }\n  }\n\n  .ui--IdentityIcon {\n    margin-right: 0.42rem;\n  }\n\n  .via-identity .name {\n    font-size: var(--font-size-base);\n    line-height: 1.7rem;\n    text-transform: initial;\n    filter: initial;\n    opacity: 1;\n  }\n"])));const $e=a.memo((function(e){var n=e.className,t=h().t,o=k(),i=(0,a.useMemo)((function(){return o&&o.bounties&&function(e,n,t){if(t||2===arguments.length)for(var r,a=0,s=n.length;a<s;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))}([],o.bounties,!0).sort((function(e,n){return n.index.cmp(e.index)}))}),[o]),l=(0,a.useRef)([[t("bounties"),"start",3],[t("value")],[t("curator"),"start"],[t("next action"),"start",3]]);return(0,r.jsxs)(Xe,Ke({className:n},{children:[(0,r.jsx)(m,{info:o}),(0,r.jsx)(s.zx.Group,{children:(0,r.jsx)(Ye,{})}),(0,r.jsx)(s.iA,Ke({className:"bounties-table-wrapper",empty:i&&t("No open bounties"),header:l.current},{children:i&&o.bestNumber&&i.map((function(e){var n=e.bounty,t=e.description,a=e.index,s=e.proposals;return(0,r.jsx)(We,{bestNumber:o.bestNumber,bounty:n,description:t,index:a,proposals:s},a.toNumber())}))}))]}))}));var en,nn=function(){return nn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},nn.apply(this,arguments)};const tn=a.memo((function(e){var n=e.basePath,t=e.className,o=void 0===t?"":t,i=h().t,l=(0,a.useRef)([{isRoot:!0,name:"index",text:i("Overview")}]);return(0,r.jsxs)("main",nn({className:"".concat(o," bounties--App")},{children:[(0,r.jsx)(s.mQ,{basePath:n,items:l.current}),(0,r.jsx)($e,{})]}))}))},19739:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(2784),a=t(90778),s=t(9118);const o=(0,t(11677).e)("useCounter",(function(){var e,n=(0,a.h)(),t=n.api,o=n.isApiReady,i=(0,s.W7)(o&&(null===(e=t.derive.bounties)||void 0===e?void 0:e.bounties));return(0,r.useMemo)((function(){return(null==i?void 0:i.length)||0}),[i])}))},6742:(e,n,t)=>{t.d(n,{Z:()=>ie});var r=t(52322),a=t(2784),s=t(24732),o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["January","February","March","April","May","June","July","August","September","October","November","December"],l=t(54371),c=t(14681),u=t(61349);function d(){return(0,u.$G)("app-calendar")}function h(e){var n=new Date(e);return n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),n}function p(e,n){void 0===n&&(n=1);var t=e.getMonth();return 11===t?new Date(e.getFullYear()+1,0,n):new Date(e.getFullYear(),t+1,n)}function m(e,n){var t=h(e);t.setDate(1);for(var r=p(t),a=h(n),s=p(t,0).getDate(),i=[],l=1;l<=s;l++)i.push(l);return{dateMonth:t,dateMonthNext:r,dateSelected:a,days:i,startClass:"start".concat(o[t.getDay()])}}function f(e){return new Date(e).toISOString().split(".")[0].replaceAll("-","").replaceAll(":","")+"Z"}var v=function(){return v=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},v.apply(this,arguments)},g={day:"numeric",month:"long",weekday:"long",year:"numeric"};function x(e,n){return(0,r.jsx)("div",v({className:"itemLink"},{children:(0,r.jsx)("a",v({href:"#/".concat(e)},{children:n}))}))}var b,y,j=s.zo.div(C||(b=["\n  align-items: flex-start;\n  display: flex;\n  justify-content: flex-start;\n  margin: 0.5rem 0.75rem;\n\n  > div+div {\n    margin-left: 0.5rem;\n  }\n\n  > div.itemTime+div.itemBlock {\n    margin-left: 0.25rem;\n  }\n\n  .exportCal {\n    padding: 0;\n    position: absolute;\n    right: 1.5rem;\n\n    .ui--Icon {\n      width: 0.7rem;\n      height: 0.7rem;\n    }\n  }\n\n  .exportCal-allEvents {\n    right: 3.5rem;\n  }\n\n  .itemBlock {\n    background: #aaa;\n    color: #eee;\n    font-size: var(--font-size-small);\n    align-self: center;\n    padding: 0.075rem 0.375rem;\n    border-radius: 0.25rem;\n  }\n\n  .itemDate {\n    padding: 0 0.375rem;\n    border-radius: 0.25rem;\n    width: 17rem;\n  }\n\n  .itemTime {\n    background: #999;\n    color: #eee;\n    padding: 0 0.375rem;\n    border-radius: 0.25rem;\n  }\n"],y=["\n  align-items: flex-start;\n  display: flex;\n  justify-content: flex-start;\n  margin: 0.5rem 0.75rem;\n\n  > div+div {\n    margin-left: 0.5rem;\n  }\n\n  > div.itemTime+div.itemBlock {\n    margin-left: 0.25rem;\n  }\n\n  .exportCal {\n    padding: 0;\n    position: absolute;\n    right: 1.5rem;\n\n    .ui--Icon {\n      width: 0.7rem;\n      height: 0.7rem;\n    }\n  }\n\n  .exportCal-allEvents {\n    right: 3.5rem;\n  }\n\n  .itemBlock {\n    background: #aaa;\n    color: #eee;\n    font-size: var(--font-size-small);\n    align-self: center;\n    padding: 0.075rem 0.375rem;\n    border-radius: 0.25rem;\n  }\n\n  .itemDate {\n    padding: 0 0.375rem;\n    border-radius: 0.25rem;\n    width: 17rem;\n  }\n\n  .itemTime {\n    background: #999;\n    color: #eee;\n    padding: 0 0.375rem;\n    border-radius: 0.25rem;\n  }\n"],Object.defineProperty?Object.defineProperty(b,"raw",{value:y}):b.raw=y,C=b));const w=a.memo((function(e){var n=e.className,t=e.item,o=t.blockNumber,i=t.date,u=t.info,h=t.type,p=e.showAllEvents,m=d().t,b=(0,a.useState)(""),y=b[0],w=b[1],C=(0,a.useCallback)((function(){return function(e,n){var t="BEGIN:VCALENDAR\nCALSCALE:GREGORIAN\nMETHOD:PUBLISH\nPRODID:-//Test Cal//EN\nVERSION:2.0\nBEGIN:VEVENT\nUID:test-1\nDTSTART;VALUE=DATE:"+f(e)+"\nDTEND;VALUE=DATE:"+f(new Date(new Date(e).setHours(new Date(e).getHours()+1)))+"\nSUMMARY:"+n+"\nDESCRIPTION:"+n+"\nEND:VEVENT\nEND:VCALENDAR",r=encodeURI(n)+".ics",a=new File([t],r,{type:"text/plain"}),s=window.document.createElement("a");s.href=window.URL.createObjectURL(a),s.download=r,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(s.href)}(i,y)}),[y,i]),k=(0,a.useMemo)((function(){var e=u&&((0,l.H)(u)?u:(0,c.u)(u)),n=["councilElection"].includes(h)?x("council",m("via Council")):["councilMotion"].includes(h)?x("council/motions",m("via Council/Motions")):["democracyDispatch","scheduler"].includes(h)?x("democracy/dispatch",m("via Democracy/Dispatch")):["democracyLaunch","referendumDispatch","referendumVote"].includes(h)?x("/democracy",m("via Democracy")):["societyChallenge","societyRotate"].includes(h)?x("society",m("via Society")):["stakingEpoch","stakingEra"].includes(h)?x("staking",m("via Staking")):["stakingSlash"].includes(h)?x("staking/slashes",m("via Staking/Slashed")):["treasurySpend"].includes(h)?x("treasury",m("via Treasury")):["parachainLease"].includes(h)?x("parachains",m("via Parachains")):["parachainAuction"].includes(h)?x("parachains/auction",m("via Parachains/Auction")):void 0,t="";switch(h){case"councilElection":t=m("Election of new council candidates");break;case"councilMotion":t=m("Voting ends on council motion {{id}}",{replace:{id:e}});break;case"democracyDispatch":t=m("Enactment of the result of referendum {{id}}",{replace:{id:e}});break;case"democracyLaunch":t=m("Start of the next referendum voting period");break;case"parachainAuction":t=m("End of the current parachain auction {{id}}",{replace:{id:e}});break;case"parachainLease":t=m("Start of the next parachain lease period {{id}}",{replace:{id:e}});break;case"referendumDispatch":t=m("Potential dispatch of referendum {{id}} (if passed)",{replace:{id:e}});break;case"referendumVote":t=m("Voting ends for referendum {{id}}",{replace:{id:e}});break;case"scheduler":t=e?m("Execute named scheduled task {{id}}",{replace:{id:e}}):m("Execute anonymous scheduled task");break;case"stakingEpoch":t=m("Start of a new staking session {{id}}",{replace:{id:e}});break;case"stakingEra":t=m("Start of a new staking era {{id}}",{replace:{id:e}});break;case"stakingSlash":t=m("Application of slashes from era {{id}}",{replace:{id:e}});break;case"treasurySpend":t=m("Start of next spending period");break;case"societyChallenge":t=m("Start of next membership challenge period");break;case"societyRotate":t=m("Acceptance of new members and bids");break;default:return function(e){throw new Error("We should not get here, unhandled ".concat(e))}(h)}return w(t),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",v({className:"itemDesc"},{children:t})),n]})}),[u,m,h]);return(0,r.jsxs)(j,v({className:n},{children:[p&&(0,r.jsx)("div",v({className:"itemDate"},{children:i.toLocaleString(void 0,g)})),(0,r.jsx)("div",v({className:"itemTime"},{children:i.toLocaleTimeString().split(":").slice(0,2).join(":")})),(0,r.jsxs)("div",v({className:"itemBlock"},{children:["#",(0,c.u)(o)]})),k,i&&(0,r.jsx)(s.zx,{className:p?"exportCal exportCal-allEvents":"exportCal",icon:"calendar-plus",onClick:C})]}))}));var C,k=function(){return k=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},k.apply(this,arguments)},N=36e5,O=s.zo.div(S||(S=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  align-items: center;\n  display: flex;\n  position: relative;\n  z-index: 2;\n\n  &:nth-child(odd) {\n    background: var(--bg-table);\n  }\n\n  &.isPast {\n    opacity: 0.75;\n  }\n\n  .hourContainer {\n    flex: 1;\n    padding: 0.25rem 0;\n  }\n\n  .hourLabel {\n    flex: 0;\n    font-size: var(--font-size-small);\n    font-weight: var(--font-weight-normal);\n    line-height: 1;\n    min-width: 5.5rem;\n    opacity: var(--opacity-light);\n    padding: 0.5rem 1rem;\n    text-align: right;\n    text-transform: uppercase;\n    z-index: 1;\n  }\n\n  &.hasItems .hourLabel {\n    font-size: 1.1rem;\n    font-weight: var(--font-weight-normal);\n    opacity: 1;\n    padding: 0.7rem 1rem;\n  }\n"],["\n  align-items: center;\n  display: flex;\n  position: relative;\n  z-index: 2;\n\n  &:nth-child(odd) {\n    background: var(--bg-table);\n  }\n\n  &.isPast {\n    opacity: 0.75;\n  }\n\n  .hourContainer {\n    flex: 1;\n    padding: 0.25rem 0;\n  }\n\n  .hourLabel {\n    flex: 0;\n    font-size: var(--font-size-small);\n    font-weight: var(--font-weight-normal);\n    line-height: 1;\n    min-width: 5.5rem;\n    opacity: var(--opacity-light);\n    padding: 0.5rem 1rem;\n    text-align: right;\n    text-transform: uppercase;\n    z-index: 1;\n  }\n\n  &.hasItems .hourLabel {\n    font-size: 1.1rem;\n    font-weight: var(--font-weight-normal);\n    opacity: 1;\n    padding: 0.7rem 1rem;\n  }\n"])));const A=a.memo((function(e){var n=e.className,t=void 0===n?"":n,s=e.date,o=e.hour,i=e.index,l=e.minutes,c=e.scheduled,u=(0,a.useMemo)((function(){return function(e,n,t,r){var a=e.getTime()+t*N,s=a+N,o=a+6e4*n;return r.filter((function(e){var n=e.dateTime;return n>=o&&n<s})).sort((function(e,n){return e.dateTime-n.dateTime||e.type.localeCompare(n.type)}))}(s,l,i,c)}),[s,i,l,c]),d="".concat(" ".concat(o).slice(-2)," ").concat(o>=12?"pm":"am");return(0,r.jsxs)(O,k({className:"".concat(t).concat(u.length?" hasItems":"")},{children:[(0,r.jsx)("div",k({className:"hourLabel".concat(u.length?" highlight--color":"")},{children:d})),(0,r.jsx)("div",k({className:"hourContainer"},{children:u.map((function(e,n){return(0,r.jsx)(w,{item:e},n)}))}))]}))}));var S;const P=a.memo((function(){var e=(0,a.useState)(new Date),n=e[0],t=e[1];return(0,a.useEffect)((function(){var e=setInterval((function(){return t(new Date)}),1e3);return function(){clearInterval(e)}}),[]),(0,r.jsx)(r.Fragment,{children:n.toLocaleTimeString().split(":").slice(0,2).join(":")})}));var I=function(){return I=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},I.apply(this,arguments)},E=function(){for(var e=[],n=0;n<24;n++)e.push(n);return e}(),M=s.zo.div(z||(z=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  flex: 1;\n\n  .dayHeader {\n    align-items: center;\n    display: flex;\n    font-size: 1.25rem;\n    justify-content: space-between;\n    padding: 1rem 1.5rem 0;\n  }\n\n  .hoursContainer {\n    z-index: 1;\n  }\n"],["\n  flex: 1;\n\n  .dayHeader {\n    align-items: center;\n    display: flex;\n    font-size: 1.25rem;\n    justify-content: space-between;\n    padding: 1rem 1.5rem 0;\n  }\n\n  .hoursContainer {\n    z-index: 1;\n  }\n"])));const T=a.memo((function(e){var n=e.className,t=e.date,o=e.hasNextDay,l=e.now,c=e.scheduled,u=e.setNextDay,h=e.setPrevDay,p=e.setView,m=d().t,f=(0,a.useRef)(i.map((function(e){return m(e)}))),v=(0,a.useMemo)((function(){return[t.getMonth()===l.getMonth()&&t.getFullYear()===l.getFullYear()&&t.getDate()===l.getDate(),l.getHours(),l.getMinutes()]}),[t,l]),g=v[0],x=v[1],b=v[2],y=(0,a.useCallback)((function(){return p(!0)}),[p]);return(0,r.jsxs)(M,I({className:n},{children:[(0,r.jsxs)("h1",{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(s.zx,{className:"all-events-button",icon:"list",onClick:y}),t.getDate()," ",f.current[t.getMonth()]," ",t.getFullYear()," ",g&&(0,r.jsx)(P,{})]}),(0,r.jsxs)(s.zx.Group,{children:[(0,r.jsx)(s.zx,{icon:"chevron-left",isDisabled:g,onClick:h}),(0,r.jsx)(s.zx,{icon:"chevron-right",isDisabled:!o,onClick:u})]})]}),(0,r.jsx)("div",I({className:"hoursContainer highlight--bg-faint"},{children:E.map((function(e,n){return(0,r.jsx)(A,{date:t,hour:e,index:n,minutes:g&&x===n?b:0,scheduled:c},e)}))}))]}))}));var z,D=function(){return D=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},D.apply(this,arguments)},F=864e5,B=s.zo.div(V||(V=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  background-color: transparent;\n  border: 1px solid transparent;\n  border-radius: 50%;\n  line-height: 1;\n  padding: 1rem;\n  position: relative;\n  text-align: center;\n  z-index: 1;\n\n  &:before {\n    border-radius: 50%;\n  }\n\n  &:not(.isDisabled) {\n    cursor: pointer;\n  }\n\n  &:not(.isSelected):hover {\n    background: #f7f5f3;\n  }\n\n  .eventIndicator {\n    border: 0.25rem solid transparent;\n    border-radius: 50%;\n    height: 0.25rem;\n    position: absolute;\n    right: 0.625rem;\n    top: 0.625rem;\n    width: 0.25rem;\n  }\n\n  &.isDisabled {\n    opacity: 0.375;\n\n    &:hover {\n      background: transparent;\n    }\n\n    .eventIndicator {\n      display: none;\n    }\n  }\n"],["\n  background-color: transparent;\n  border: 1px solid transparent;\n  border-radius: 50%;\n  line-height: 1;\n  padding: 1rem;\n  position: relative;\n  text-align: center;\n  z-index: 1;\n\n  &:before {\n    border-radius: 50%;\n  }\n\n  &:not(.isDisabled) {\n    cursor: pointer;\n  }\n\n  &:not(.isSelected):hover {\n    background: #f7f5f3;\n  }\n\n  .eventIndicator {\n    border: 0.25rem solid transparent;\n    border-radius: 50%;\n    height: 0.25rem;\n    position: absolute;\n    right: 0.625rem;\n    top: 0.625rem;\n    width: 0.25rem;\n  }\n\n  &.isDisabled {\n    opacity: 0.375;\n\n    &:hover {\n      background: transparent;\n    }\n\n    .eventIndicator {\n      display: none;\n    }\n  }\n"])));const R=a.memo((function(e){var n=e.className,t=void 0===n?"":n,s=e.dateMonth,o=e.day,i=e.isCurrent,l=e.isDisabled,c=e.scheduled,u=e.setDay,d=(0,a.useMemo)((function(){var e=s.getTime()+(o-1)*F,n=e+F;return c.some((function(t){var r=t.dateTime;return r>=e&&r<n}))}),[s,o,c]),h=(0,a.useCallback)((function(){!l&&u(o)}),[o,l,u]);return(0,r.jsxs)(B,D({className:"".concat(t," day ").concat(l?"isDisabled":i?"highlight--bg-light highlight--color isSelected":""),onClick:h},{children:[o,d&&(0,r.jsx)("div",{className:"eventIndicator highlight--border"})]}))}));var V,L=function(){return L=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},L.apply(this,arguments)},H=s.zo.div(_||(_=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  flex: 0;\n  max-width: max-content;\n\n  .calendar {\n    padding: 1rem 1.5rem;\n\n    .dateGrid,\n    .dayOfWeek {\n      display: grid;\n      grid-template-columns: repeat(7, 1fr);\n    }\n\n    .dateGrid {\n      margin-top: 0.5em;\n    }\n\n    &.startSun .dateGrid .day:first-child { grid-column: 1 }\n    &.startMon .dateGrid .day:first-child { grid-column: 2 }\n    &.startTue .dateGrid .day:first-child { grid-column: 3 }\n    &.startWed .dateGrid .day:first-child { grid-column: 4 }\n    &.startThu .dateGrid .day:first-child { grid-column: 5 }\n    &.startFri .dateGrid .day:first-child { grid-column: 6 }\n    &.startSat .dateGrid .day:first-child { grid-column: 7 }\n\n    .dayOfWeek {\n      > * {\n        font-size: var(--font-size-tiny);\n        font-weight: var(--font-weight-normal);\n        letter-spacing: 0.1em;\n        text-align: center;\n        text-transform: uppercase;\n      }\n    }\n\n    .monthIndicator {\n      align-items: center;\n      display: flex;\n      font-size: 1.25rem;\n      justify-content: space-between;\n    }\n  }\n"],["\n  flex: 0;\n  max-width: max-content;\n\n  .calendar {\n    padding: 1rem 1.5rem;\n\n    .dateGrid,\n    .dayOfWeek {\n      display: grid;\n      grid-template-columns: repeat(7, 1fr);\n    }\n\n    .dateGrid {\n      margin-top: 0.5em;\n    }\n\n    &.startSun .dateGrid .day:first-child { grid-column: 1 }\n    &.startMon .dateGrid .day:first-child { grid-column: 2 }\n    &.startTue .dateGrid .day:first-child { grid-column: 3 }\n    &.startWed .dateGrid .day:first-child { grid-column: 4 }\n    &.startThu .dateGrid .day:first-child { grid-column: 5 }\n    &.startFri .dateGrid .day:first-child { grid-column: 6 }\n    &.startSat .dateGrid .day:first-child { grid-column: 7 }\n\n    .dayOfWeek {\n      > * {\n        font-size: var(--font-size-tiny);\n        font-weight: var(--font-weight-normal);\n        letter-spacing: 0.1em;\n        text-align: center;\n        text-transform: uppercase;\n      }\n    }\n\n    .monthIndicator {\n      align-items: center;\n      display: flex;\n      font-size: 1.25rem;\n      justify-content: space-between;\n    }\n  }\n"])));const q=a.memo((function(e){var n=e.className,t=e.hasNextMonth,l=e.lastDay,c=e.now,u=e.scheduled,h=e.setDay,p=e.setNextMonth,m=e.setPrevMonth,f=e.state,v=f.dateMonth,g=f.dateSelected,x=f.days,b=f.startClass,y=d().t,j=(0,a.useRef)(o.map((function(e){return y(e)}))),w=(0,a.useRef)(i.map((function(e){return y(e)}))),C=(0,a.useMemo)((function(){return[v.getFullYear()===g.getFullYear(),v.getMonth()===g.getMonth(),c.getFullYear()===v.getFullYear(),c.getMonth()===v.getMonth(),c.getMonth()>v.getMonth()]}),[v,g,c]),k=C[0],N=C[1],O=C[2],A=C[3],S=C[4];return(0,r.jsxs)(H,L({className:n},{children:[(0,r.jsxs)("h1",{children:[(0,r.jsxs)("div",{children:[w.current[v.getMonth()]," ",v.getFullYear()]}),(0,r.jsxs)(s.zx.Group,{children:[(0,r.jsx)(s.zx,{icon:"chevron-left",isDisabled:O&&(S||A),onClick:m}),(0,r.jsx)(s.zx,{icon:"chevron-right",isDisabled:!t,onClick:p})]})]}),(0,r.jsxs)("div",L({className:"calendar ".concat(b)},{children:[(0,r.jsx)("div",L({className:"dayOfWeek"},{children:j.current.map((function(e){return(0,r.jsx)("div",{children:y(e)},e)}))})),(0,r.jsx)("div",L({className:"dateGrid"},{children:x.map((function(e){return(0,r.jsx)(R,{dateMonth:v,day:e,isCurrent:k&&N&&e===g.getDate(),isDisabled:O&&(S||A&&c.getDate()>e)||!t&&e>l,scheduled:u,setDay:h},e)}))}))]}))]}))}));var _,W=function(){return W=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},W.apply(this,arguments)},G=s.zo.div(U||(U=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  flex: 0;\n  max-width: max-content;\n\n  .all-events-rows {\n    padding: 10px 0;\n    font-size: 13px;\n    &:nth-child(odd) {\n      background: var(--bg-table);\n    }\n  }\n\n  .allEventsWrapper {\n    padding-inline-start: 10px;\n  }\n"],["\n  flex: 0;\n  max-width: max-content;\n\n  .all-events-rows {\n    padding: 10px 0;\n    font-size: 13px;\n    &:nth-child(odd) {\n      background: var(--bg-table);\n    }\n  }\n\n  .allEventsWrapper {\n    padding-inline-start: 10px;\n  }\n"])));const Z=a.memo((function(e){var n=e.className,t=e.scheduled,o=e.setView,i=d().t,l=(0,a.useMemo)((function(){return t.sort((function(e,n){return e.dateTime-n.dateTime}))}),[t]),c=(0,a.useCallback)((function(){return o(!1)}),[o]);return(0,r.jsxs)(G,W({className:n},{children:[(0,r.jsx)("h1",{children:(0,r.jsxs)("div",{children:[(0,r.jsx)(s.zx,{className:"all-events-button",icon:"calendar",onClick:c}),i("Upcoming Events")]})}),(0,r.jsx)("ul",W({className:"allEventsWrapper"},{children:l.map((function(e,n){return(0,r.jsx)(w,{className:"all-events-rows",item:e,showAllEvents:!0},n)}))}))]}))}));var U,J=t(31132),Q=t(90778),Y=t(56360),K=t(54383),X=t(9118),$=t(11677),ee=t(95292),ne=function(){return ne=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},ne.apply(this,arguments)};function te(e,n){var t=new Date(Date.now()+e.mul(n).toNumber());return{date:t,dateTime:t.getTime()}}function re(e,n){return n.reduce((function(e,n){var t,r=n[0],a=n[1];return(t=e.filter((function(e){return e.type!==r}))).concat.apply(t,a.map((function(e){return e.type=r,e})))}),e)}const ae=(0,$.e)("useScheduled",(function(){var e,n,t,r,s,o,i,l,c=(0,Q.h)().api,u=(0,Y.n)(),d=(0,K.C)(),h=(0,J.f)(),p=(0,X.W7)(null===(e=c.query.auctions)||void 0===e?void 0:e.auctionInfo),m=(0,X.W7)(null===(n=c.derive.council)||void 0===n?void 0:n.proposals),f=(0,X.W7)(null===(t=c.derive.democracy)||void 0===t?void 0:t.dispatchQueue),v=(0,X.W7)(null===(r=c.derive.democracy)||void 0===r?void 0:r.referendums),g=(0,X.W7)(null===(o=null===(s=c.query.scheduler)||void 0===s?void 0:s.agenda)||void 0===o?void 0:o.entries),x=(0,X.W7)(null===(i=c.derive.session)||void 0===i?void 0:i.progress),b=(0,X.W7)(null===(l=c.query.staking)||void 0===l?void 0:l.unappliedSlashes.entries),y=(0,a.useState)([]),j=y[0],w=y[1];return(0,a.useEffect)((function(){d&&f&&w((function(e){return re(e,function(e,n,t){return t.map((function(t){var r=t.at,a=t.index,s=r.sub(e);return["democracyDispatch",[ne(ne({},te(s,n)),{blockNumber:r,blocks:s,info:a})]]}))}(d,u,f))}))}),[d,u,f]),(0,a.useEffect)((function(){d&&m&&w((function(e){return re(e,function(e,n,t){return[["councilMotion",t.map((function(t){var r=t.hash,a=t.votes;if(!a)return null;var s=r.toHex(),o=a.end.sub(e);return ne(ne({},te(o,n)),{blockNumber:a.end,blocks:o,info:"".concat(s.slice(0,6),"…").concat(s.slice(-4))})})).filter((function(e){return!!e}))]]}(d,u,m))}))}),[d,u,m]),(0,a.useEffect)((function(){d&&v&&w((function(e){return re(e,function(e,n,t){return t.reduce((function(t,r){var a=r.index,s=r.status,o=s.end.add(s.delay).isub(e),i=s.end.sub(e).isub(ee.If);return t.push(["referendumVote",[ne(ne({},te(i,n)),{blockNumber:e.add(i),blocks:i,info:a})]]),t.push(["referendumDispatch",[ne(ne({},te(o,n)),{blockNumber:e.add(o),blocks:o,info:a,isPending:!0})]]),t}),[])}(d,u,v))}))}),[d,u,v]),(0,a.useEffect)((function(){d&&g&&w((function(e){return re(e,function(e,n,t){return[["scheduler",t.filter((function(e){return e[1].some((function(e){return e.isSome}))})).reduce((function(t,r){var a=r[0],s=r[1],o=a.args[0];return s.filter((function(e){return e.isSome})).map((function(e){return e.unwrap()})).reduce((function(t,r){var a=r.maybeId.unwrapOr(null),s=o.sub(e);return t.push(ne(ne({},te(s,n)),{blockNumber:o,blocks:s,info:a?a.isAscii?a.toUtf8():a.toHex():null})),t}),t)}),[])]]}(d,u,g))}))}),[d,u,g]),(0,a.useEffect)((function(){d&&(null==x?void 0:x.sessionLength.gt(ee.If))&&w((function(e){var n;return re(e,function(e,n,t,r,a){var s=t.eraLength.sub(t.eraProgress),o=t.sessionLength.sub(t.sessionProgress),i=null==a?void 0:a.mul(t.eraLength),l=i?r.filter((function(e){return e[1].length})).map((function(r){var a=r[0].args[0],s=t.activeEra.sub(a).isub(ee.If).imul(t.eraLength).iadd(t.eraProgress),o=i.sub(s);return ne(ne({},te(o,n)),{blockNumber:e.add(o),blocks:o,info:a})})):[];return[["stakingEpoch",[ne(ne({},te(o,n)),{blockNumber:e.add(o),blocks:o,info:t.currentIndex.add(ee.If)})]],["stakingEra",[ne(ne({},te(s,n)),{blockNumber:e.add(s),blocks:s,info:t.activeEra.add(ee.If)})]],["stakingSlash",l]]}(d,u,x,b||[],null===(n=c.consts.staking)||void 0===n?void 0:n.slashDeferDuration))}))}),[c,d,u,x,b]),(0,a.useEffect)((function(){d&&(null==p?void 0:p.isSome)&&w((function(e){return re(e,function(e,n,t,r){var a=r[0],s=r[1],o=s.sub(e);return[["parachainAuction",[ne(ne({},te(o,n)),{blockNumber:s,blocks:o,info:"".concat(a.toString()," - ").concat(a.add(t).toString())})]]]}(d,u,h,p.unwrap()))}))}),[p,d,u,h]),(0,a.useEffect)((function(){d&&w((function(e){var n,t,r,a,s,o,i;return re(e,function(e,n,t){return t.map((function(t){var r=t[0],a=t[1],s=t[2],o=void 0===s?ee.nw:s,i=t[3],l=void 0===i?ee.nw:i;if(!a)return[r,[]];var c=e.sub(l),u=a.sub(c.mod(a));return[r,[ne(ne({},te(u,n)),{blockNumber:c.add(u),blocks:u,info:c.div(a).iadd(o)})]]}))}(d,u,[["councilElection",null===(n=c.consts.elections||c.consts.phragmenElection||c.consts.electionsPhragmen)||void 0===n?void 0:n.termDuration],["democracyLaunch",null===(t=c.consts.democracy)||void 0===t?void 0:t.launchPeriod],["parachainLease",null===(r=c.consts.slots)||void 0===r?void 0:r.leasePeriod,ee.If,null===(a=c.consts.slots)||void 0===a?void 0:a.leaseOffset],["societyChallenge",null===(s=c.consts.society)||void 0===s?void 0:s.challengePeriod],["societyRotate",null===(o=c.consts.society)||void 0===o?void 0:o.rotationPeriod],["treasurySpend",null===(i=c.consts.treasury)||void 0===i?void 0:i.spendPeriod]]))}))}),[c,d,u]),j}));var se=function(){return se=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},se.apply(this,arguments)},oe=s.zo.main(le||(le=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  .calendarFlex {\n    align-items: flex-start;\n    display: flex;\n    flex-wrap: nowrap;\n\n    .wrapper-style {\n      flex: 1;\n\n      .upcoming-events {\n        position: relative;\n        max-width: 100%;\n      }\n    }\n\n    > div {\n      background-color: var(--bg-table);\n      border: 1px solid var(--border-table);\n      border-radius: 0.25rem;\n\n      &+div {\n        margin-left: 1.5rem;\n      }\n\n      .ui--Button-Group {\n        margin: 0;\n      }\n    }\n\n    h1 {\n      align-items: center;\n      border-bottom: 0.25rem solid var(--bg-page);\n      display: flex;\n      justify-content: space-between;\n      padding: 0.5rem 0.5rem 0.5rem 1rem;\n\n      > div:first-child {\n        align-items: center;\n        display: inline-flex;\n      }\n\n      .all-events-button {\n        margin-right: 1rem;\n      }\n\n      .ui--Button {\n        font-size: var(--font-size-small);\n      }\n    }\n  }\n"],["\n  .calendarFlex {\n    align-items: flex-start;\n    display: flex;\n    flex-wrap: nowrap;\n\n    .wrapper-style {\n      flex: 1;\n\n      .upcoming-events {\n        position: relative;\n        max-width: 100%;\n      }\n    }\n\n    > div {\n      background-color: var(--bg-table);\n      border: 1px solid var(--border-table);\n      border-radius: 0.25rem;\n\n      &+div {\n        margin-left: 1.5rem;\n      }\n\n      .ui--Button-Group {\n        margin: 0;\n      }\n    }\n\n    h1 {\n      align-items: center;\n      border-bottom: 0.25rem solid var(--bg-page);\n      display: flex;\n      justify-content: space-between;\n      padding: 0.5rem 0.5rem 0.5rem 1rem;\n\n      > div:first-child {\n        align-items: center;\n        display: inline-flex;\n      }\n\n      .all-events-button {\n        margin-right: 1rem;\n      }\n\n      .ui--Button {\n        font-size: var(--font-size-small);\n      }\n    }\n  }\n"])));const ie=a.memo((function(e){var n=e.basePath,t=e.className,o=d().t,i=ae(),l=(0,a.useState)((function(){return new Date})),c=l[0],u=l[1],h=(0,a.useState)((function(){return m(c,c)})),f=h[0],v=h[1],g=(0,a.useState)(!1),x=g[0],b=g[1],y=(0,a.useRef)([{isRoot:!0,name:"view",text:o("Upcoming events")}]);(0,a.useEffect)((function(){var e=setInterval((function(){return u(new Date)}),3e4);return function(){clearInterval(e)}}),[]);var j=(0,a.useMemo)((function(){var e=new Date(f.dateSelected);e.setDate(e.getDate()+1);var n=e.getTime(),t=f.dateMonthNext.getTime(),r=i.some((function(e){return e.dateTime>=t})),a=r||i.some((function(e){return e.dateTime>=n})),s=r?42:i.reduce((function(e,n){var t=n.date;return t.getFullYear()===f.dateMonth.getFullYear()&&t.getMonth()===f.dateMonth.getMonth()?Math.max(e,t.getDate()):e}),0);return[r,a,s]}),[f,i]),w=j[0],C=j[1],k=j[2],N=(0,a.useCallback)((function(){return v((function(e){var n=e.dateMonth,t=e.dateSelected;return m(p(n),t)}))}),[]),O=(0,a.useCallback)((function(){return v((function(e){var n,t,r=e.dateMonth,a=e.dateSelected;return m(0===(t=(n=r).getMonth())?new Date(n.getFullYear()-1,11,1):new Date(n.getFullYear(),t-1,1),a)}))}),[]),A=(0,a.useCallback)((function(){return v((function(e){var n=e.dateSelected,t=new Date(n);return t.setDate(t.getDate()+1),m(t,t)}))}),[]),S=(0,a.useCallback)((function(){return v((function(e){var n=e.dateSelected,t=new Date(n);return t.setDate(t.getDate()-1),m(t,t)}))}),[]),P=(0,a.useCallback)((function(e){return v((function(n){var t=n.dateMonth,r=new Date(t);return r.setDate(e),m(r,r)}))}),[]),I=(0,a.useCallback)((function(e){return b(e)}),[]);return(0,r.jsxs)(oe,se({className:t},{children:[(0,r.jsx)(s.mQ,{basePath:n,items:y.current}),(0,r.jsxs)("div",se({className:"calendarFlex"},{children:[(0,r.jsx)(q,{hasNextMonth:w,lastDay:k,now:c,scheduled:i,setDay:P,setNextMonth:N,setPrevMonth:O,state:f}),(0,r.jsx)("div",se({className:"wrapper-style"},{children:x?(0,r.jsx)(Z,{className:"upcoming-events",scheduled:i,setView:I}):(0,r.jsx)(T,{date:f.dateSelected,hasNextDay:C,now:c,scheduled:i,setNextDay:A,setPrevDay:S,setView:I})}))]}))]}))}));var le},75798:(e,n,t)=>{t.d(n,{Z:()=>oe});var r=t(52322),a=t(2784),s=t(72282),o=t.n(s),i=t(61349),l=t(24732),c=t(39764),u=t(90778),d=t(9118),h=t(56623),p=t(55858),m=t(94175),f=t(34814),v=t(58607),g=t(95292);function x(){return(0,i.$G)("app-claims")}(0,i.Zh)(["app-claims"]);var b=t(97637),y=t.n(b),j=t(23802),w=t(64021),C=t(84195),k=t(48533),N=t(48731),O=t(51330),A=t(64071);function S(e){for(var n=e.toLowerCase(),t=(0,A.Cl)(n.substring(2)).substring(2),r="0x",a=0;a<40;a++)r="".concat(r).concat(parseInt(t[a],16)>7?n[a+2].toUpperCase():n[a+2]);return r}function P(e,n){var t,r=n.recovery,a=n.signature,s=function(e){var n=(0,w.d)("Ethereum Signed Message:\n".concat(e.length.toString()).concat(e)),t=(0,A.ij)(n);return(0,C.Y)(t)}(e),o=y().recover(s,a,r);return t=y().publicKeyConvert(o,!1).slice(1),S("0x".concat((0,A.Cl)(t).slice(-40)))}function I(e,n){switch(e){case"Polkadot":case"Polkadot CC1":return function(e){if(e){var n=e.isRegular?"https://statement.polkadot.network/regular.html":"https://statement.polkadot.network/saft.html",t=e.isRegular?"Qmc1XYqT6S39WNp2UeiRUrZichUWUPpGEThDE6dAb3f6Ny":"QmXEkMahfhHJPzT3RjkXiZVFi77ZeVeuxtAjhojGRNYckz";return{sentence:"I hereby agree to the terms of the statement whose SHA-256 multihash is ".concat(t,". (This may be found at the URL: ").concat(n,")"),url:n}}}(n);default:return}}var E=function(){return E=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},E.apply(this,arguments)};function M(e,n,t,r,a,s){var o;return r?s||!a?{params:[t,r],tx:e.tx.claims.claim}:{params:[t,r,null===(o=I(n,a))||void 0===o?void 0:o.sentence],tx:e.tx.claims.claimAttest}:{}}var T,z,D="\nfont-size: var(--font-size-h3);\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\nmin-height: 12rem;\nalign-items: center;\nmargin: 0 1rem;\n\nh3 {\n  font-family: monospace;\n  font-size: 1.5rem;\n  max-width: 100%;\n  margin: 0.5rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\nh2 {\n  margin: 0.5rem 0 2rem;\n  font-family: monospace;\n  font-size: 2.5rem;\n  font-weight: var(--font-weight-normal);\n}\n",F=l.zo.div(R||(T=["",""],z=["",""],Object.defineProperty?Object.defineProperty(T,"raw",{value:z}):T.raw=z,R=T),D);const B=a.memo((function(e){var n=e.accountId,t=e.className,s=void 0===t?"":t,o=e.ethereumAddress,i=e.ethereumSignature,c=e.isOldClaimProcess,d=e.onSuccess,h=e.statementKind,p=x().t,m=(0,u.h)(),f=m.api,b=m.systemChain,y=(0,a.useState)(null),j=y[0],w=y[1],C=(0,a.useState)(!1),k=C[0],N=C[1];if((0,a.useEffect)((function(){o&&(N(!0),f.query.claims.claims(o).then((function(e){w(e.unwrapOr(g.nw)),N(!1)})).catch((function(e){console.error(e),N(!1)})))}),[f,o]),!o||k||!j)return null;var O=j.gt(g.nw);return(0,r.jsx)(l.Zb,E({isError:!O,isSuccess:O},{children:(0,r.jsxs)(F,E({className:s},{children:[p("Your Ethereum account"),(0,r.jsx)("h2",{children:S(o.toString())}),O?(0,r.jsxs)(r.Fragment,{children:[p("has a valid claim for"),(0,r.jsx)("h2",{children:(0,r.jsx)(v.Z,{value:j})}),(0,r.jsx)(l.zx.Group,{children:(0,r.jsx)(l.cA,E({icon:"paper-plane",isUnsigned:!0,label:p("Claim"),onSuccess:d},M(f,b,n,i,h,c)))})]}):(0,r.jsx)(r.Fragment,{children:p("does not appear to have a valid claim. Please double check that you have signed the transaction correctly on the correct ETH account.")})]}))}))}));var R,V=function(){return V=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},V.apply(this,arguments)};function L(e){var n=e.statementUrl,t=e.systemChain,a=x().t;switch(t){case"Polkadot":case"Polkadot CC1":return n?(0,r.jsx)("iframe",{src:n}):null;default:return(0,r.jsx)("p",{children:a("Warning: we did not find any attest statement for {{chain}}",{replace:{chain:t}})})}}var H=l.zo.div(_||(_=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  .statement{\n    border: 1px solid #c2c2c2;\n    background: #f2f2f2;\n    height: 15rem;\n    padding: 1rem;\n    width: 100%;\n    margin: 1rem 0;\n    white-space: normal;\n\n    p {\n      color: var(--color-text) !important;\n    }\n\n    iframe {\n      border: 0;\n      height: 100%;\n      width: 100%;\n    }\n  }\n\n  .statementUrl{\n    margin-left: 0.3rem\n  }\n"],["\n  .statement{\n    border: 1px solid #c2c2c2;\n    background: #f2f2f2;\n    height: 15rem;\n    padding: 1rem;\n    width: 100%;\n    margin: 1rem 0;\n    white-space: normal;\n\n    p {\n      color: var(--color-text) !important;\n    }\n\n    iframe {\n      border: 0;\n      height: 100%;\n      width: 100%;\n    }\n  }\n\n  .statementUrl{\n    margin-left: 0.3rem\n  }\n"])));const q=a.memo((function(e){var n,t=e.className,a=e.kind,s=e.systemChain,o=x().t,i=null===(n=I(s,a))||void 0===n?void 0:n.url;return i?(0,r.jsxs)(H,V({className:t},{children:[o("Please read these terms and conditions carefully. By submitting this statement, you are deemed to have accepted these Terms and Conditions. If you do not agree to these terms, please refrain from accessing or proceeding. You can also find them at:"),(0,r.jsx)("a",V({className:"statementUrl",href:i,rel:"noopener noreferrer",target:"_blank"},{children:i})),(0,r.jsx)("div",V({className:"statement"},{children:(0,r.jsx)(L,{statementUrl:i,systemChain:s})}))]})):null}));var _,W=function(){return W=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},W.apply(this,arguments)},G=l.zo.div(U||(U=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["",""],["",""])),D);const Z=a.memo((function(e){var n=e.accountId,t=e.className,s=e.ethereumAddress,o=e.onSuccess,i=e.statementKind,c=e.systemChain,d=(0,f.x)(),h=x().t,p=(0,u.h)().api,m=(0,a.useState)(null),b=m[0],y=m[1],j=(0,a.useState)(!1),w=j[0],C=j[1];(0,a.useEffect)((function(){s&&(C(!0),p.query.claims.claims(s).then((function(e){y(e.unwrapOr(g.nw)),C(!1)})).catch((function(e){console.error(e),C(!1)})))}),[p,s]);var k=(0,a.useMemo)((function(){var e;return null===(e=I(c,i))||void 0===e?void 0:e.sentence}),[c,i]);if(w||!b)return null;var N=b.isZero();return N||!k?(0,r.jsx)(l.Zb,W({isError:!0},{children:(0,r.jsxs)(G,W({className:t},{children:[N&&(0,r.jsx)("p",{children:h("There is no on-chain claimable balance associated with the Ethereum account {{ethereumAddress}}",{replace:{ethereumAddress:s}})}),!k&&(0,r.jsx)("p",{children:h("There is no on-chain attestation statement associated with the Ethereum account {{ethereumAddress}}",{replace:{ethereumAddress:s}})})]}))})):d.isAccount(n)?(0,r.jsx)(l.Zb,W({isSuccess:!0},{children:(0,r.jsxs)(G,W({className:t},{children:[(0,r.jsx)(q,{kind:i,systemChain:c}),(0,r.jsx)("h2",{children:(0,r.jsx)(v.Z,{label:h("Account balance:"),value:b})}),(0,r.jsx)(l.zx.Group,{children:(0,r.jsx)(l.cA,{accountId:n,icon:"paper-plane",isDisabled:!k,label:h("I agree"),onSuccess:o,params:[k],tx:p.tx.claims.attest})})]}))})):(0,r.jsx)(l.Zb,W({isError:!0},{children:(0,r.jsxs)(G,W({className:t},{children:[h("We found a pre-claim with this Polkadot address. However, attesting requires signing with this account. To continue with attesting, please add this account as an owned account first."),(0,r.jsx)("h2",{children:(0,r.jsx)(v.Z,{label:h("Account balance:"),value:b})})]}))}))}));var U,J=t(15153),Q=function(){return Q=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Q.apply(this,arguments)},Y=l.zo.div(X||(X=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  font-size: var(--font-size-h3);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  min-height: 8rem;\n  align-items: center;\n  margin: 0 1rem;\n\n  .ui--AddressMini-address {\n    max-width: 20rem;\n  }\n"],["\n  font-size: var(--font-size-h3);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  min-height: 8rem;\n  align-items: center;\n  margin: 0 1rem;\n\n  .ui--AddressMini-address {\n    max-width: 20rem;\n  }\n"])));const K=a.memo((function(e){var n=e.className,t=x().t,a=(0,J.Z)();return a.length?(0,r.jsx)(l.Zb,Q({isError:!0},{children:(0,r.jsxs)(Y,Q({className:n},{children:[a.length>1?t("You need to sign an attestation for the following accounts:"):t("You need to sign an attestation for the following account:"),a.map((function(e){return(0,r.jsx)(l.ax,{value:e},e)}))]}))})):null}));var X,$,ee=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},ne=function(){return ne=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},ne.apply(this,arguments)};!function(e){e[e.Account=0]="Account",e[e.ETHAddress=1]="ETHAddress",e[e.Sign=2]="Sign",e[e.Claim=3]="Claim"}($||($={}));var te="PRECLAIMS_LOADING",re=l.zo.pre(ie||(ie=ee(["\n  cursor: copy;\n  font: var(--font-mono);\n  border: 1px dashed #c2c2c2;\n  background: #f2f2f2;\n  padding: 1rem;\n  width: 100%;\n  margin: 1rem 0;\n  white-space: normal;\n  word-break: break-all;\n"],["\n  cursor: copy;\n  font: var(--font-mono);\n  border: 1px dashed #c2c2c2;\n  background: #f2f2f2;\n  padding: 1rem;\n  width: 100%;\n  margin: 1rem 0;\n  white-space: normal;\n  word-break: break-all;\n"]))),ae=l.zo.textarea(le||(le=ee(["\n  font: var(--font-mono);\n  padding: 1rem;\n  border: 1px solid var(--border-input);\n  border-radius: 0.25rem;\n  margin: 1rem 0;\n  resize: none;\n  width: 100%;\n\n  &::placeholder {\n    color: rgba(0, 0, 0, 0.5);\n  }\n\n  &::-ms-input-placeholder {\n    color: rgba(0, 0, 0, 0.5);\n  }\n\n  &:-ms-input-placeholder {\n    color: rgba(0, 0, 0, 0.5);\n  }\n"],["\n  font: var(--font-mono);\n  padding: 1rem;\n  border: 1px solid var(--border-input);\n  border-radius: 0.25rem;\n  margin: 1rem 0;\n  resize: none;\n  width: 100%;\n\n  &::placeholder {\n    color: rgba(0, 0, 0, 0.5);\n  }\n\n  &::-ms-input-placeholder {\n    color: rgba(0, 0, 0, 0.5);\n  }\n\n  &:-ms-input-placeholder {\n    color: rgba(0, 0, 0, 0.5);\n  }\n"]))),se={transform:function(e){return e.unwrapOr(null)}};const oe=a.memo((function(e){var n,t=e.basePath,s=(0,a.useState)(!1),f=s[0],v=s[1],g=(0,a.useState)(null),b=g[0],y=g[1],w=(0,a.useState)(null),A=w[0],S=w[1],E=(0,a.useState)($.Account),M=E[0],T=E[1],z=(0,a.useState)(null),D=z[0],F=z[1],R=(0,u.h)(),V=R.api,L=R.systemChain,H=x().t,_=(0,a.useState)(te),W=_[0],G=_[1],U=!!W&&W!==te,J=(0,a.useRef)([{isRoot:!0,name:"create",text:H("Claim tokens")}]);(0,a.useEffect)((function(){if(D){if(T($.Account),y(null),G(te),!V.query.claims||!V.query.claims.preclaims)return G(null);V.query.claims.preclaims(D).then((function(e){var n,t=null===(n=e.unwrapOr(null))||void 0===n?void 0:n.toString();y(t),G(t)})).catch((function(e){console.error(e),G(null)}))}}),[D,V.query.claims,V.query.claims.preclaims]);var Q=!V.tx.claims.claimAttest;(0,a.useEffect)((function(){f&&setTimeout((function(){v(!1)}),1e3)}),[f]);var Y=(0,a.useCallback)((function(){T($.Account)}),[]),X=(0,a.useCallback)((function(){T($.Sign)}),[]),ee=(0,a.useCallback)((function(){T($.Claim)}),[]),oe=(0,a.useCallback)((function(){U?ee():b||Q?X():T($.ETHAddress)}),[b,ee,X,U,Q]),ie=(0,a.useCallback)((function(e){var n=function(e){try{var n=JSON.parse(e||"{}"),t=n.msg,r=n.sig;if(!t||!r)throw new Error("Invalid signature object");var a=function(e){var n=(0,k.G)(e);(0,N.hu)(65===n.length,"Invalid signature length, expected 65 found ".concat(n.length));var t=n[64];t<27&&(t+=27);var r=t-27;return(0,N.hu)(0===r||1===r,"Invalid signature v value"),{recovery:r,signature:(0,C.Y)(n.slice(0,64))}}(r);return{error:null,ethereumAddress:j.default.createType("EthereumAddress",P(t,a)),signature:j.default.createType("EcdsaSignature",(0,O.e)(a.signature,new Uint8Array([a.recovery])))}}catch(e){return console.error(e),{error:e,ethereumAddress:null,signature:null}}}(e.target.value),t=n.ethereumAddress,r=n.signature;y(null==t?void 0:t.toString()),S(r)}),[]),le=(0,a.useCallback)((function(e){y(e.trim())}),[]),ce=(0,a.useCallback)((function(){v(!0)}),[]),ue=(0,d.W7)(!U&&!Q&&!!b&&V.query.claims.signing,[b],se),de=(null===(n=I(L,ue))||void 0===n?void 0:n.sentence)||"",he=(0,h.z)(V.consts.claims.prefix.toU8a(!0)),pe=D?"".concat(he).concat((0,p.c)((0,m.m)(D),-1,!1)).concat(de):"";return(0,r.jsxs)("main",{children:[(0,r.jsx)(l.mQ,{basePath:t,items:J.current}),!Q&&(0,r.jsx)(K,{}),(0,r.jsx)("h1",{children:(0,r.jsxs)(i.cC,{children:["Claim your ",(0,r.jsx)("em",{children:c.k.abbr})," tokens"]})}),(0,r.jsxs)(l.P0,{children:[(0,r.jsxs)(l.P0.Column,{children:[(0,r.jsxs)(l.Zb,ne({withBottomMargin:!0},{children:[(0,r.jsx)("h2",{children:H("1. Select your {{chain}} account",{replace:{chain:L}})}),(0,r.jsx)(l.rp,{defaultValue:D,label:H("claim to account"),onChange:F,type:"all"}),M===$.Account&&(0,r.jsx)(l.zx.Group,{children:(0,r.jsx)(l.zx,{icon:"sign-in-alt",isDisabled:W===te,label:H(W===te?"Loading":"Continue"),onClick:oe})})]})),M>=$.ETHAddress&&!U&&!Q&&(0,r.jsxs)(l.Zb,ne({withBottomMargin:!0},{children:[(0,r.jsx)("h2",{children:H("2. Enter the ETH address from the sale.")}),(0,r.jsx)(l.II,{autoFocus:!0,className:"full",label:H("Pre-sale ethereum address"),onChange:le,value:b||""}),M===$.ETHAddress&&(0,r.jsx)(l.zx.Group,{children:(0,r.jsx)(l.zx,{icon:"sign-in-alt",isDisabled:!b,label:H("Continue"),onClick:X})})]})),M>=$.Sign&&!U&&(0,r.jsxs)(l.Zb,{children:[(0,r.jsx)("h2",{children:H("{{step}}. Sign with your ETH address",{replace:{step:Q?"2":"3"}})}),!Q&&(0,r.jsx)(q,{kind:ue,systemChain:L}),(0,r.jsx)("div",{children:H("Copy the following string and sign it with the Ethereum account you used during the pre-sale in the wallet of your choice, using the string as the payload, and then paste the transaction signature object below:")}),(0,r.jsx)(o(),ne({onCopy:ce,text:pe},{children:(0,r.jsx)(re,ne({"data-for":"tx-payload","data-tip":!0},{children:pe}))})),(0,r.jsx)(l.u,{place:"right",text:H(f?"copied":"click to copy"),trigger:"tx-payload"}),(0,r.jsx)("div",{children:H("Paste the signed message into the field below. The placeholder text is there as a hint to what the message should look like:")}),(0,r.jsx)(ae,{onChange:ie,placeholder:'{\n  "address": "0x ...",\n  "msg": "'.concat(he,':...",\n  "sig": "0x ...",\n  "version": "2"\n}'),rows:10}),M===$.Sign&&(0,r.jsx)(l.zx.Group,{children:(0,r.jsx)(l.zx,{icon:"sign-in-alt",isDisabled:!D||!A,label:H("Confirm claim"),onClick:ee})})]})]}),(0,r.jsx)(l.P0.Column,{children:D&&M>=$.Claim&&(U?(0,r.jsx)(Z,{accountId:D,ethereumAddress:b,onSuccess:Y,statementKind:ue,systemChain:L}):(0,r.jsx)(B,{accountId:D,ethereumAddress:b,ethereumSignature:A,isOldClaimProcess:Q,onSuccess:Y,statementKind:ue}))})]})]})}));var ie,le},73352:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(11677),a=t(15153);const s=(0,r.e)("useCounter",(function(){return(0,a.Z)().length}))},15153:(e,n,t)=>{t.d(n,{Z:()=>l});var r=t(2784),a=t(34814),s=t(90778),o=t(74065),i=t(9118);const l=(0,t(11677).e)("usePolkadotPreclaims",(function(){var e,n,t=(0,a.x)().allAccounts,l=(0,s.h)().api,c=(0,o.X)(),u=(0,r.useState)([]),d=u[0],h=u[1],p=(0,i.W7)(null===(n=null===(e=l.query.claims)||void 0===e?void 0:e.preclaims)||void 0===n?void 0:n.multi,[t],{transform:function(e){return e.map((function(e,n){return[t[n],e]})).filter((function(e){return e[1].isSome})).map((function(e){return[e[0],e[1].unwrap()]}))}});return(0,r.useEffect)((function(){p&&l.queryMulti(p.reduce((function(e,n){var t=n[1];return e.concat([[l.query.claims.claims,t],[l.query.claims.vesting,t]])}),[]),(function(e){c.current&&h(p.filter((function(n,t){return e[2*t].isSome||e[2*t+1].isSome})).map((function(e){return e[0]})))})).catch(console.error)}),[l,t,c,p]),d}))},2799:(e,n,t)=>{t.d(n,{Z:()=>A});var r=t(52322),a=t(2784),s=t(24732),o=t(75387),i=t(36609),l=t(14681),c=function(){return c=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},c.apply(this,arguments)};const u=a.memo((function(e){var n=e.className,t=e.info,o=t.accountId,u=t.deposit,d=t.isInvulnerable,h=t.lastBlock,p=e.lastBlock,m=(0,a.useMemo)((function(){return h?(0,l.u)(h):p}),[h,p]);return(0,r.jsxs)("tr",c({className:n},{children:[(0,r.jsx)("td",c({className:"badge number"},{children:d&&(0,r.jsx)(s.Ct,{color:"green",icon:"shield"})})),(0,r.jsx)("td",c({className:"address all"},{children:(0,r.jsx)(s.N,{value:o})})),(0,r.jsx)(s.iA.Column.Balance,{value:u}),(0,r.jsx)("td",c({className:"number"},{children:(0,r.jsx)(i.Z,{params:o})})),(0,r.jsx)("td",c({className:"number"},{children:m}))]}))}));var d=t(90778),h=t(9118),p=t(61349);function m(){return(0,p.$G)("app-collator")}var f=function(){return f=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},f.apply(this,arguments)};const v=a.memo((function(e){var n=e.className,t=m().t,a=(0,d.h)().api,o=(0,h.W7)(a.query.collatorSelection.desiredCandidates);return(0,r.jsx)(s.Ty,f({className:n},{children:(0,r.jsx)("section",{children:o&&(0,r.jsx)(s.Jy,f({label:t("desired")},{children:(0,l.u)(o)}))})}))}));var g=t(11677),x=function(){return x=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},x.apply(this,arguments)},b=function(e,n,t){if(t||2===arguments.length)for(var r,a=0,s=n.length;a<s;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))},y={transform:function(e){return e.map((function(e){return{accountId:e.toString(),isInvulnerable:!0}}))}},j={transform:function(e){return Array.isArray(e)?e.map((function(e){var n=e.deposit;return{accountId:e.who.toString(),deposit:n,isInvulnerable:!1}})):e.strings.map((function(e){return{accountId:e,isInvulnerable:!1}}))}},w={transform:function(e){var n=e[0][0],t=e[1];return n.reduce((function(e,n,r){var a;return x(x({},e),((a={})[n]=t[r],a))}),{})},withParamsTransform:!0};const C=(0,g.e)("useCollatorImpl",(function(){var e,n=(0,d.h)().api,t=(0,a.useState)(),r=t[0],s=t[1],o=(0,a.useMemo)((function(){return r&&r.map((function(e){return e.accountId}))}),[r]),i=(0,h.W7)(n.query.collatorSelection.invulnerables,[],y),l=(0,h.W7)(n.query.collatorSelection.candidates,[],j),c=(0,h.W7)(o&&(null===(e=n.query.collatorSelection.lastAuthoredBlock)||void 0===e?void 0:e.multi),[o],w);return(0,a.useEffect)((function(){return i&&l&&s((function(){return b(b([],i,!0),l,!0)}))}),[l,i]),(0,a.useEffect)((function(){return c&&s((function(e){return e&&function(e,n){var t=!1,r=e.map((function(e){return!n[e.accountId]||e.lastBlock&&n[e.accountId].eq(e.lastBlock)?e:(t=!0,x(x({},e),{lastBlock:n[e.accountId]}))}));return t?r:e}(e,c)}))}),[c]),r}));var k=function(){return k=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},k.apply(this,arguments)};const N=a.memo((function(e){var n=e.className,t=m().t,i=C(),l=(0,o.E)().byAuthor,c=(0,a.useRef)([[t("collators"),"start",2],[t("deposit"),"number"],[t("balance"),"number"],[t("last #"),"number"]]);return(0,r.jsxs)("div",k({className:n},{children:[(0,r.jsx)(v,{}),(0,r.jsx)(s.iA,k({empty:i&&t("No running collators"),header:c.current},{children:i&&i.map((function(e){return(0,r.jsx)(u,{info:e,lastBlock:l[e.accountId]},e.accountId)}))}))]}))}));var O=function(){return O=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},O.apply(this,arguments)};const A=a.memo((function(e){var n=e.basePath,t=e.className,o=m().t,i=(0,a.useRef)([{isRoot:!0,name:"index",text:o("Overview")}]);return(0,r.jsxs)("main",O({className:t},{children:[(0,r.jsx)(s.mQ,{basePath:n,items:i.current}),(0,r.jsx)(N,{})]}))}))},22516:(e,n,t)=>{t.d(n,{Z:()=>Pn});var r=t(52322),a=t(2784),s=t(61349);function o(){return(0,s.$G)("app-contracts")}(0,s.Zh)(["app-contracts"]);var i,l,c=t(24732),u=t(38894),d=t(10161),h=t.n(d),p=t(23729),m=t.n(p),f=t(8257),v=t(57139),g=t(54371),x=(i=function(e,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},i(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),b=function(){return b=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},b.apply(this,arguments)},y=function(e,n,t,r){if("a"===t&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof n?e!==n||!r:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?r:"a"===t?r.call(e):r?r.value:n.get(e)},j="code:",w=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return l.set(n,{}),n}return x(n,e),Object.defineProperty(n.prototype,"hasCode",{get:function(){return 0!==Object.keys(y(this,l,"f")).length},enumerable:!1,configurable:!0}),n.prototype.getAllCode=function(){return Object.values(y(this,l,"f"))},n.prototype.getCode=function(e){return y(this,l,"f")[e]},n.prototype.saveCode=function(e,n){var t=((0,g.H)(e)?v.api.registry.createType("Hash",e):e).toHex(),r=this.getCode(t),a=b(b(b({},r?r.json:{}),n),{codeHash:t,genesisHash:v.api.genesisHash.toHex(),whenCreated:(null==r?void 0:r.json.whenCreated)||Date.now()}),s="".concat(j).concat(a.codeHash);m().set(s,a),this.addCode(s,a)},n.prototype.forgetCode=function(e){this.removeCode("".concat(j).concat(e),e)},n.prototype.loadAll=function(e){var n=this;try{var t=v.api.genesisHash.toHex();m().each((function(e,r){e&&e.genesisHash===t&&r.startsWith(j)&&n.addCode(r,e)})),e&&e()}catch(e){console.error("Unable to load code",e)}},n.prototype.addCode=function(e,n){try{y(this,l,"f")[n.codeHash]={contractAbi:n.abi?new f.P(n.abi,v.api.registry.getChainProperties()):void 0,json:n},this.emit("new-code")}catch(t){console.error(t),this.removeCode(e,n.codeHash)}},n.prototype.removeCode=function(e,n){try{delete y(this,l,"f")[n],m().remove(e),this.emit("removed-code")}catch(e){console.error(e)}},n}(h());l=new WeakMap;const C=new w;var k,N,O=t(90778),A=t(9118),S=t(16613),P=function(){return P=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},P.apply(this,arguments)},I="<unknown>",E=(0,c.zo)(S.Z)(T||(k=["\n  .ui--CodeRow-icon {\n    margin-right: -0.5em;\n    background: #eee;\n    border-radius: 50%;\n    color: #666;\n    width: 26px;\n    height: 26px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n"],N=["\n  .ui--CodeRow-icon {\n    margin-right: -0.5em;\n    background: #eee;\n    border-radius: 50%;\n    color: #666;\n    width: 26px;\n    height: 26px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n"],Object.defineProperty?Object.defineProperty(k,"raw",{value:N}):k.raw=N,T=k));const M=a.memo((function(e){var n=e.buttons,t=e.children,s=e.className,o=e.code.json,i=e.isInline,l=e.withTags,u=(0,a.useState)(o.name||I),d=u[0],h=u[1],p=(0,a.useState)(o.tags||[]),m=p[0],f=p[1],v=(0,a.useState)(o.codeHash||"0x"),g=v[0],x=v[1];(0,a.useEffect)((function(){h(o.name||I),f(o.tags||[]),x(o.codeHash||"0x")}),[o]);var b=(0,a.useCallback)((function(){d.trim()&&g&&C.saveCode(g,{name:d})}),[g,d]),y=(0,a.useCallback)((function(){g&&C.saveCode(g,{tags:m})}),[g,m]);return(0,r.jsx)(E,P({buttons:n,className:s,icon:(0,r.jsx)("div",P({className:"ui--CodeRow-icon"},{children:(0,r.jsx)(c.JO,{icon:"code"})})),isInline:i,name:d,onChangeName:h,onChangeTags:f,onSaveName:b,onSaveTags:y,tags:l?m:void 0},{children:t}))}));var T,z=t(14681),D=t(83488),F=t(45469),B=function(){return B=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},B.apply(this,arguments)},R=c.zo.div(L||(L=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  font: var(--font-mono);\n  font-weight: var(--font-weight-normal);\n  flex-grow: 1;\n\n  .ui--MessageSignature-mutates {\n    color: #ff8600;\n    margin-left: 0.5rem;\n    opacity: var(--opacity-light);\n  }\n\n  .ui--MessageSignature-name {\n    color: #2f8ddb;\n    font-weight: var(--font-weight-normal);\n  }\n\n  .ui--MessageSignature-type {\n    color: #21a2b2;\n  }\n\n  .ui--MessageSignature-returnType {\n    color: #ff8600;\n  }\n"],["\n  font: var(--font-mono);\n  font-weight: var(--font-weight-normal);\n  flex-grow: 1;\n\n  .ui--MessageSignature-mutates {\n    color: #ff8600;\n    margin-left: 0.5rem;\n    opacity: var(--opacity-light);\n  }\n\n  .ui--MessageSignature-name {\n    color: #2f8ddb;\n    font-weight: var(--font-weight-normal);\n  }\n\n  .ui--MessageSignature-type {\n    color: #21a2b2;\n  }\n\n  .ui--MessageSignature-returnType {\n    color: #ff8600;\n  }\n"])));const V=a.memo((function(e){var n=e.className,t=e.message,s=t.args,i=t.isConstructor,l=t.isMutating,u=t.method,d=t.returnType,h=e.params,p=void 0===h?[]:h,m=e.withTooltip,f=void 0!==m&&m,v=o().t,g=(0,O.h)().api;return(0,r.jsxs)(R,B({className:n},{children:[(0,r.jsx)("span",B({className:"ui--MessageSignature-name"},{children:u}))," ","(",s.map((function(e,n){var t,o=e.name,i=e.type;return(0,r.jsxs)(a.Fragment,{children:[o,":"," ",(0,r.jsx)("span",B({className:"ui--MessageSignature-type"},{children:p&&p[n]?(0,r.jsx)("b",{children:(t=p[n].toString(),t.length>20?"".concat(t.substring(0,10),"…").concat(t.substring(t.length-10)):t)}):(0,F.RH)(g.registry,i)})),n<s.length-1&&", "]},"".concat(o,"-args-").concat(n))})),")",!i&&d&&(0,r.jsxs)(r.Fragment,{children:[":"," ",(0,r.jsx)("span",B({className:"ui--MessageSignature-returnType"},{children:(0,F.RH)(g.registry,d)}))]}),l&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.JO,{className:"ui--MessageSignature-mutates",icon:"database",tooltip:"mutates-".concat(u)}),f&&(0,r.jsx)(c.u,{text:v("Mutates contract state"),trigger:"mutates-".concat(u)})]})]}))}));var L,H=function(){return H=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},H.apply(this,arguments)},q=c.zo.div(W||(W=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  align-items: center;\n  border-radius: 0.25rem;\n  display: flex;\n  padding: 0.25rem 0.75rem 0.25rem 0;\n\n  &.disabled {\n    opacity: 1 !important;\n    background: #eee !important;\n    color: #555 !important;\n  }\n\n  .info {\n    flex: 1 1;\n    margin-left: 1.5rem;\n\n    .docs {\n      font-size: var(--font-size-small);\n      font-weight: var(--font-weight-normal);\n    }\n  }\n\n  .result {\n    min-width: 15rem;\n  }\n\n  &+& {\n    margin-top: 0.5rem;\n  }\n"],["\n  align-items: center;\n  border-radius: 0.25rem;\n  display: flex;\n  padding: 0.25rem 0.75rem 0.25rem 0;\n\n  &.disabled {\n    opacity: 1 !important;\n    background: #eee !important;\n    color: #555 !important;\n  }\n\n  .info {\n    flex: 1 1;\n    margin-left: 1.5rem;\n\n    .docs {\n      font-size: var(--font-size-small);\n      font-weight: var(--font-weight-normal);\n    }\n  }\n\n  .result {\n    min-width: 15rem;\n  }\n\n  &+& {\n    margin-top: 0.5rem;\n  }\n"])));const _=a.memo((function(e){var n,t,s=e.className,i=void 0===s?"":s,l=e.index,u=e.lastResult,d=e.message,h=e.onSelect,p=o().t,m=(0,a.useCallback)((function(){return h&&h(l)}),[l,h]);return(0,r.jsxs)(q,H({className:"".concat(i," ").concat(h?"":"exempt-hover"," ").concat(d.isConstructor?"constructor":"")},{children:[h&&(d.isConstructor?(0,r.jsx)(c.zx,{className:"accessory",icon:"upload",label:p("deploy"),onClick:m}):(0,r.jsx)(c.zx,{className:"accessory",icon:"play",isDisabled:!d.isMutating&&!d.args.length&&(null==u?void 0:u.result.isOk),label:d.isMutating?p("exec"):p("read"),onClick:m})),(0,r.jsxs)("div",H({className:"info"},{children:[(0,r.jsx)(V,{asConstructor:d.isConstructor,message:d,withTooltip:!0}),(0,r.jsx)("div",H({className:"docs"},{children:d.docs.length?(n=d.docs,t=!1,n.map((function(e){return e.trim()})).filter((function(e){return e})).filter((function(e,n){return!(t||(n||e.startsWith("#"))&&(t=!0,1))}))).map((function(e,n){return(0,r.jsx)("div",{children:e},"".concat(d.identifier,"-docs-").concat(n))})):(0,r.jsxs)("i",{children:[" ",p("No documentation provided")," "]})}))]})),u&&u.result.isOk&&u.output&&(0,r.jsx)(c.r_,H({className:"result",isFull:!0,label:p("current value")},{children:(0,D.Z)("Text",u.output)}))]}),"".concat(d.identifier,"-").concat(l))}));var W,G=function(){return G=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},G.apply(this,arguments)},Z="0x".padEnd(66,"0");function U(e){return e.map((function(e,n){return[e,n]})).sort((function(e,n){return e[0].identifier.localeCompare(n[0].identifier)})).sort((function(e,n){return e[0].isMutating===n[0].isMutating?0:e[0].isMutating?-1:1}))}var J=c.zo.div(Y||(Y=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  padding-bottom: 0.75rem !important;\n\n  &.isLabelled {\n    background: var(--bg-input);\n    box-sizing: border-box;\n    border: 1px solid var(--border-input);\n    border-radius: .28571429rem;\n    padding: 1rem 1rem 0.5rem;\n    width: 100%;\n  }\n"],["\n  padding-bottom: 0.75rem !important;\n\n  &.isLabelled {\n    background: var(--bg-input);\n    box-sizing: border-box;\n    border: 1px solid var(--border-input);\n    border-radius: .28571429rem;\n    padding: 1rem 1rem 0.5rem;\n    width: 100%;\n  }\n"])));const Q=a.memo((function(e){var n=e.className,t=void 0===n?"":n,s=e.contract,i=e.contractAbi,l=i.constructors,u=i.info.source,d=i.messages,h=e.isLabelled,p=e.isWatching,m=e.onSelect,f=e.onSelectConstructor,v=e.trigger,g=e.withConstructors,x=e.withMessages,b=e.withWasm,y=o().t,j=(0,O.h)().api,w=(0,A.W7)(s&&j.query.contracts.contractInfoOf,[null==s?void 0:s.address]),C=(0,a.useState)(!1),k=C[0],N=C[1],S=(0,a.useState)([]),P=S[0],I=S[1],E=(0,a.useCallback)((function(e){p&&N(e)}),[p]),M=(0,a.useCallback)((function(){w&&s&&Promise.all(d.map((function(e){return e.isMutating||0!==e.args.length?Promise.resolve(void 0):s.query[e.method](Z,{gasLimit:-1,value:0}).catch((function(n){return console.error("contract.query.".concat(e.method,":: ").concat(n.message))})).then((function(){}))}))).then(I).catch(console.error)}),[s,d,w]);(0,a.useEffect)((function(){(k||v)&&w&&s&&M()}),[M,s,k,w,v]);var T=(0,a.useCallback)((function(e,n){}),[]),D=(0,a.useCallback)((function(e){return m&&m(e,T)}),[T,m]);return(0,r.jsxs)(J,G({className:"".concat(t," ui--Messages ").concat(h?"isLabelled":"")},{children:[g&&(0,r.jsx)(c.xH,G({summary:y("Constructors ({{count}})",{replace:{count:l.length}})},{children:U(l).map((function(e){var n=e[0],t=e[1];return(0,r.jsx)(_,{index:t,message:n,onSelect:f},t)}))})),x&&(0,r.jsx)(c.xH,G({onClick:E,summary:y("Messages ({{count}})",{replace:{count:d.length}})},{children:U(d).map((function(e){var n=e[0],t=e[1];return(0,r.jsx)(_,{index:t,lastResult:P[t],message:n,onSelect:D},t)}))})),b&&0!==u.wasm.length&&(0,r.jsx)("div",{children:y("{{size}} WASM bytes",{replace:{size:(0,z.u)(u.wasm.length)}})})]}))}));var Y,K=t(11677),X=t(56623),$=function(){return $=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},$.apply(this,arguments)};function ee(e,n){return{abi:e[0]||null,abiName:null,contractAbi:e[1]||null,errorText:null,isAbiError:!1,isAbiSupplied:!!e[1],isAbiValid:!n||!!e[1]}}var ne={abi:null,abiName:null,contractAbi:null,errorText:null,isAbiError:!1,isAbiSupplied:!1,isAbiValid:!1};const te=(0,K.e)("useAbi",(function(e,n,t){void 0===e&&(e=[null,null]),void 0===n&&(n=null),void 0===t&&(t=!1);var r=(0,a.useState)((function(){return ee(e,t)})),s=r[0],o=r[1];(0,a.useEffect)((function(){return o((function(n){return e[0]&&n.abi!==e[0]?ee(e,t):n}))}),[e,t]);var i=(0,a.useCallback)((function(e,t){var r=(0,X.z)(e);try{o({abi:r,abiName:t.replace(".contract","").replace(".json","").replace("_"," "),contractAbi:new f.P(r,v.api.registry.getChainProperties()),errorText:null,isAbiError:!1,isAbiSupplied:!0,isAbiValid:!0}),n&&C.saveCode(n,{abi:r})}catch(e){console.error(e),o($($({},ne),{errorText:e.message}))}}),[n]),l=(0,a.useCallback)((function(){o(ne),n&&C.saveCode(n,{abi:null})}),[n]);return $($({},s),{onChangeAbi:i,onRemoveAbi:l})}));var re=function(){return re=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},re.apply(this,arguments)},ae=c.zo.tr(oe||(oe=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  .codeHash {\n    div {\n      display: inline;\n\n      &:first-child {\n        font-family: monospace;\n        margin-right: 0.5rem;\n      }\n    }\n  }\n"],["\n  .codeHash {\n    div {\n      display: inline;\n\n      &:first-child {\n        font-family: monospace;\n        margin-right: 0.5rem;\n      }\n    }\n  }\n"])));const se=a.memo((function(e){var n=e.className,t=e.code,s=e.onShowDeploy,i=o().t,l=(0,O.h)().api,d=(0,A.W7)(l.query.contracts.codeStorage,[t.json.codeHash]),h=(0,u.O)(),p=h[0],m=h[1],f=te([t.json.abi,t.contractAbi],t.json.codeHash,!0).contractAbi,v=(0,a.useCallback)((function(){return s(t.json.codeHash,0)}),[t,s]),g=(0,a.useCallback)((function(e){s&&s(t.json.codeHash,e||0)}),[t,s]),x=(0,a.useCallback)((function(){try{C.forgetCode(t.json.codeHash)}catch(e){console.error(e)}finally{m()}}),[t,m]);return(0,r.jsxs)(ae,re({className:n},{children:[(0,r.jsx)("td",re({className:"address top"},{children:(0,r.jsxs)(c.Zb,{children:[(0,r.jsx)(M,{code:t,withTags:!1}),p&&(0,r.jsx)(c.u5,re({mode:"code",onClose:m,onForget:x},{children:(0,r.jsxs)(M,re({code:t||"",isInline:!0},{children:[(0,r.jsx)("p",{children:i("You are about to remove this code from your list of available code hashes. Once completed, should you need to access it again, you will have to manually add the code hash again.")}),(0,r.jsx)("p",{children:i("This operation does not remove the uploaded code WASM and ABI from the chain, nor any deployed contracts. The forget operation only limits your access to the code on this browser.")})]}))}),"modal-forget-account")]})})),(0,r.jsx)("td",re({className:"all top"},{children:f&&(0,r.jsx)(Q,{contractAbi:f,onSelectConstructor:g,withConstructors:!0})})),(0,r.jsxs)("td",re({className:"together codeHash"},{children:[(0,r.jsx)("div",{children:"".concat(t.json.codeHash.slice(0,8),"…").concat(t.json.codeHash.slice(-6))}),(0,r.jsx)(c.qi,{value:t.json.codeHash})]})),(0,r.jsx)("td",re({className:"start together"},{children:d&&(d.isSome?i("Available"):i("Not on-chain"))})),(0,r.jsxs)("td",re({className:"button"},{children:[(0,r.jsx)(c.zx,{icon:"trash",onClick:m}),!f&&(0,r.jsx)(c.zx,{icon:"upload",label:i("deploy"),onClick:v})]}))]}))}));var oe,ie=function(){return ie=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},ie.apply(this,arguments)};const le=a.memo((function(e){var n=e.onShowDeploy,t=o().t,s=(0,a.useRef)([[t("code hashes"),"start"],[],[],[t("status"),"start"],[]]);return(0,r.jsx)(c.iA,ie({empty:t("No code hashes available"),header:s.current},{children:C.getAllCode().map((function(e){return(0,r.jsx)(se,{code:e,onShowDeploy:n},e.json.codeHash)}))}))}));var ce=t(17751);const ue=a.memo((function(e){var n=e.className,t=e.isBusy,a=e.isContract,s=e.isError,i=e.onChange,l=e.onEnter,u=e.value,d=void 0===u?"":u,h=o().t;return(0,r.jsx)(c.II,{className:n,isDisabled:t,isError:s,label:h(a?"contract name":"code bundle name"),onChange:i,onEnter:l,value:d})}));var de=function(){return de=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},de.apply(this,arguments)},he=function(){};const pe=a.memo((function(e){var n=e.className,t=e.contractAbi,a=e.errorText,s=e.isDisabled,i=e.isError,l=e.isFull,u=e.isValid,d=e.label,h=e.onChange,p=e.onRemove,m=void 0===p?he:p,f=e.onSelectConstructor,v=e.withConstructors,g=void 0===v||v,x=e.withLabel,b=void 0===x||x,y=e.withMessages,j=void 0===y||y,w=e.withWasm,C=o().t;return t&&u?(0,r.jsx)(c.jN,de({className:n,label:d||C("contract ABI"),labelExtra:m&&(0,r.jsx)(c.JH,{icon:"trash",label:C("Remove ABI"),onClick:m}),withLabel:b},{children:(0,r.jsx)(Q,{contractAbi:t,isLabelled:b,onSelectConstructor:f,withConstructors:g,withMessages:j,withWasm:w})})):(0,r.jsx)("div",de({className:n},{children:(0,r.jsx)(c.ht,{isDisabled:s,isError:i,isFull:l,label:d||C("contract ABI"),onChange:h,placeholder:a||C("click to select or drag and drop a JSON file")})}))}));var me=t(74076),fe=function(){return fe=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},fe.apply(this,arguments)};const ve=a.memo((function(e){var n=e.codeHash,t=e.onChange,s=(0,O.h)().api,i=o().t,l=(0,A.W7)((s.query.contracts||s.query.contract).codeStorage,[n]),u=(0,a.useMemo)((function(){var e=!!n&&(0,me.vq)(n)&&66===n.length,r=!!l&&l.isSome,a=e&&r;return t(a),[e,a]}),[n,l,t]),d=u[0];return u[1]||!d?null:(0,r.jsx)(c.Kd,fe({type:"error"},{children:i(d?"Unable to find on-chain WASM code for the supplied codeHash":"The codeHash is not a valid hex hash")}))}));var ge=function(){return ge=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},ge.apply(this,arguments)};const xe=a.memo((function(e){var n=e.onClose,t=o().t,s=(0,a.useState)(""),i=s[0],l=s[1],u=(0,a.useState)(!1),d=u[0],h=u[1],p=(0,a.useState)(null),m=p[0],f=p[1],v=te(),g=v.abi,x=v.contractAbi,b=v.errorText,y=v.isAbiError,j=v.isAbiSupplied,w=v.isAbiValid,k=v.onChangeAbi,N=v.onRemoveAbi,O=(0,a.useCallback)((function(){i&&m&&(C.saveCode(i,{abi:g,name:m,tags:[]}),n())}),[g,i,m,n]),A=!(0,ce.F)(m)&&m.length>0,S=d&&A&&j&&w;return(0,r.jsxs)(c.u_,ge({header:t("Add an existing code hash"),onClose:n},{children:[(0,r.jsxs)(c.u_.Content,{children:[(0,r.jsx)(c.II,{autoFocus:!0,isError:i.length>0&&!d,label:t("code hash"),onChange:l,value:i}),(0,r.jsx)(ve,{codeHash:i,onChange:h}),(0,r.jsx)(ue,{isError:!A,onChange:f,value:m||void 0}),(0,r.jsx)(pe,{contractAbi:x,errorText:b,isError:y||!y,isSupplied:j,isValid:w,onChange:k,onRemove:N})]}),(0,r.jsx)(c.u_.Actions,{children:(0,r.jsx)(c.zx,{icon:"save",isDisabled:!S,label:t("Save"),onClick:O})})]}))}));var be=t(75768),ye=t(58800),je=t(98551),we=t(93803),Ce=t(6589),ke=t(13940),Ne=t(69187),Oe=t(95292),Ae=t(6226),Se=t(11147),Pe=t(87418);const Ie=a.memo((function(e){var n=e.isDisabled,t=e.onChange,s=e.onEnter,o=e.params,i=e.registry,l=(0,a.useState)([]),c=l[0],u=l[1];(0,a.useEffect)((function(){o&&u(o)}),[o]);var d=(0,a.useCallback)((function(e){return t(e.map((function(e){return e.value})))}),[t]);return c.length?(0,r.jsx)(Pe.Z,{isDisabled:n,onChange:d,onEnter:s,params:c,registry:i}):null}));var Ee=function(){return Ee=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Ee.apply(this,arguments)},Me=c.zo.div(ze||(ze=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  .contracts--InputMegaGas-meter {\n    text-align: right;\n  }\n"],["\n  .contracts--InputMegaGas-meter {\n    text-align: right;\n  }\n"])));const Te=a.memo((function(e){var n=e.className,t=e.estimatedWeight,s=e.isCall,i=e.weight,l=i.executionTime,u=i.isValid,d=i.megaGas,h=i.percentage,p=i.setIsEmpty,m=i.setMegaGas,f=o().t,v=(0,a.useState)(!0),g=v[0],x=v[1],b=(0,a.useMemo)((function(){return t?t.div(Oe.uy).iadd(Oe.If):null}),[t]);(0,a.useEffect)((function(){g&&b&&m(b)}),[b,m,g]),(0,a.useEffect)((function(){p(g&&!!s)}),[s,p,g]);var y=!!b&&g;return(0,r.jsxs)(Me,Ee({className:n},{children:[(0,r.jsx)(c.Rn,{defaultValue:b&&y?b.toString():void 0,isDisabled:y,isError:!u,isZeroable:s,label:!b||s&&g?f("max gas allowed (M)"):f("max gas allowed (M, {{estimatedMg}} estimated)",{replace:{estimatedMg:b.toString()}}),labelExtra:(t||s)&&(0,r.jsx)(c.ZD,{label:f(s?"max read gas":"use estimated gas"),onChange:x,value:g}),onChange:y?void 0:m,value:y?void 0:s&&g?Oe.nw:d}),(0,r.jsxs)("div",Ee({className:"contracts--InputMegaGas-meter"},{children:[f("{{executionTime}}s execution time",{replace:{executionTime:l.toFixed(3)}}),", ",f("{{percentage}}% of block weight",{replace:{percentage:h.toFixed(2)}})]}))]}))}));var ze,De=t(56360),Fe=t(56949);const Be=(0,K.e)("useWeight",(function(){var e=(0,O.h)().api,n=(0,De.n)(),t=(0,a.useState)((0,Fe.ZQ)(e.consts.system.blockWeights?e.consts.system.blockWeights.maxBlock:e.consts.system.maximumBlockWeight).v1Weight.div(Oe.uy).div(Oe.aP)),r=t[0],s=t[1],o=(0,a.useState)(!1),i=o[0],l=o[1],c=(0,a.useCallback)((function(n){return s(n||(0,Fe.ZQ)(e.consts.system.blockWeights?e.consts.system.blockWeights.maxBlock:e.consts.system.maximumBlockWeight).v1Weight.div(Oe.uy).div(Oe.aP))}),[e]);return(0,a.useMemo)((function(){var t=0,a=0,s=Oe.nw,o=!1;return r&&(a=(t=(s=r.mul(Oe.uy)).mul(n).div((0,Fe.ZQ)(e.consts.system.blockWeights?e.consts.system.blockWeights.maxBlock:e.consts.system.maximumBlockWeight).v1Weight).toNumber())/n.toNumber()*100,t/=3e3,o=!r.isZero()&&a<65),{executionTime:t,isEmpty:i,isValid:i||o,megaGas:r||Oe.nw,percentage:a,setIsEmpty:l,setMegaGas:c,weight:s}}),[e,n,i,r,l,c])}));var Re=function(){return Re=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Re.apply(this,arguments)};const Ve=a.memo((function(e){var n=e.onClose,t=o().t,s=(0,O.h)().api,i=(0,ye.F)(),l=i[0],u=i[1],d=(0,je.t)(),h=d[0],p=d[1],m=d[2],f=(0,a.useState)([null,null]),v=f[0],g=v[0],x=v[1],b=f[1],y=(0,a.useState)(0),j=y[0],w=y[1],k=(0,we.Y)(Oe.nw),N=k[0],A=k[1],S=k[2],P=(0,a.useState)([]),I=P[0],E=P[1],M=(0,a.useState)([null,!1]),T=M[0],z=T[0],D=T[1],F=M[1],B=(0,Ce.n)(),R=B[0],L=B[1],H=B[2],q=te(),_=q.abiName,W=q.contractAbi,G=q.errorText,Z=q.isAbiError,U=q.isAbiSupplied,J=q.isAbiValid,Q=q.onChangeAbi,Y=q.onRemoveAbi,K=Be(),X=(0,a.useMemo)((function(){return J&&D&&z&&W?new be.wi(s,W,z):null}),[s,W,J,D,z]),$=(0,a.useMemo)((function(){return W?W.constructors.map((function(e,n){return{info:e.identifier,key:e.identifier,text:(0,r.jsx)(V,{asConstructor:!0,message:e}),value:n}})):[]}),[W]);(0,a.useEffect)((function(){w(0)}),[$]),(0,a.useEffect)((function(){E([])}),[W,j]),(0,a.useEffect)((function(){F(W&&(0,Ae.F)(W.info.source.wasm)?[W.info.source.wasm,!0]:[null,!1])}),[W]),(0,a.useEffect)((function(){_&&H(_)}),[_,H]),(0,a.useEffect)((function(){var e,n,t=null,r=null;try{t=X&&(null===(n=null==W?void 0:W.constructors[j])||void 0===n?void 0:n.method)&&N?(e=X.tx)[W.constructors[j].method].apply(e,function(e,n,t){if(t||2===arguments.length)for(var r,a=0,s=n.length;a<s;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))}([{gasLimit:K.weight,storageDepositLimit:null,value:(null==W?void 0:W.constructors[j].isPayable)?N:void 0}],I,!1)):null}catch(e){r=e.message}b((function(){return[t,r]}))}),[X,W,j,N,I,K]);var ee=(0,a.useCallback)((function(e,n){F([e,(0,Ae.F)(e)]),H(n.replace(".wasm","").replace("_"," "))}),[H]),ne=(0,a.useCallback)((function(e){e.blueprint&&C.saveCode(e.blueprint.codeHash,{abi:(0,Se.P)(e.blueprint.abi.json),name:R||"<>",tags:[]}),e.contract&&Ne.Nn.saveContract(e.contract.address.toString(),{contract:{abi:(0,Se.P)(e.contract.abi.json),genesisHash:s.genesisHash.toHex()},name:R||"<>",tags:[]})}),[s,R]),re=!!l&&!(0,ce.F)(R)&&L&&D&&U&&J&&!!g&&2===h,ae=Z||!U;return(0,r.jsxs)(c.u_,Re({header:t("Upload & deploy code {{info}}",{replace:{info:"".concat(h,"/2")}}),onClose:n},{children:[(0,r.jsxs)(c.u_.Content,{children:[1===h&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.rp,{isInput:!1,label:t("deployment account"),labelExtra:(0,r.jsx)(ke.Z,{label:t("transferrable"),params:l}),onChange:u,type:"account",value:l}),(0,r.jsx)(pe,{contractAbi:W,errorText:G,isError:ae,isSupplied:U,isValid:J,label:t("json for either ABI or .contract bundle"),onChange:Q,onRemove:Y,withWasm:!0}),!ae&&W&&(0,r.jsxs)(r.Fragment,{children:[!W.info.source.wasm.length&&(0,r.jsx)(c.ht,{isError:!D,label:t("compiled contract WASM"),onChange:ee,placeholder:z&&!D&&t("The code is not recognized as being in valid WASM format")}),(0,r.jsx)(ue,{isError:!L,onChange:H,value:R||void 0})]})]}),2===h&&W&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Lt,{isDisabled:W.constructors.length<=1,label:t("deployment constructor"),onChange:w,options:$,value:j}),(0,r.jsx)(Ie,{onChange:E,params:W.constructors[j].args,registry:W.registry}),W.constructors[j].isPayable&&(0,r.jsx)(c.H,{isError:!A,isZeroable:!0,label:t("value"),onChange:S,value:N}),(0,r.jsx)(Te,{weight:K}),x&&(0,r.jsx)(c.oy,{content:x})]})]}),(0,r.jsxs)(c.u_.Actions,{children:[1===h?(0,r.jsx)(c.zx,{icon:"step-forward",isDisabled:!X||!W,label:t("Next"),onClick:p}):(0,r.jsx)(c.zx,{icon:"step-backward",label:t("Prev"),onClick:m}),(0,r.jsx)(c.cA,{accountId:l,extrinsic:g,icon:"upload",isDisabled:!re,label:t("Deploy"),onClick:n,onSuccess:ne})]})]}))}));var Le=t(74065),He={allCodes:[],codeTrigger:Date.now()},qe=(0,K.e)("useCodes",(function(){var e=(0,Le.X)(),n=(0,a.useState)(He),t=n[0],r=n[1];return(0,a.useEffect)((function(){var n=function(){e.current&&r({allCodes:C.getAllCode(),codeTrigger:Date.now()})};C.on("new-code",n),C.on("removed-code",n),C.loadAll(n)}),[]),t})),_e=t(17965),We={allContracts:[],hasContracts:!1,isContract:function(){return!1}},Ge=(0,K.e)("useContracts",(function(){var e=(0,Le.X)(),n=(0,a.useState)(We),t=n[0],r=n[1];return(0,a.useEffect)((function(){var n=Ne.Nn.contracts.subject.subscribe((function(n){if(e.current){var t=n?Object.keys(n):[],a=0!==t.length;r({allContracts:t,hasContracts:a,isContract:function(e){return t.includes(e)}})}}));return function(){(0,_e.Y)((function(){return n.unsubscribe()}))}}),[]),t})),Ze=function(){return Ze=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Ze.apply(this,arguments)};const Ue=a.memo((function(e){var n=e.address,t=e.onChange,s=o().t,i=(0,O.h)().api,l=(0,A.W7)(i.query.contracts.contractInfoOf,[n]),u=(0,a.useState)(!1),d=u[0],h=u[1],p=(0,a.useState)(!1),m=p[0],f=p[1];return(0,a.useEffect)((function(){try{Ne.Nn.decodeAddress(n||""),h(!0)}catch(e){h(!1)}}),[n]),(0,a.useEffect)((function(){f(!!(null==l?void 0:l.isSome))}),[l]),(0,a.useEffect)((function(){t(d&&m)}),[d,m,t]),m||!d?null:(0,r.jsx)(c.Kd,Ze({type:"error"},{children:s(d?"Unable to find deployed contract code at the specified address":"The value is not in a valid address format")}))}));var Je=function(){return Je=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Je.apply(this,arguments)};const Qe=a.memo((function(e){var n=e.onClose,t=o().t,s=(0,O.h)().api,i=(0,a.useState)(null),l=i[0],u=i[1],d=(0,a.useState)(!1),h=d[0],p=d[1],m=(0,Ce.n)("New Contract"),f=m[0],v=m[1],g=m[2],x=te([null,null],null,!0),b=x.abi,y=x.contractAbi,j=x.errorText,w=x.isAbiError,C=x.isAbiSupplied,k=x.isAbiValid,N=x.onChangeAbi,A=x.onRemoveAbi,S=(0,a.useCallback)((function(){var e={action:"create"};if(l&&b&&f)try{var t={contract:{abi:b,genesisHash:s.genesisHash.toHex()},name:f,tags:[]};Ne.Nn.saveContract(l,t),e.account=l,e.status=l?"success":"error",e.message="contract added",n()}catch(n){console.error(n),e.status="error",e.message=n.message}}),[b,l,s,f,n]),P=h&&v&&k;return(0,r.jsxs)(c.u_,Je({header:t("Add an existing contract"),onClose:n},{children:[(0,r.jsx)(c.u_.Content,{children:(0,r.jsxs)(c.mV,Je({defaultName:f,isValid:!0,value:l||null},{children:[(0,r.jsx)(c.II,{autoFocus:!0,isError:!h,label:t("contract address"),onChange:u,value:l||""}),(0,r.jsx)(Ue,{address:l,onChange:p}),(0,r.jsx)(ue,{isContract:!0,isError:!v,onChange:g,value:f||void 0}),(0,r.jsx)(pe,{contractAbi:y,errorText:j,isError:w||!k,isSupplied:C,isValid:k,onChange:N,onRemove:A})]}))}),(0,r.jsx)(c.u_.Actions,{children:(0,r.jsx)(c.zx,{icon:"save",isDisabled:!P,label:t("Save"),onClick:S})})]}))}));var Ye=t(27421),Ke=t(48801),Xe=t.n(Ke),$e=function(){return $e=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},$e.apply(this,arguments)},en=c.zo.div(tn||(tn=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  align-items: center;\n  display: flex;\n\n  .output {\n    flex: 1 1;\n    margin: 0.25rem 0.5rem;\n  }\n"],["\n  align-items: center;\n  display: flex;\n\n  .output {\n    flex: 1 1;\n    margin: 0.25rem 0.5rem;\n  }\n"])));const nn=a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.onClear,s=e.outcome,o=s.from,i=s.message,l=s.output,u=s.params,d=s.result,h=s.when;return(0,r.jsxs)(en,$e({className:t},{children:[(0,r.jsx)(c.k,{value:o}),(0,r.jsx)(c.r_,{className:"output",isError:!d.isOk,isFull:!0,label:(0,r.jsx)(V,{message:i,params:u}),labelExtra:(0,r.jsxs)("span",$e({className:"date-time"},{children:[h.toLocaleDateString()," ",h.toLocaleTimeString()]})),value:(0,D.Z)("Text",d.isOk?l:d)}),(0,r.jsx)(c.zx,{icon:"times",onClick:a})]}))}));var tn,rn=t(11798),an=function(){return an=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},an.apply(this,arguments)},sn=function(e,n,t){if(t||2===arguments.length)for(var r,a=0,s=n.length;a<s;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))},on=new(Xe())(5e12).isub(Oe.If),ln=(0,c.zo)(c.u_)(un||(un=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  .rpc-toggle {\n    margin-top: 1rem;\n    display: flex;\n    justify-content: flex-end;\n  }\n\n  .clear-all {\n    float: right;\n  }\n\n  .outcomes {\n    margin-top: 1rem;\n  }\n"],["\n  .rpc-toggle {\n    margin-top: 1rem;\n    display: flex;\n    justify-content: flex-end;\n  }\n\n  .clear-all {\n    float: right;\n  }\n\n  .outcomes {\n    margin-top: 1rem;\n  }\n"])));const cn=a.memo((function(e){var n=e.className,t=void 0===n?"":n,s=e.contract,i=e.messageIndex,l=e.onCallResult,d=e.onChangeMessage,h=e.onClose,p=o().t,m=s.abi.messages[i],f=(0,ye.F)(),v=f[0],g=f[1],x=(0,a.useState)(null),b=x[0],y=x[1],j=(0,we.Y)(Oe.nw),w=j[0],C=j[1],k=j[2],N=(0,a.useState)([]),O=N[0],A=N[1],S=(0,a.useState)(null),P=S[0],I=S[1],E=(0,a.useState)([]),M=E[0],T=E[1],z=(0,u.O)(),D=z[0],F=z[1],B=Be(),R=(0,Ye.N)(w),L=(0,Ye.N)(M);(0,a.useEffect)((function(){y(null),T([])}),[s,i]),(0,a.useEffect)((function(){w&&m.isMutating&&I((function(){var e;try{return(e=s.tx)[m.method].apply(e,sn([{gasLimit:B.weight,storageDepositLimit:null,value:m.isPayable?w:0}],M,!1))}catch(e){return null}}))}),[v,s,m,w,B,M]),(0,a.useEffect)((function(){var e;v&&m&&L&&R&&(e=s.query)[m.method].apply(e,sn([v,{gasLimit:-1,storageDepositLimit:null,value:m.isPayable?R:0}],L,!1)).then((function(e){var n=e.gasRequired,t=e.result;return y(t.isOk?(0,Fe.ZQ)(n).v1Weight:null)})).catch((function(){return y(null)}))}),[v,s,m,L,R]);var H,q=(0,a.useCallback)((function(){var e;v&&m&&w&&B&&(e=s.query)[m.method].apply(e,sn([v,{gasLimit:B.isEmpty?-1:B.weight,storageDepositLimit:null,value:m.isPayable?w:0}],M,!1)).then((function(e){A(sn([an(an({},e),{from:v,message:m,params:M,when:new Date})],O,!0)),l&&l(i,e)})).catch((function(e){console.error(e),l&&l(i)}))}),[v,s.query,m,i,l,O,M,w,B]),_=(0,a.useCallback)((function(e){return function(){return A(sn([],O.filter((function(n,t){return t!==e})),!0))}}),[O]),W=!!(v&&B.isValid&&C),G=D||!m.isMutating&&!m.isPayable;return(0,r.jsxs)(ln,an({className:"".concat(t," app--contracts-Modal"),header:p("Call a contract"),onClose:h},{children:[(0,r.jsxs)(c.u_.Content,{children:[(0,r.jsx)(c.rp,{isDisabled:!0,label:p("contract to use"),type:"contract",value:s.address}),(0,r.jsx)(c.rp,{defaultValue:v,label:p("call from account"),labelExtra:(0,r.jsx)(ke.Z,{label:p("transferrable"),params:v}),onChange:g,type:"account",value:v}),null!==i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Lt,{defaultValue:i,isError:null===m,label:p("message to send"),onChange:d,options:(H=s,H?H.abi.messages.map((function(e,n){return{key:e.identifier,text:(0,r.jsx)(V,{message:e}),value:n}})):[]),value:i}),(0,r.jsx)(Ie,{onChange:T,params:m?m.args:void 0,registry:s.abi.registry})]}),m.isPayable&&(0,r.jsx)(c.H,{isError:!C,isZeroable:!0,label:p("value"),onChange:k,value:w}),(0,r.jsx)(Te,{estimatedWeight:m.isMutating?b:on,isCall:!m.isMutating,weight:B}),m.isMutating&&(0,r.jsx)(c.ZD,{className:"rpc-toggle",label:p("read contract only, no execution"),onChange:F,value:D}),O.length>0&&(0,r.jsx)(c.xH,an({className:"outcomes",isOpen:!0,summary:p("Call results")},{children:O.map((function(e,n){return(0,r.jsx)(nn,{onClear:_(n),outcome:e},"outcome-".concat(n))}))}))]}),(0,r.jsx)(c.u_.Actions,{children:G?(0,r.jsx)(c.zx,{icon:"sign-in-alt",isDisabled:!W,label:p("Read"),onClick:q}):(0,r.jsx)(c.cA,{accountId:v,extrinsic:P,icon:"sign-in-alt",isDisabled:!W||!P,label:p("Execute"),onStart:h})})]}))}));var un,dn=t(1346),hn=function(){return hn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},hn.apply(this,arguments)};function pn(e){return e.unwrapOr(null)}var mn=c.zo.tr(vn||(vn=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  td.top a+a {\n    margin-left: 0.75rem;\n  }\n"],["\n  td.top a+a {\n    margin-left: 0.75rem;\n  }\n"])));const fn=a.memo((function(e){var n=e.className,t=e.contract,s=e.index,i=e.links,l=e.onCall,d=o().t,h=(0,O.h)().api,p=(0,A.W7)(h.query.contracts.contractInfoOf,[t.address],{transform:pn}),m=(0,u.O)(),f=m[0],v=m[1],g=(0,a.useCallback)((function(e,n){return l(s,e,n)}),[s,l]),x=(0,a.useCallback)((function(){var e={account:t.address,action:"forget"};try{Ne.Nn.forgetContract(t.address.toString()),e.status="success",e.message=d("address forgotten")}catch(n){e.status="error",e.message=n.message}v()}),[t.address,d,v]);return(0,r.jsxs)(mn,hn({className:n},{children:[(0,r.jsxs)("td",hn({className:"address top"},{children:[f&&(0,r.jsx)(c.u5,{address:t.address.toString(),mode:"contract",onClose:v,onForget:x},"modal-forget-contract"),(0,r.jsx)(c.ax,{value:t.address})]})),(0,r.jsx)("td",hn({className:"all top"},{children:(0,r.jsx)(Q,{contract:t,contractAbi:t.abi,isWatching:!0,onSelect:g,trigger:null==i?void 0:i.length,withMessages:!0})})),(0,r.jsx)("td",hn({className:"top"},{children:null==i?void 0:i.map((function(e,n){var t=e.blockHash,a=e.blockNumber;return(0,r.jsxs)("a",hn({href:"#/explorer/query/".concat(t)},{children:["#",a]}),"".concat(n,"-").concat(a))}))})),(0,r.jsx)("td",hn({className:"number"},{children:(0,r.jsx)(c.hl,{address:t.address,withBalance:!0,withBalanceToggle:!0})})),(0,r.jsx)("td",hn({className:"start together"},{children:!(0,dn.o)(p)&&(p?p.type:d("Not on-chain"))})),(0,r.jsx)("td",hn({className:"button"},{children:(0,r.jsx)(c.zx,{icon:"trash",onClick:v})}))]}))}));var vn,gn=function(){return gn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},gn.apply(this,arguments)};const xn=a.memo((function(e){var n=e.contracts,t=o().t,s=(0,O.h)().api,i=(0,A.W7)(s.derive.chain.subscribeNewBlocks),l=(0,a.useState)({contractIndex:0,messageIndex:0}),u=l[0],d=u.contractIndex,h=u.messageIndex,p=u.onCallResult,m=l[1],f=(0,a.useState)(!1),v=f[0],g=f[1],x=(0,a.useState)({}),b=x[0],y=x[1],j=(0,a.useRef)([[t("contracts"),"start"],[void 0,void 0,3],[t("status"),"start"],[]]);(0,a.useEffect)((function(){if(i){var e=i.block.extrinsics.filter((function(e){var n=e.method;return s.tx.contracts.call.is(n)})).map((function(e){var t=e.args,r=n.find((function(e){return t[0].eq(e)}));return r?{blockHash:i.block.header.hash.toHex(),blockNumber:(0,z.u)(i.block.header.number),contractId:r}:null})).filter((function(e){return!!e}));e.length&&y((function(n){return e.forEach((function(e){n[e.contractId]=[e].concat(n[e.contractId]||[]).slice(0,3)})),gn({},n)}))}}),[s,n,i]);var w=(0,a.useMemo)((function(){return function(e,n){return void 0===n&&(n=[]),n.map((function(n){return function(e,n){if(n){var t=(0,rn.oX)(n);return t?new be.vM(e,t,n):null}return null}(e,n.toString())})).filter((function(e){return!!e}))}(s,n)}),[s,n]),C=(0,a.useCallback)((function(){return g((function(e){return!e}))}),[]),k=(0,a.useCallback)((function(e,n,t){m({contractIndex:e,messageIndex:n,onCallResult:t}),g(!0)}),[]),N=(0,a.useCallback)((function(e){return m((function(n){return gn(gn({},n),{messageIndex:e})}))}),[]),S=w[d]||null;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.iA,gn({empty:t("No contracts available"),header:j.current},{children:w.map((function(e,n){return(0,r.jsx)(fn,{contract:e,index:n,links:b[e.address.toString()],onCall:k},e.address.toString())}))})),v&&S&&(0,r.jsx)(cn,{contract:S,messageIndex:h,onCallResult:p,onChangeMessage:N,onClose:C})]})}));var bn=t(52926),yn=function(){return yn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},yn.apply(this,arguments)};const jn=a.memo((function(e){var n,t=e.codeHash,s=e.constructorIndex,i=void 0===s?0:s,l=e.onClose,u=e.setConstructorIndex,d=o().t,h=(0,O.h)().api,p=(0,a.useState)(null),m=p[0],f=p[1],v=(0,we.Y)(null),g=v[0],x=v[1],b=v[2],y=(0,we.Y)(Oe.nw),j=y[0],w=y[1],k=y[2],N=(0,a.useState)([]),A=N[0],S=N[1],P=(0,a.useState)((function(){return(0,bn.f)()})),I=P[0],E=P[1],M=(0,a.useState)(!1),T=M[0],z=M[1],D=Be();(0,a.useEffect)((function(){S([])}),[i]);var F=(0,a.useMemo)((function(){return C.getCode(t)}),[t]),B=(0,Ce.n)(F&&F.json.name),R=B[0],L=B[1],H=B[2],q=te([F&&F.json.abi,F&&F.contractAbi],t,!0),_=q.contractAbi,W=q.errorText,G=q.isAbiError,Z=q.isAbiSupplied,U=q.isAbiValid,J=q.onChangeAbi,Q=q.onRemoveAbi,Y=(0,a.useMemo)((function(){return U&&t&&_?new be.b8(h,_,t):null}),[h,t,_,U]),K=(0,a.useMemo)((function(){return _?_.constructors.map((function(e,n){return{info:e.identifier,key:e.identifier,text:(0,r.jsx)(V,{asConstructor:!0,message:e}),value:n}})):[]}),[_]);(0,a.useEffect)((function(){j&&f((function(){var e,n;if(Y&&(null===(n=null==_?void 0:_.constructors[i])||void 0===n?void 0:n.method))try{return(e=Y.tx)[_.constructors[i].method].apply(e,function(e,n,t){if(t||2===arguments.length)for(var r,a=0,s=n.length;a<s;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))}([{gasLimit:D.weight,salt:T?I:null,storageDepositLimit:null,value:(null==_?void 0:_.constructors[i].isPayable)?j:void 0}],A,!1))}catch(e){return null}return null}))}),[Y,_,i,j,A,I,D,T]);var X=(0,a.useCallback)((function(e){e.contract&&(Ne.Nn.saveContract(e.contract.address.toString(),{contract:{abi:(0,Se.P)(e.contract.abi.json),genesisHash:h.genesisHash.toHex()},name:R,tags:[]}),l&&l())}),[h,R,l]),$=!T||I&&(!I.startsWith("0x")||(0,me.vq)(I)),ee=L&&w&&D.isValid&&x&&$;return(0,r.jsxs)(c.u_,yn({header:d("Deploy a contract"),onClose:l},{children:[(0,r.jsxs)(c.u_.Content,{children:[(0,r.jsx)(c.rp,{isInput:!1,label:d("deployment account"),labelExtra:(0,r.jsx)(ke.Z,{label:d("transferrable"),params:g}),onChange:b,type:"account",value:g}),(0,r.jsx)(ue,{isContract:!0,isError:!L,onChange:H,value:R||""}),!Z&&(0,r.jsx)(pe,{contractAbi:_,errorText:W,isError:G,isSupplied:Z,isValid:U,onChange:J,onRemove:Q}),_&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Lt,{isDisabled:_.constructors.length<=1,label:d("deployment constructor"),onChange:u,options:K,value:i}),(0,r.jsx)(Ie,{onChange:S,params:null===(n=_.constructors[i])||void 0===n?void 0:n.args,registry:_.registry})]}),(null==_?void 0:_.constructors[i].isPayable)&&(0,r.jsx)(c.H,{isError:!w,isZeroable:!0,label:d("value"),onChange:k,value:j}),(0,r.jsx)(c.II,{isDisabled:!T,label:d("unique deployment salt"),labelExtra:(0,r.jsx)(c.ZD,{label:d("use deployment salt"),onChange:z,value:T}),onChange:E,placeholder:d("0x prefixed hex, e.g. 0x1234 or ascii data"),value:T?I:d("<none>")}),(0,r.jsx)(Te,{weight:D})]}),(0,r.jsx)(c.u_.Actions,{children:(0,r.jsx)(c.cA,{accountId:g,extrinsic:m,icon:"upload",isDisabled:!ee||!m,label:d("Deploy"),onClick:l,onSuccess:X,withSpinner:!0})})]}))}));var wn=function(){return wn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},wn.apply(this,arguments)};const Cn=a.memo((function(e){var n=e.trigger,t=o().t,s=(0,O.h)().api,i=(0,A.W7)(s.query.contracts.accountCounter),l=(0,a.useState)(0),u=l[0],d=l[1],h=(0,a.useState)(0),p=h[0],m=h[1];return(0,a.useEffect)((function(){i&&s.query.contracts.contractInfoOf.keys().then((function(e){return d(e.length)})).catch(console.error)}),[s,i]),(0,a.useEffect)((function(){s.query.contracts.codeStorage.keys().then((function(e){return m(e.length)})).catch(console.error)}),[s,n]),(0,r.jsxs)(c.Ty,{children:[(0,r.jsx)("section",{children:(0,r.jsx)(c.Jy,wn({label:t("addresses")},{children:(0,z.u)(i)}))}),(0,r.jsxs)("section",{children:[(0,r.jsx)(c.Jy,wn({label:t("code hashes")},{children:(0,z.u)(p)})),(0,r.jsx)(c.Jy,wn({label:t("contracts")},{children:(0,z.u)(u)}))]})]})}));var kn=function(){return kn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},kn.apply(this,arguments)},Nn=c.zo.div(An||(An=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  .ui--Table td > article {\n    background: transparent;\n    border: none;\n    margin: 0;\n    padding: 0;\n  }\n"],["\n  .ui--Table td > article {\n    background: transparent;\n    border: none;\n    margin: 0;\n    padding: 0;\n  }\n"])));const On=a.memo((function(e){var n=e.className,t=void 0===n?"":n,s=o().t,i=qe(),l=i.allCodes,d=i.codeTrigger,h=Ge().allContracts,p=(0,u.O)(),m=p[0],f=p[1],v=(0,u.O)(),g=v[0],x=v[1],b=v[2],y=(0,u.O)(),j=y[0],w=y[1],C=(0,u.O)(),k=C[0],N=C[1],O=(0,a.useState)(),A=O[0],S=O[1],P=(0,a.useState)(0),I=P[0],E=P[1],M=(0,a.useCallback)((function(e,n){S(e||(l&&l[0]?l[0].json.codeHash:void 0)),E(n),x()}),[l,x]),T=(0,a.useCallback)((function(){return b(!1)}),[b]);return(0,r.jsxs)(Nn,kn({className:t},{children:[(0,r.jsx)(Cn,{trigger:d}),(0,r.jsxs)(c.zx.Group,{children:[(0,r.jsx)(c.zx,{icon:"plus",label:s("Upload & deploy code"),onClick:N}),(0,r.jsx)(c.zx,{icon:"plus",label:s("Add an existing code hash"),onClick:w}),(0,r.jsx)(c.zx,{icon:"plus",label:s("Add an existing contract"),onClick:f})]}),(0,r.jsx)(xn,{contracts:h,updated:d}),(0,r.jsx)(le,{onShowDeploy:M,updated:d}),A&&g&&(0,r.jsx)(jn,{codeHash:A,constructorIndex:I,onClose:T,setConstructorIndex:E}),k&&(0,r.jsx)(Ve,{onClose:N}),j&&(0,r.jsx)(xe,{onClose:w}),m&&(0,r.jsx)(Qe,{onClose:f})]}))}));var An,Sn=function(){return Sn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Sn.apply(this,arguments)};const Pn=a.memo((function(e){var n=e.basePath,t=e.className,s=void 0===t?"":t,i=o().t,l=(0,a.useRef)([{isRoot:!0,name:"contracts",text:i("Contracts")}]);return(0,r.jsxs)("main",Sn({className:"".concat(s," contracts--App")},{children:[(0,r.jsx)(c.mQ,{basePath:n,items:l.current}),(0,r.jsx)(On,{})]}))}))},18324:(e,n,t)=>{t.d(n,{Z:()=>he});var r=t(52322),a=t(2784),s=t(7267),o=t(24732),i=t(90778),l=t(9118),c=t(70563),u=t(61349);function d(){return(0,u.$G)("app-council")}var h=t(92914),p=t(34814),m=t(87660),f=t(81190),v=t(65874),g=t(14681),x=t(38894),b=t(56949),y=function(){return y=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},y.apply(this,arguments)};const j=a.memo((function(e){var n=e.hasFailed,t=e.hash,s=e.idNumber,l=e.proposal,c=d().t,u=(0,i.h)().api,h=(0,x.O)(),p=h[0],m=h[1],v=(0,a.useState)(null),g=v[0],j=v[1],w=(0,b.h7)(l),C=w.encodedCallLength,k=w.weight,N=(0,f.m)("council");return N?(0,r.jsxs)(r.Fragment,{children:[p&&(0,r.jsxs)(o.u_,y({header:c("Close proposal"),onClose:m,size:"large"},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsx)(o.u_.Columns,y({hint:c("The proposal that will be affected. Once closed for the current voting round, it would need to be re-submitted to council for a subsequent voting round.")},{children:(0,r.jsx)(o.lV,{idNumber:s,proposal:l})})),(0,r.jsx)(o.u_.Columns,y({hint:c("The council account that will apply the close for the current round.")},{children:(0,r.jsx)(o.rp,{label:c("close from account"),onChange:j,type:"account"})}))]}),(0,r.jsx)(o.u_.Actions,{children:(0,r.jsx)(o.cA,{accountId:g,isDisabled:!n&&!C,onStart:m,params:4===u.tx[N].close.meta.args.length?n?[t,s,0,0]:[t,s,k,C]:[t,s],tx:u.tx[N].closeOperational||u.tx[N].close})})]})),(0,r.jsx)(o.zx,{icon:"times",label:c("Close"),onClick:m})]}):null})),w=a.memo((function(e){var n=e.isAye,t=e.members,s=e.threshold,i=e.votes,l=d().t,c=(0,a.useMemo)((function(){var e=s.toNumber(),r=n?e:(null==t?void 0:t.length)?t.length-e+1:0;return"".concat(i.length).concat(r?"/".concat(r):"")}),[n,t,s,i]),u=(0,a.useCallback)((function(){return i&&i.map((function(e){return(0,r.jsx)(o.ax,{value:e,withBalance:!1},e.toString())}))}),[i]);return c&&i.length?(0,r.jsx)(o.n0,{renderChildren:u,summary:l(n?"Aye {{count}}":"Nay {{count}}",{replace:{count:c}})}):null}));var C=function(){return C=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},C.apply(this,arguments)};const k=a.memo((function(e){var n=e.hash,t=e.idNumber,s=e.isDisabled,l=e.members,c=e.prime,u=e.proposal,h=d().t,m=(0,i.h)().api,v=(0,p.x)().hasAccounts,g=(0,x.O)(),b=g[0],y=g[1],j=(0,a.useState)(null),w=j[0],k=j[1],N=(0,f.m)("council");if(!v||!N)return null;var O=(null==c?void 0:c.toString())===w;return(0,r.jsxs)(r.Fragment,{children:[b&&(0,r.jsxs)(o.u_,C({header:h("Vote on proposal"),onClose:y,size:"large"},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsx)(o.u_.Columns,C({hint:h("The proposal that is being voted on. It will pass when the threshold is reached.")},{children:(0,r.jsx)(o.lV,{idNumber:t,proposal:u})})),(0,r.jsxs)(o.u_.Columns,C({hint:h("The council account for this vote. The selection is filtered by the current members.")},{children:[(0,r.jsx)(o.UE,{filter:l,onChange:k}),O&&(0,r.jsx)(o.Pd,{content:h("You are voting with this collective's prime account. The vote will be the default outcome in case of any abstentions.")})]}))]}),(0,r.jsxs)(o.u_.Actions,{children:[(0,r.jsx)(o.cA,{accountId:w,icon:"ban",isDisabled:s,label:h("Vote Nay"),onStart:y,params:[n,t,!1],tx:m.tx[N].vote}),(0,r.jsx)(o.cA,{accountId:w,icon:"check-to-slot",isDisabled:s,label:h("Vote Aye"),onStart:y,params:[n,t,!0],tx:m.tx[N].vote})]})]})),(0,r.jsx)(o.zx,{icon:"check-to-slot",isDisabled:s,label:h("Vote"),onClick:y})]})}));var N=function(){return N=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},N.apply(this,arguments)};const O=a.memo((function(e){var n=e.className,t=void 0===n?"":n,s=e.isMember,i=e.members,l=e.motion,c=l.hash,u=l.proposal,d=l.votes,x=e.prime,b=(0,p.x)().allAccounts,y=(0,m.I)(d,i.length,"council"),C=y.hasFailed,O=y.isCloseable,A=y.isVoteable,S=y.remainingBlocks,P=(0,f.m)("council"),I=(0,a.useMemo)((function(){if(d){var e=b.some((function(e){return d.ayes.some((function(n){return n.eq(e)}))})),n=b.some((function(e){return d.nays.some((function(n){return n.eq(e)}))}));return{hasVoted:e||n,hasVotedAye:e,hasVotedNay:n}}return{hasVoted:!1,hasVotedAye:!1,hasVotedNay:!1}}),[b,d]),E=I.hasVoted,M=I.hasVotedAye;if(!d||!P)return null;var T=d.ayes,z=d.end,D=d.index,F=d.nays,B=d.threshold;return(0,r.jsxs)("tr",N({className:t},{children:[(0,r.jsx)(o.iA.Column.Id,{value:D}),(0,r.jsx)(h.Z,{imageHash:c,isCollective:!0,proposal:u}),(0,r.jsx)("td",N({className:"number together"},{children:(0,g.u)(B)})),(0,r.jsx)("td",N({className:"number together"},{children:S&&z&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.Z,{value:S}),"#",(0,g.u)(z)]})})),(0,r.jsxs)("td",N({className:"expand"},{children:[(0,r.jsx)(w,{isAye:!0,members:i,threshold:B,votes:T}),(0,r.jsx)(w,{members:i,threshold:B,votes:F})]})),(0,r.jsxs)("td",N({className:"button"},{children:[A&&!O&&(0,r.jsx)(k,{hash:c,idNumber:D,isDisabled:!s,members:i,prime:x,proposal:u}),O&&(0,r.jsx)(j,{hasFailed:C,hash:c,idNumber:D,proposal:u})]})),(0,r.jsx)("td",N({className:"badge"},{children:s&&(0,r.jsx)(o.JO,{color:E?M?"green":"red":"gray",icon:"asterisk"})})),(0,r.jsx)("td",N({className:"links"},{children:(0,r.jsx)(o.NR,{data:D,hash:c.toString(),type:"council"})}))]}))}));var A=t(30943),S=t(31313),P=t(95292),I=t(33661),E=t(74076),M=function(){return M=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},M.apply(this,arguments)};const T=a.memo((function(e){var n=e.className,t=void 0===n?"":n,s=e.isMember,l=e.members,c=d().t,u=(0,i.h)().api,h=(0,x.O)(),p=h[0],m=h[1],v=(0,a.useState)(null),g=v[0],b=v[1],y=(0,a.useState)({proposalLength:0}),j=y[0],w=j.proposal,C=j.proposalLength,k=y[1],N=(0,a.useState)({isHashValid:!1}),O=N[0],T=O.hash,z=O.isHashValid,D=N[1],F=(0,a.useState)({imageLen:P.nw,isImageLenValid:!1}),B=F[0],R=B.imageLen,V=B.imageLenDefault,L=B.isImageLenValid,H=F[1],q=(0,f.m)("council"),_=(0,S.CH)(T),W=Math.min(l.length,Math.ceil((l.length||0)*(0,A.d)(u))),G=(0,a.useMemo)((function(){var e,n;return(0,I.m)(null===(e=u.tx.preimage)||void 0===e?void 0:e.notePreimage)&&!(0,I.m)(null===(n=u.tx.democracy)||void 0===n?void 0:n.notePreimage)}),[u]),Z=(0,a.useCallback)((function(e){return D({hash:e,isHashValid:(0,E.vq)(e,256)})}),[]),U=(0,a.useCallback)((function(e){e&&H((function(n){return{imageLen:e,imageLenDefault:n.imageLenDefault,isImageLenValid:!e.isZero()}}))}),[]);return(0,a.useEffect)((function(){(null==_?void 0:_.proposalLength)&&H((function(e){return{imageLen:e.imageLen,imageLenDefault:_.proposalLength,isImageLenValid:e.isImageLenValid}}))}),[_]),(0,a.useEffect)((function(){if(z&&T){var e=G?_&&u.tx.democracy.externalProposeMajority({Lookup:{hash:_.proposalHash,len:_.proposalLength||R}}):u.tx.democracy.externalProposeMajority(T);if(e)return k({proposal:e,proposalLength:e.encodedLength||0})}k({proposal:null,proposalLength:0})}),[u,T,G,z,R,_]),q?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.zx,{icon:"plus",isDisabled:!s,label:c("Propose external"),onClick:m}),p&&(0,r.jsxs)(o.u_,M({className:t,header:c("Propose external (majority)"),onClose:m,size:"large"},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsx)(o.u_.Columns,M({hint:c("The council account for the proposal. The selection is filtered by the current members.")},{children:(0,r.jsx)(o.rp,{filter:l,label:c("propose from account"),onChange:b,type:"account",withLabel:!0})})),(0,r.jsxs)(o.u_.Columns,M({hint:c("The hash of the proposal image, either already submitted or valid for the specific call.")},{children:[(0,r.jsx)(o.II,{autoFocus:!0,isError:!z,label:c("preimage hash"),onChange:Z,value:T}),G&&(0,r.jsx)(o.Rn,{defaultValue:V,isDisabled:!!(null==_?void 0:_.proposalLength)&&!(null==_?void 0:_.proposalLength.isZero())&&z&&L,isError:!L,label:c("preimage length"),onChange:U,value:R},"inputLength")]}))]}),(0,r.jsx)(o.u_.Actions,{children:(0,r.jsx)(o.cA,{accountId:g,icon:"plus",isDisabled:!W||!l.includes(g||"")||!w||G&&!L,label:c("Propose"),onStart:m,params:3===u.tx[q].propose.meta.args.length?[W,w,C]:[W,w],tx:u.tx[q].propose})})]}))]}):null}));var z=t(48801),D=t.n(z),F=function(){return F=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},F.apply(this,arguments)};const B=a.memo((function(e){var n=e.isMember,t=e.members,s=d().t,l=(0,i.h)(),c=l.api,u=l.apiDefaultTxSudo,h=(0,x.O)(),p=h[0],m=h[1],v=(0,a.useState)(null),g=v[0],b=v[1],y=(0,a.useState)({proposalLength:0}),j=y[0],w=j.proposal,C=j.proposalLength,k=y[1],N=(0,a.useState)({isThresholdValid:!1}),O=N[0],S=O.isThresholdValid,I=O.threshold,E=N[1],M=(0,f.m)("council");(0,a.useEffect)((function(){t&&E({isThresholdValid:0!==t.length,threshold:new(D())(Math.min(t.length,Math.ceil(t.length*(0,A.d)(c))))})}),[c,t]);var T=(0,a.useCallback)((function(e){return k({proposal:e,proposalLength:(null==e?void 0:e.encodedLength)||0})}),[]),z=(0,a.useCallback)((function(e){return E({isThresholdValid:!!(null==e?void 0:e.gtn(0)),threshold:e})}),[]);return M?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.zx,{icon:"plus",isDisabled:!n,label:s("Propose motion"),onClick:m}),p&&(0,r.jsxs)(o.u_,F({header:s("Propose a council motion"),onClose:m,size:"large"},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsx)(o.u_.Columns,F({hint:s("The council account for the proposal. The selection is filtered by the current members.")},{children:(0,r.jsx)(o.rp,{filter:t,label:s("propose from account"),onChange:b,type:"account",withLabel:!0})})),(0,r.jsx)(o.u_.Columns,F({hint:s("The desired threshold. Here set to a default of 50%+1, as applicable for general proposals.")},{children:(0,r.jsx)(o.Rn,{className:"medium",isError:!I||I.eqn(0)||I.gtn(t.length),label:s("threshold"),onChange:z,placeholder:s("Positive number between 1 and {{memberCount}}",{replace:{memberCount:t.length}}),value:I||P.nw})})),(0,r.jsx)(o.u_.Columns,F({hint:s("The actual proposal to make, based on the selected call and parameters thereof.")},{children:(0,r.jsx)(o.n6,{defaultValue:u,label:s("proposal"),onChange:T})}))]}),(0,r.jsx)(o.u_.Actions,{children:(0,r.jsx)(o.cA,{accountId:g,isDisabled:!w||!S,label:s("Propose"),onStart:m,params:3===c.tx[M].propose.meta.args.length?[I,w,C]:[I,w],tx:c.tx[M].propose})})]}))]}):null}));var R=t(43223),V=function(){return V=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},V.apply(this,arguments)};const L=a.memo((function(e){var n=e.className,t=void 0===n?"":n,s=e.isMember,l=e.members,c=d().t,u=(0,i.h)().api,h=(0,R.g)(),p=(0,x.O)(),m=p[0],v=p[1],g=(0,a.useState)(null),b=g[0],y=g[1],j=(0,a.useState)({proposal:null,proposalLength:0}),w=j[0],C=w.proposal,k=w.proposalLength,N=j[1],O=(0,a.useState)(0),S=O[0],P=O[1],I=(0,f.m)("council"),E=Math.ceil((l.length||0)*(0,A.FK)(u)),M=(0,a.useMemo)((function(){return(h||[]).map((function(e){var n=e[0],t=e[1];return{text:c("era {{era}}, {{count}} slashes",{replace:{count:t.length,era:n.toNumber()}}),value:n.toNumber()}}))}),[h,c]);return(0,a.useEffect)((function(){var e=S&&h&&h.find((function(e){return e[0].eqn(S)})),n=e?u.tx.staking.cancelDeferredSlash(e[0],e[1].map((function(e,n){return n}))):null;N({proposal:n,proposalLength:(null==n?void 0:n.encodedLength)||0})}),[u,S,h]),I&&u.tx.staking?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.zx,{icon:"sync",isDisabled:!s||!h.length,label:c("Cancel slashes"),onClick:v}),m&&(0,r.jsxs)(o.u_,V({className:t,header:c("Revert pending slashes"),onClose:v,size:"large"},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsx)(o.u_.Columns,V({hint:c("The council account for the proposal. The selection is filtered by the current members.")},{children:(0,r.jsx)(o.rp,{filter:l,label:c("propose from account"),onChange:y,type:"account",withLabel:!0})})),(0,r.jsx)(o.u_.Columns,V({hint:c("The specific eras on which there are unapplied slashes. For each era a separate proposal is to be made.")},{children:M.length?(0,r.jsx)(o.Lt,{defaultValue:M[0].value,label:c("the era to cancel for"),onChange:P,options:M}):(0,r.jsx)(o.II,{isDisabled:!0,label:c("the era to cancel for"),value:c("no unapplied slashes found")})}))]}),(0,r.jsx)(o.u_.Actions,{children:(0,r.jsx)(o.cA,{accountId:b,icon:"sync",isDisabled:!E||!l.includes(b||"")||!C,label:c("Revert"),onStart:v,params:3===u.tx[I].propose.meta.args.length?[E,C,k]:[E,C],tx:u.tx[I].propose})})]}))]}):null}));var H=function(){return H=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},H.apply(this,arguments)};const q=a.memo((function(e){var n=e.className,t=void 0===n?"":n,s=e.motions,i=e.prime,l=d().t,u=(0,c.V)("council"),h=u.isMember,p=u.members,m=(0,a.useRef)([[l("motions"),"start",2],[l("threshold")],[l("voting end")],[l("votes"),"expand"],[],[void 0,"badge"],[]]);return(0,r.jsxs)("div",H({className:t},{children:[(0,r.jsxs)(o.zx.Group,{children:[(0,r.jsx)(B,{isMember:h,members:p}),(0,r.jsx)(T,{isMember:h,members:p}),(0,r.jsx)(L,{isMember:h,members:p})]}),(0,r.jsx)(o.iA,H({empty:s&&l("No council motions"),header:m.current},{children:null==s?void 0:s.map((function(e){return(0,r.jsx)(O,{isMember:h,members:p,motion:e,prime:i},e.hash.toHex())}))}))]}))}));var _=t(54383),W=(0,t(11677).e)("useModuleElections",(function(){var e=(0,i.h)().api;return(0,a.useMemo)((function(){return e.tx.phragmenElection?"phragmenElection":e.tx.electionsPhragmen?"electionsPhragmen":e.tx.elections?"elections":null}),[e])})),G=t(58607),Z=function(){return Z=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Z.apply(this,arguments)};const U=a.memo((function(e){var n=e.balance,t=e.voters,s=(0,a.useCallback)((function(){return t&&t.map((function(e){return(0,r.jsx)(o.ax,{value:e,withLockedVote:!0},e.toString())}))}),[t]);return(0,r.jsx)("tr",Z({className:"isExpanded isLast packedTop"},{children:(0,r.jsx)("td",Z({className:"expand all",colSpan:2},{children:(0,r.jsx)(o.n0,{renderChildren:s,summary:(0,r.jsx)(G.Z,{className:n&&t?"":"--tmp",value:n})})}))}))}));var J=function(){return J=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},J.apply(this,arguments)};const Q=a.memo((function(e){var n=e.address,t=e.balance,a=e.className,s=void 0===a?"":a,i=e.hasElections,l=e.isPrime,c=e.voters,u=d().t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("tr",J({className:"".concat(s," isExpanded isFirst ").concat(i?"":"isLast")},{children:[(0,r.jsxs)("td",J({className:"address all relative"},{children:[(0,r.jsx)(o.N,{value:n}),l&&(0,r.jsx)(o.Vp,{className:"absolute",color:"green",label:u("prime")})]})),(0,r.jsx)("td",J({className:"number"},{children:c&&(0,g.u)(c.length)}))]})),i&&(0,r.jsx)(U,{balance:t,voters:c})]})}));var Y=function(){return Y=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Y.apply(this,arguments)};const K=a.memo((function(e){var n=e.allVotes,t=void 0===n?{}:n,s=e.electionsInfo,i=e.hasElections,l=d().t,c=(0,a.useRef)([[l("candidates"),"start",2]]),u=(0,a.useRef)([[l("runners up"),"start",2]]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.iA,Y({empty:s&&l("No runners up found"),header:u.current,isSplit:!0},{children:null==s?void 0:s.runnersUp.map((function(e){var n=e[0],a=e[1];return(0,r.jsx)(Q,{address:n,balance:a,hasElections:i,voters:t[n.toString()]},n.toString())}))})),(0,r.jsx)(o.iA,Y({empty:s&&l("No candidates found"),header:c.current,isSplit:!0},{children:null==s?void 0:s.candidates.map((function(e){return(0,r.jsx)(Q,{address:e,hasElections:!1,voters:t[e.toString()]},e.toString())}))}))]})}));var X=function(){return X=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},X.apply(this,arguments)};const $=a.memo((function(e){var n=e.allVotes,t=void 0===n?{}:n,s=e.className,i=void 0===s?"":s,l=e.electionsInfo,c=e.hasElections,u=e.prime,h=d().t,p=(0,a.useRef)([[h("members"),"start",2]]);return(0,r.jsx)(o.iA,X({className:i,empty:l&&h("No members found"),header:p.current,isSplit:!0},{children:null==l?void 0:l.members.map((function(e){var n=e[0],a=e[1];return(0,r.jsx)(Q,{address:n,balance:a,hasElections:c,isPrime:null==u?void 0:u.eq(n),voters:t[n.toString()]},n.toString())}))}))}));var ee=t(65121),ne=function(){return ne=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},ne.apply(this,arguments)};const te=a.memo((function(e){var n,t=e.electionsInfo,s=(0,i.h)().api,l=d().t,c=(0,a.useState)(null),u=c[0],h=c[1],p=(0,ee.d)(),m=p.isOpen,f=p.onClose,v=p.onOpen,g=W();return g?(0,r.jsxs)(r.Fragment,{children:[m&&(0,r.jsxs)(o.u_,ne({header:l("Submit your council candidacy"),onClose:f,size:"large"},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsx)(o.u_.Columns,ne({hint:l("This account will appear in the list of candidates. With enough votes in an election, it will become either a runner-up or a council member.")},{children:(0,r.jsx)(o.rp,{label:l("candidate account"),onChange:h,type:"account"})})),s.consts[g]&&(0,r.jsx)(o.u_.Columns,ne({hint:l("The bond will be reserved for the duration of your candidacy and membership.")},{children:(0,r.jsx)(o.H,{defaultValue:null===(n=s.consts[g])||void 0===n?void 0:n.candidacyBond,isDisabled:!0,label:l("candidacy bond")})}))]}),(0,r.jsx)(o.u_.Actions,{children:(0,r.jsx)(o.cA,{accountId:u,isDisabled:!t,onStart:f,params:1===s.tx[g].submitCandidacy.meta.args.length?[null==t?void 0:t.candidates.length]:[],tx:s.tx[g].submitCandidacy})})]})),(0,r.jsx)(o.zx,{icon:"plus",isDisabled:!t,label:l("Submit candidacy"),onClick:v})]}):null}));var re=function(){return re=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},re.apply(this,arguments)};const ae=a.memo((function(e){var n=e.bestNumber,t=e.className,a=void 0===t?"":t,s=e.electionsInfo,i=e.hasElections,l=d().t;return(0,r.jsxs)(o.Ty,re({className:a},{children:[(0,r.jsxs)("section",{children:[(0,r.jsx)(o.Jy,re({label:l("seats")},{children:s?(0,r.jsxs)(r.Fragment,{children:[(0,g.u)(s.members.length),s.desiredSeats&&(0,r.jsxs)(r.Fragment,{children:[" / ",(0,g.u)(s.desiredSeats)]})]}):(0,r.jsx)("span",re({className:"--tmp"},{children:"99"}))})),i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Jy,re({label:l("runners up")},{children:s?(0,r.jsxs)(r.Fragment,{children:[(0,g.u)(s.runnersUp.length),s.desiredRunnersUp&&(0,r.jsxs)(r.Fragment,{children:[" / ",(0,g.u)(s.desiredRunnersUp)]})]}):(0,r.jsx)("span",re({className:"--tmp"},{children:"99 / 99"}))})),(0,r.jsx)(o.Jy,re({label:l("candidates")},{children:s?(0,g.u)(s.candidateCount):(0,r.jsx)("span",re({className:"--tmp"},{children:"99"}))}))]})]}),s&&s.voteCount&&(0,r.jsx)("section",{children:(0,r.jsxs)(o.Jy,re({label:l("voting round")},{children:["#",(0,g.u)(s.voteCount)]}))}),s&&n&&s.termDuration&&s.termDuration.gt(P.nw)&&(0,r.jsx)("section",{children:(0,r.jsx)(o.Jy,{label:l("term progress"),progress:{total:s&&n?s.termDuration:P.Jo,value:s&&n?n.mod(s.termDuration):P.um,withTime:!0}})})]}))}));var se=function(){return se=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},se.apply(this,arguments)};const oe=a.memo((function(e){var n=e.electionsInfo,t=d().t,s=(0,i.h)().api,l=(0,x.O)(),c=l[0],u=l[1],h=(0,a.useState)(null),p=h[0],m=h[1],f=(0,a.useState)([]),v=f[0],g=f[1],b=(0,a.useState)([]),y=b[0],j=b[1],w=(0,a.useState)([]),C=w[0],k=w[1],N=(0,a.useState)(P.nw),O=N[0],A=N[1],S=W();(0,a.useEffect)((function(){if(n){var e=n.candidates,t=n.members,r=n.runnersUp;g(t.map((function(e){return e[0].toString()})).concat(r.map((function(e){return e[0].toString()}))).concat(e.map((function(e){return e.toString()}))))}}),[n]),(0,a.useEffect)((function(){p&&s.derive.council.votesOf(p).then((function(e){var n=e.votes;j(n.map((function(e){return e.toString()})).filter((function(e){return v.includes(e)})))})).catch(console.error)}),[s,p,v]);var I=(0,a.useMemo)((function(){var e=s.consts.elections||s.consts.phragmenElection||s.consts.electionsPhragmen;return e&&e.votingBondBase&&e.votingBondBase.add(e.votingBondFactor.muln(C.length))}),[s,C]);return S?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.zx,{icon:"check-to-slot",isDisabled:0===v.length,label:t("Vote"),onClick:u}),c&&(0,r.jsxs)(o.u_,se({header:t("Vote for current candidates"),onClose:u,size:"large"},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsx)(o.u_.Columns,se({hint:t("The vote will be recorded for the selected account.")},{children:(0,r.jsx)(o.rp,{label:t("voting account"),onChange:m,type:"account"})})),(0,r.jsx)(o.u_.Columns,se({hint:t("The value associated with this vote. The amount will be locked (not available for transfer) and used in all subsequent elections.")},{children:(0,r.jsx)(o.xb,{accountId:p,onChange:A})})),(0,r.jsx)(o.u_.Columns,se({hint:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:t("The votes for the members, runner-ups and candidates. These should be ordered based on your priority.")}),(0,r.jsx)("p",{children:t("In calculating the election outcome, this prioritized vote ordering will be used to determine the final score for the candidates.")})]})},{children:(0,r.jsx)(o.m3,{available:v,availableLabel:t("council candidates"),defaultValue:y,maxCount:16,onChange:k,valueLabel:t("my ordered votes")})})),I&&(0,r.jsx)(o.u_.Columns,se({hint:t("The amount will be reserved for the duration of your vote")},{children:(0,r.jsx)(o.H,{defaultValue:I,isDisabled:!0,label:t("voting bond")})}))]}),(0,r.jsxs)(o.u_.Actions,{children:[(0,r.jsx)(o.cA,{accountId:p,icon:"trash-alt",isDisabled:!y.length,label:t("Unvote all"),onStart:u,tx:s.tx[S].removeVoter}),(0,r.jsx)(o.cA,{accountId:p,isDisabled:!p||0===C.length||O.lten(0),label:t("Vote"),onStart:u,params:[C,O],tx:s.tx[S].vote})]})]}))]}):null}));var ie=function(){return ie=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},ie.apply(this,arguments)},le={transform:function(e){return e.reduce((function(e,n){var t=n[0];return n[1].votes.forEach((function(n){var r=n.toString();e[r]||(e[r]=[]),e[r].push(t)})),e}),{})}};const ce=a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.prime,s=(0,i.h)().api,c=(0,_.C)(),u=(0,l.W7)(s.derive.elections.info),d=(0,l.W7)(s.derive.council.votes,void 0,le),h=W(),p=!!h;return(0,r.jsxs)("div",ie({className:t},{children:[(0,r.jsx)(ae,{bestNumber:c,electionsInfo:u,hasElections:!!h}),p&&(0,r.jsxs)(o.zx.Group,{children:[(0,r.jsx)(oe,{electionsInfo:u}),(0,r.jsx)(te,{electionsInfo:u})]}),(0,r.jsx)($,{allVotes:d,electionsInfo:u,hasElections:p,prime:a}),p&&(0,r.jsx)(K,{allVotes:d,electionsInfo:u,hasElections:p})]}))}));var ue=t(40740),de=function(){return de=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},de.apply(this,arguments)};const he=a.memo((function(e){var n=e.basePath,t=e.className,c=d().t,u=(0,i.h)().api,h=(0,s.TH)().pathname,p=(0,ue.Z)(),m=(0,l.W7)(u.derive.council.prime),f=(0,l.W7)(u.derive.council.proposals),v=(0,a.useMemo)((function(){return[{isRoot:!0,name:"overview",text:c("Overview")},{count:p,name:"motions",text:c("Motions")}]}),[p,c]);return(0,r.jsxs)("main",de({className:t},{children:[(0,r.jsx)(o.mQ,{basePath:n,items:v}),(0,r.jsx)(s.rs,{children:(0,r.jsx)(s.AW,de({path:"".concat(n,"/motions")},{children:(0,r.jsx)(q,{motions:f,prime:m})}))}),(0,r.jsx)(ce,{className:[n,"".concat(n,"/candidates")].includes(h)?"":"--hidden",prime:m})]}))}))},40740:(e,n,t)=>{t.d(n,{Z:()=>l});var r=t(34814),a=t(90778),s=t(9118),o=t(11677),i={transform:function(e){return e.filter((function(e){return!!e.votes})).length}};const l=(0,o.e)("useCounter",(function(){var e,n=(0,r.x)().hasAccounts,t=(0,a.h)(),o=t.api,l=t.isApiReady;return(0,s.W7)(l&&n&&(null===(e=o.derive.council)||void 0===e?void 0:e.proposals),void 0,i)||0}))},10842:(e,n,t)=>{t.d(n,{Z:()=>b});var r,a,s=t(52322),o=t(2784),i=t(24732),l=t(90778),c=t(13940),u=t(48801),d=t.n(u),h=t(95292),p=t(54371),m=t(34323),f=t(6987),v=function(){return v=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},v.apply(this,arguments)},g=(0,m.$)(""),x=(0,i.zo)(i.u_)(y||(r=["\n  .toggleImminent {\n    margin: 0.5rem 0;\n    text-align: right;\n  }\n"],a=["\n  .toggleImminent {\n    margin: 0.5rem 0;\n    text-align: right;\n  }\n"],Object.defineProperty?Object.defineProperty(r,"raw",{value:a}):r.raw=a,y=r));const b=o.memo((function(e){var n=e.className,t=void 0===n?"":n,r=e.imageHash,a=e.isImminent,u=void 0!==a&&a,b=e.onClose,y=(0,f.$)().t,j=(0,l.h)(),w=j.api,C=j.apiDefaultTxSudo,k=(0,o.useState)(null),N=k[0],O=k[1],A=(0,o.useState)({encodedHash:g,encodedProposal:"",storageFee:null}),S=A[0],P=S.encodedHash,I=S.encodedProposal,E=S.storageFee,M=A[1],T=(0,o.useState)(),z=T[0],D=T[1];(0,o.useEffect)((function(){var e=(null==z?void 0:z.method.toHex())||"",n=w.consts.democracy.preimageByteDeposit?w.consts.democracy.preimageByteDeposit.mul(e?new(d())((e.length-2)/2):h.nw):null;M({encodedHash:(0,m.$)(e),encodedProposal:e,storageFee:n})}),[w,z]);var F=(0,o.useMemo)((function(){return!r||((0,p.H)(r)?r===P:r.eq(P))}),[P,r]);return(0,s.jsxs)(x,v({className:t,header:y("Submit preimage"),onClose:b,size:"large"},{children:[(0,s.jsxs)(i.u_.Content,{children:[(0,s.jsx)(i.u_.Columns,v({hint:y("This account will pay the fees for the preimage, based on the size thereof.")},{children:(0,s.jsx)(i.rp,{label:y("send from account"),labelExtra:(0,s.jsx)(c.Z,{label:(0,s.jsx)("span",v({className:"label"},{children:y("transferrable")})),params:N}),onChange:O,type:"account"})})),(0,s.jsxs)(i.u_.Columns,v({hint:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{children:y("The image (proposal) will be stored on-chain against the hash of the contents.")}),(0,s.jsx)("p",{children:y("When submitting a proposal the hash needs to be known. Proposals can be submitted with hash-only, but upon dispatch the preimage needs to be available.")})]})},{children:[(0,s.jsx)(i.n6,{defaultValue:C,label:y("propose"),onChange:D}),(0,s.jsx)(i.qG,{label:y("preimage hash"),value:P,withCopy:!0})]})),!u&&E&&(0,s.jsx)(i.u_.Columns,v({hint:y("The calculated storage costs based on the size and the per-bytes fee.")},{children:(0,s.jsx)(i.H,{defaultValue:E,isDisabled:!0,label:y("calculated storage fee")})}))]}),(0,s.jsx)(i.u_.Actions,{children:(0,s.jsx)(i.cA,{accountId:N,icon:"plus",isDisabled:!(z&&N&&F&&I),label:y("Submit preimage"),onStart:b,params:[I],tx:u?w.tx.democracy.noteImminentPreimage:w.tx.democracy.notePreimage})})]}))}));var y},71679:(e,n,t)=>{t.d(n,{Z:()=>u});var r=t(52322),a=t(2784),s=t(24732),o=t(90778),i=t(38894),l=t(6987),c=t(10842);const u=a.memo((function(e){var n=e.imageHash,t=e.isImminent,a=(0,l.$)().t,u=(0,o.h)().api,d=(0,i.O)(),h=d[0],p=d[1];return u.tx.democracy.notePreimage?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.zx,{icon:"plus",label:a("Image"),onClick:p}),h&&(0,r.jsx)(c.Z,{imageHash:n,isImminent:t,onClose:p})]}):null}))},92914:(e,n,t)=>{t.d(n,{Z:()=>N});var r=t(52322),a=t(2784),s=t(24732),o=t(90778),i=t(31313),l=t(6987),c=t(9118),u=t(37245),d=function(){return d=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},d.apply(this,arguments)};const h=a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.value,i=(0,l.$)().t,h=(0,o.h)().api,p=(0,c.W7)(h.derive.democracy.preimage,[a]);return(null==p?void 0:p.proposal)?(0,r.jsx)(u.Z,d({className:t,withBorder:!0,withPadding:!0},{children:(0,r.jsx)(s.Uv,{labelHash:i("proposal hash"),value:p.proposal,withHash:!0})})):null}));var p=t(87418),m=t(6046),f=function(){return f=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},f.apply(this,arguments)},v={params:[],values:[]},g={transform:function(e){return e.unwrapOr(null)}};const x=a.memo((function(e){var n=e.className,t=void 0===n?"":n,i=e.value,u=(0,l.$)().t,d=(0,o.h)().api,h=(0,a.useState)((function(){return i.unwrap()}))[0],x=(0,c.W7)(d.query.treasury.proposals,[h],g),b=(0,a.useState)(v),y=b[0],j=y.params,w=y.values,C=b[1];return(0,a.useEffect)((function(){x&&C({params:[{name:"proposal",type:(0,m.s)("TreasuryProposal")}],values:[{isValid:!0,value:x}]})}),[x]),x?(0,r.jsx)("div",f({className:t},{children:(0,r.jsxs)(p.Z,f({isDisabled:!0,params:j,values:w},{children:[(0,r.jsx)(s.rp,{defaultValue:x.beneficiary,isDisabled:!0,label:u("beneficiary")}),(0,r.jsx)(s.H,{defaultValue:x.value,isDisabled:!0,label:u("payout")})]}))})):null}));var b,y,j=function(){return j=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},j.apply(this,arguments)},w=["externalPropose","externalProposeDefault","externalProposeMajority","fastTrack"],C=["approveProposal","rejectProposal"],k=s.zo.td(O||(b=["\n  .shortHash {\n    + div {\n      margin-left: 0.5rem;\n    }\n  }\n"],y=["\n  .shortHash {\n    + div {\n      margin-left: 0.5rem;\n    }\n  }\n"],Object.defineProperty?Object.defineProperty(b,"raw",{value:y}):b.raw=y,O=b));const N=a.memo((function(e){var n,t=e.className,a=void 0===t?"":t,c=e.imageHash,u=e.isCollective,d=e.proposal,p=(0,l.$)().t,m=(0,o.h)().api,f=(0,i.CH)(c),v=u||(null===(n=m.query.democracy)||void 0===n?void 0:n.preimages)?d:null==f?void 0:f.proposal;if(!v){var g=c.toString();return(0,r.jsx)("td",j({className:"".concat(a," all hash")},{children:(0,r.jsx)("div",j({className:"shortHash"},{children:g}))}))}var b=v.registry.findMetaCall(v.callIndex),y=b.method,N=b.section,O="treasury"===N&&C.includes(y),A="democracy"===N&&w.includes(y);return(0,r.jsx)(k,j({className:"".concat(a," all")},{children:(0,r.jsxs)(s.Uv,j({labelHash:p("proposal hash"),value:v,withHash:!O&&!A},{children:[A&&(0,r.jsx)(h,{value:v.args[0]}),O&&(0,r.jsx)(x,{value:v.args[0]})]}))}))}));var O},50472:(e,n,t)=>{t.d(n,{Z:()=>ye});var r=t(52322),a=t(2784),s=t(7267),o=t(24732),i=t(90778),l=t(38894),c=t(9118),u=t(6987),d=t(70563),h=t(30943),p=t(81190),m=t(48801),f=t.n(m),v=t(54371),g=function(){return g=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},g.apply(this,arguments)},x=new(f())(600),b=new(f())(1800);const y=a.memo((function(e){var n=e.imageHash,t=e.members,s=e.threshold,d=(0,u.$)().t,m=(0,i.h)().api,y=(0,l.O)(),j=y[0],w=y[1],C=(0,a.useState)(null),k=C[0],N=C[1],O=(0,a.useState)(x),A=O[0],S=O[1],P=(0,a.useState)(m.consts.democracy.fastTrackVotingPeriod||b),I=P[0],E=P[1],M=(0,a.useState)((function(){return{proposalLength:0}})),T=M[0],z=T.proposal,D=T.proposalLength,F=M[1],B=(0,l.O)(!0),R=B[0],V=B[1],L=(0,p.m)("technicalCommittee"),H=(0,c.W7)(L&&m.query[L].proposalCount),q=(0,a.useMemo)((function(){return new(f())(Math.ceil(t.length*(0,h.A_)(m,!I||m.consts.democracy.fastTrackVotingPeriod.lte(I))))}),[m,t,I]),_=(0,a.useMemo)((function(){if(!(L&&z&&H&&m.tx.utility))return null;var e=3===m.tx[L].propose.meta.args.length?m.tx[L].propose(q,z,D):m.tx[L].propose(q,z);return R&&t.length>1?m.tx.utility.batch([e,m.tx[L].vote(z.method.hash,H,!0)]):e}),[m,t,q,L,z,H,D,R]);return(0,a.useEffect)((function(){var e=A&&!A.isZero()&&I&&!I.isZero()?m.tx.democracy.fastTrack(n,I,A):null;F({proposal:e,proposalLength:(null==e?void 0:e.length)||0})}),[m,A,n,t,I]),L&&m.tx.utility?(0,r.jsxs)(r.Fragment,{children:[j&&(0,r.jsxs)(o.u_,g({header:d("Fast track proposal"),onClose:w,size:"large"},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsx)(o.u_.Columns,g({hint:d("Select the committee account you wish to make the proposal with.")},{children:(0,r.jsx)(o.rp,{filter:t,label:d("propose from account"),onChange:N,type:"account",withLabel:!0})})),(0,r.jsx)(o.u_.Columns,g({hint:d("The external proposal to send to the technical committee")},{children:(0,r.jsx)(o.II,{isDisabled:!0,label:d("preimage hash"),value:(0,v.H)(n)?n:n.toHex()})})),(0,r.jsxs)(o.u_.Columns,g({hint:d("The voting period and delay to apply to this proposal. The threshold is calculated from these values.")},{children:[(0,r.jsx)(o.Rn,{autoFocus:!0,isZeroable:!1,label:d("voting period"),onChange:E,value:I}),(0,r.jsx)(o.Rn,{isZeroable:!1,label:d("delay"),onChange:S,value:A}),(0,r.jsx)(o.Rn,{defaultValue:q,isDisabled:!0,label:d("threshold")})]})),t.length>1&&(0,r.jsx)(o.u_.Columns,g({hint:d("Submit an Aye vote alongside the proposal as part of a batch")},{children:(0,r.jsx)(o.ZD,{label:d("Submit Aye vote with proposal"),onChange:V,value:R})}))]}),(0,r.jsx)(o.u_.Actions,{children:(0,r.jsx)(o.cA,{accountId:k,extrinsic:_,icon:"forward",isDisabled:!k,label:d("Fast track"),onStart:w})})]})),(0,r.jsx)(o.zx,{icon:"forward",isDisabled:s.isSuperMajorityApprove,label:d("Fast track"),onClick:w})]}):null}));var j=t(71679),w=t(92914),C=function(){return C=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},C.apply(this,arguments)};const k=a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.value,s=a.image,i=a.imageHash,c=a.threshold,u=(0,d.V)("technicalCommittee"),h=u.isMember,p=u.members,m=(0,l.O)(!1),f=m[0],v=m[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("tr",C({className:"".concat(t," isExpanded isFirst ").concat(f?"":"isLast")},{children:[(0,r.jsx)(w.Z,{imageHash:i,proposal:null==s?void 0:s.proposal}),(0,r.jsx)("td",C({className:"address"},{children:s&&(0,r.jsx)(o.ax,{value:s.proposer})})),(0,r.jsx)(o.iA.Column.Balance,{value:null==s?void 0:s.balance}),(0,r.jsx)("td",C({className:"actions"},{children:(0,r.jsxs)(o.zx.Group,{children:[!(null==s?void 0:s.proposal)&&(0,r.jsx)(j.Z,{imageHash:i}),c&&h&&(0,r.jsx)(y,{imageHash:i,members:p,threshold:c}),(0,r.jsx)(o.Vh,{expanded:f,onClick:v})]})}))]})),(0,r.jsx)("tr",C({className:"".concat(t," ").concat(f?"isExpanded isLast":"isCollapsed")},{children:(0,r.jsx)("td",C({className:"columar",colSpan:100},{children:(0,r.jsx)(o.P0,C({is100:!0},{children:(0,r.jsx)(o.P0.Column,{children:(0,r.jsx)(o.NR,{data:i,type:"democracyExternal",withTitle:!0})})}))}))}))]})}));var N=function(){return N=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},N.apply(this,arguments)};const O=a.memo((function(e){var n=e.className,t=(0,u.$)().t,s=(0,i.h)().api,l=(0,c.W7)(s.derive.democracy.nextExternal),d=(0,a.useRef)([[t("external"),"start"],[t("proposer"),"address"],[t("locked")],[]]);return(0,r.jsx)(o.iA,N({className:n,empty:null===l&&t("No external proposal"),header:d.current},{children:l&&(0,r.jsx)(k,{value:l})}))}));var A=t(10842),S=t(58607),P=t(34814),I=function(){return I=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},I.apply(this,arguments)};const E=a.memo((function(e){var n=e.deposit,t=e.depositors,s=e.image,c=e.proposalId,d=(0,u.$)().t,h=(0,P.x)().hasAccounts,p=(0,i.h)().api,m=(0,a.useState)(null),f=m[0],v=m[1],g=(0,l.O)(),x=g[0],b=g[1];return h?(0,r.jsxs)(r.Fragment,{children:[x&&(0,r.jsxs)(o.u_,I({header:d("Endorse proposal"),onClose:b,size:"large"},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsx)(o.u_.Columns,I({hint:d("The proposal is in the queue for future referendums. One proposal from this list will move forward to voting.")},{children:(0,r.jsx)(o.lV,{idNumber:c,proposal:null==s?void 0:s.proposal})})),(0,r.jsx)(o.u_.Columns,I({hint:d("Endorsing a proposal that indicates your backing for the proposal. Proposals with greater interest moves up the queue for potential next referendums.")},{children:(0,r.jsx)(o.rp,{label:d("endorse with account"),onChange:v,type:"account",withLabel:!0})})),(0,r.jsx)(o.u_.Columns,I({hint:d("The deposit will be locked for the lifetime of the proposal.")},{children:(0,r.jsx)(o.H,{defaultValue:n||p.consts.democracy.minimumDeposit,isDisabled:!0,label:d("deposit required")})}))]}),(0,r.jsx)(o.u_.Actions,{children:(0,r.jsx)(o.cA,{accountId:f,icon:"sign-in-alt",isDisabled:!f,label:d("Endorse"),onStart:b,params:2===p.tx.democracy.second.meta.args.length?[c,t.length]:[c],tx:p.tx.democracy.second})})]})),(0,r.jsx)(o.zx,{icon:"toggle-off",label:d("Endorse"),onClick:b})]}):null}));var M=function(){return M=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},M.apply(this,arguments)};const T=a.memo((function(e){var n=e.className,t=void 0===n?"":n,s=e.value,i=s.balance,c=s.image,d=s.imageHash,h=s.index,p=s.proposer,m=s.seconds,f=(0,u.$)().t,v=(0,l.O)(!1),g=v[0],x=v[1],b=(0,a.useMemo)((function(){return m.filter((function(e,n){return 0!==n}))}),[m]),y=(0,a.useCallback)((function(){return b.map((function(e,n){return(0,r.jsx)(o.ax,{value:e,withBalance:!1,withShrink:!0},"".concat(n,":").concat(e.toHex()))}))}),[b]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("tr",M({className:"".concat(t," isExpanded isFirst ").concat(g?"":"isLast")},{children:[(0,r.jsx)(o.iA.Column.Id,{value:h}),(0,r.jsx)(w.Z,{imageHash:d,proposal:null==c?void 0:c.proposal}),(0,r.jsx)("td",M({className:"address"},{children:(0,r.jsx)(o.ax,{value:p})})),(0,r.jsx)("td",M({className:"number together media--1200"},{children:(0,r.jsx)(S.Z,{value:i})})),(0,r.jsx)("td",M({className:"expand"},{children:0!==b.length&&(0,r.jsx)(o.n0,{empty:b&&f("No endorsements"),renderChildren:y,summary:f("Endorsed ({{count}})",{replace:{count:b.length}})})})),(0,r.jsx)("td",M({className:"actions"},{children:(0,r.jsxs)(o.zx.Group,{children:[!(null==c?void 0:c.proposal)&&(0,r.jsx)(j.Z,{imageHash:d}),(0,r.jsx)(E,{deposit:i,depositors:m||[],image:c,proposalId:h}),(0,r.jsx)(o.Vh,{expanded:g,onClick:x})]})}))]})),(0,r.jsxs)("tr",M({className:"".concat(t," ").concat(g?"isExpanded isLast":"isCollapsed")},{children:[(0,r.jsx)("td",{}),(0,r.jsx)("td",M({className:"columar",colSpan:100},{children:(0,r.jsx)(o.P0,M({is100:!0},{children:(0,r.jsx)(o.P0.Column,{children:(0,r.jsx)(o.NR,{data:h,type:"democracyProposal",withTitle:!0})})}))}))]}))]})}));var z=function(){return z=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},z.apply(this,arguments)};const D=a.memo((function(e){var n=e.className,t=(0,u.$)().t,s=(0,i.h)().api,l=(0,c.W7)(s.derive.democracy.proposals),d=(0,a.useRef)([[t("proposals"),"start",2],[t("proposer"),"address"],[t("locked"),"media--1200"],[void 0,void 0,2]]);return(0,r.jsx)(o.iA,z({className:n,empty:l&&t("No active proposals"),header:d.current},{children:null==l?void 0:l.map((function(e){return(0,r.jsx)(T,{value:e},e.index.toString())}))}))}));var F=t(31313),B=t(13940),R=t(74076),V=t(33661),L=function(){return L=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},L.apply(this,arguments)};const H=a.memo((function(e){var n,t,s,l,d=e.className,h=void 0===d?"":d,p=e.onClose,m=(0,u.$)().t,f=(0,i.h)().api,v=(0,a.useState)(null),g=v[0],x=v[1],b=(0,a.useState)(),y=b[0],j=b[1],w=(0,a.useState)({isHashValid:!1}),C=w[0],k=C.hash,N=C.isHashValid,O=w[1],A=(0,c.W7)(f.query.democracy.publicProps),S=(0,F.CH)(k),P=(0,a.useCallback)((function(e){return O({hash:e,isHashValid:(0,R.vq)(e,256)})}),[]),I=null==y?void 0:y.gte(f.consts.democracy.minimumDeposit);return(0,r.jsxs)(o.u_,L({className:h,header:m("Submit proposal"),onClose:p,size:"large"},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsx)(o.u_.Columns,L({hint:m("The proposal will be registered from this account and the balance lock will be applied here.")},{children:(0,r.jsx)(o.rp,{label:m("send from account"),labelExtra:(0,r.jsx)(B.Z,{label:(0,r.jsx)("span",L({className:"label"},{children:m("transferrable")})),params:g}),onChange:x,type:"account"})})),(0,r.jsx)(o.u_.Columns,L({hint:m("The hash of the preimage for the proposal as previously submitted or intended.")},{children:(0,r.jsx)(o.II,{autoFocus:!0,isError:!N,label:m("preimage hash"),onChange:P,value:k})})),(0,r.jsxs)(o.u_.Columns,L({hint:m("The associated deposit for this proposal should be more then the minimum on-chain deposit required. It will be locked until the proposal passes.")},{children:[(0,r.jsx)(o.H,{defaultValue:f.consts.democracy.minimumDeposit,isError:!I,label:m("locked balance"),onChange:j}),(0,r.jsx)(o.H,{defaultValue:f.consts.democracy.minimumDeposit,isDisabled:!0,label:m("minimum deposit")})]}))]}),(0,r.jsx)(o.u_.Actions,{children:(0,r.jsx)(o.cA,{accountId:g,icon:"plus",isDisabled:!y||!I||!N||!g||!A||(0,V.m)(null===(n=f.tx.preimage)||void 0===n?void 0:n.notePreimage)&&!(0,V.m)(null===(t=f.tx.democracy)||void 0===t?void 0:t.notePreimage)&&!S,label:m("Submit proposal"),onStart:p,params:3===f.tx.democracy.propose.meta.args.length?[k,y,null==A?void 0:A.length]:(0,V.m)(null===(s=f.tx.preimage)||void 0===s?void 0:s.notePreimage)&&!(0,V.m)(null===(l=f.tx.democracy)||void 0===l?void 0:l.notePreimage)?[S&&{Lookup:{hash:S.proposalHash,len:S.proposalLength}},y]:[k,y],tx:f.tx.democracy.propose})})]}))}));var q=t(54383),_=t(65874),W=t(95292),G=t(14681),Z=t(47538),U=t(11677),J=t(15938),Q=new(f())(-1),Y=new(f())(2);function K(e,n,t,r,a,s){var o=1===s?W.If:Q,i=t.add(r),l=W.If.muln(10*a).mul(i).div(W.aP);return[i,e.add(o.mul(i)),f().max(W.nw,n.add(o.mul(l)))]}function X(e,n,t,r,a,s){for(var o=t.votedAye,i=t.votedNay,l=t.votedTotal;;){var c=K(o,l,a,s,r?0:1,r?-1:1),u=c[0],d=c[1],h=c[2];if((0,J.Pc)(e,n,{votedAye:d,votedNay:i,votedTotal:h})!==r)return a;a=u}}function $(e,n,t,r,a,s){for(var o=t.votedAye,i=t.votedNay,l=t.votedTotal;;){var c=K(i,l,a,s,r?1:0,r?1:-1),u=c[0],d=c[1],h=c[2];if((0,J.Pc)(e,n,{votedAye:o,votedNay:d,votedTotal:h})!==r)return a;a=u}}const ee=(0,U.e)("useChangeCalc",(function(e,n,t,r){var s=(0,i.h)().api,o=(0,c.W7)(s.derive.democracy.sqrtElectorate),l=(0,a.useState)({changeAye:W.nw,changeNay:W.nw}),u=l[0],d=l[1];return(0,a.useEffect)((function(){o&&d(function(e,n,t){var r=(0,J.Pc)(e,n,t);if(e.isSimpleMajority){var a=r?t.votedAye.sub(t.votedNay):t.votedNay.sub(t.votedAye);return{changeAye:t.votedNay.isZero()?W.nw:a,changeNay:t.votedAye.isZero()?W.nw:a}}for(var s=W.nw,o=W.nw,i=t.votedTotal.div(Y);!i.isZero();){s=X(e,n,t,r,s,i),o=$(e,n,t,r,o,i);var l=i.div(Y);l.isZero()&&(s=s.add(i),o=o.add(i)),i=l}return{changeAye:t.votedNay.isZero()?W.nw:r?f().min(s,t.votedAye):s,changeNay:t.votedAye.isZero()?W.nw:r?o:f().min(o,t.votedNay)}}(e,o,{votedAye:n,votedNay:t,votedTotal:r}))}),[o,e,n,t,r]),u}));var ne=["0.1x","1x","2x","3x","4x","5x","6x"];function te(e,n){var t=e.conviction;return"".concat(ne[t.toNumber()]).concat(n?"/d":""," - ")}const re=a.memo((function(e){var n=e.vote,t=n.accountId,a=n.balance,s=n.isDelegating,i=n.vote;return(0,r.jsx)(o.ax,{balance:a,labelBalance:te(i,s),value:t,withBalance:!0})}));var ae=[1,10,20,30,40,50,60];const se=a.memo((function(e){var n=e.className,t=e.count,s=e.isAye,i=e.total,l=e.votes,c=(0,u.$)().t,d=(0,a.useMemo)((function(){return l.sort((function(e,n){var t=e.balance.muln(ae[e.vote.conviction.toNumber()]).div(W.aP);return n.balance.muln(ae[n.vote.conviction.toNumber()]).div(W.aP).cmp(t)}))}),[l]),h=(0,a.useCallback)((function(){return d.map((function(e){return(0,r.jsx)(re,{vote:e},e.accountId.toString())}))}),[d]);return(0,r.jsx)(o.n0,{className:n,empty:l&&c("No voters"),renderChildren:l.length?h:void 0,summary:(0,r.jsxs)(r.Fragment,{children:[c(s?"Aye {{count}}":"Nay {{count}}",{replace:{count:t?" (".concat((0,G.u)(t),")"):""}}),(0,r.jsx)("div",{children:(0,r.jsx)(S.Z,{value:i})})]})})}));var oe=function(){return oe=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},oe.apply(this,arguments)};const ie=a.memo((function(e){var n=e.proposal,t=e.referendumId,s=(0,u.$)().t,c=(0,i.h)().api,d=(0,P.x)().hasAccounts,h=(0,a.useState)(null),p=h[0],m=h[1],f=(0,a.useState)(),v=f[0],g=f[1],x=(0,a.useState)(1),b=x[0],y=x[1],j=(0,l.O)(),w=j[0],C=j[1],k=(0,a.useMemo)((function(){return!!c.query.democracy.votingOf}),[c]);if(!d)return null;var N=!!k&&!v;return(0,r.jsxs)(r.Fragment,{children:[w&&(0,r.jsxs)(o.u_,oe({header:s("Vote on proposal"),onClose:C,size:"large"},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsx)(o.u_.Columns,oe({hint:s("If this proposal is passed, the changes will be applied via dispatch and the deposit returned.")},{children:(0,r.jsx)(o.lV,{idNumber:t,proposal:n})})),(0,r.jsx)(o.u_.Columns,oe({hint:s("The vote will be recorded for this account. If another account delegated to this one, the delegated votes will also be counted.")},{children:(0,r.jsx)(o.UE,{onChange:m})})),(0,r.jsxs)(o.u_.Columns,oe({hint:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:s("The balance associated with the vote will be locked as per the conviction specified and will not be available for transfer during this period.")}),(0,r.jsx)("p",{children:s("Conviction locks do overlap and are not additive, meaning that funds locked during a previous vote can be locked again.")})]})},{children:[k&&(0,r.jsx)(o.xb,{accountId:p,autoFocus:!0,onChange:g}),(0,r.jsx)(o.v,{label:s("conviction"),onChange:y,value:b,voteLockingPeriod:c.consts.democracy.voteLockingPeriod||c.consts.democracy.enactmentPeriod})]}))]}),(0,r.jsxs)(o.u_.Actions,{children:[(0,r.jsx)(o.cA,{accountId:p,icon:"ban",isDisabled:N,label:s("Vote Nay"),onStart:C,params:k?[t,{Standard:{balance:v,vote:{aye:!1,conviction:b}}}]:[t,{aye:!1,conviction:b}],tx:c.tx.democracy.vote}),(0,r.jsx)(o.cA,{accountId:p,icon:"check",isDisabled:N,label:s("Vote Aye"),onStart:C,params:k?[t,{Standard:{balance:v,vote:{aye:!0,conviction:b}}}]:[t,{aye:!0,conviction:b}],tx:c.tx.democracy.vote})]})]})),(0,r.jsx)(o.zx,{icon:"check-to-slot",label:s("Vote"),onClick:C})]})}));var le=function(){return le=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},le.apply(this,arguments)};function ce(e,n){return Math.min(100,e.muln(1e4).div(n).toNumber()/100).toFixed(2)}const ue=a.memo((function(e){var n,t=e.className,s=void 0===t?"":t,d=e.value,h=d.allAye,p=d.allNay,m=d.image,v=d.imageHash,g=d.index,x=d.isPassing,b=d.status,y=d.voteCountAye,C=d.voteCountNay,k=d.votedAye,N=d.votedNay,O=d.votedTotal,A=(0,u.$)().t,S=(0,i.h)().api,I=(0,P.x)().allAccounts,E=(0,q.C)(),M=(0,l.O)(!1),T=M[0],z=M[1],D=(0,c.W7)(null===(n=S.query.balances)||void 0===n?void 0:n.totalIssuance),F=ee(b.threshold,k,N,O),B=F.changeAye,R=F.changeNay,V=(0,a.useMemo)((function(){return b.threshold.type.toString().replace("majority"," majority ")}),[b]),L=k.add(N),H=(0,a.useMemo)((function(){if(D){var e=h.reduce((function(e,n){var t=n.balance;return e.add(t)}),new(f())(0)),n=p.reduce((function(e,n){var t=n.balance;return e.add(t)}),new(f())(0)),t=h.some((function(e){var n=e.accountId;return I.includes(n.toString())}));return[{aye:O.isZero()?"":"".concat(ce(e,O),"%"),nay:O.isZero()?"":"".concat(ce(n,O),"%"),turnout:"".concat(ce(O,D),"%")},{hasVoted:t||p.some((function(e){var n=e.accountId;return I.includes(n.toString())})),hasVotedAye:t}]}return[null,{hasVoted:!1,hasVotedAye:!1}]}),[I,h,p,D,O]),U=H[0],J=H[1],Q=J.hasVoted,Y=J.hasVotedAye;if(!E||b.end.sub(E).lten(0))return null;var K=b.end.add(b.delay),X=b.end.sub(E).isub(W.If);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("tr",le({className:"".concat(s," isExpanded isFirst ").concat(T?"":"isLast")},{children:[(0,r.jsx)(o.iA.Column.Id,{value:g}),(0,r.jsx)(w.Z,{imageHash:v,proposal:null==m?void 0:m.proposal}),(0,r.jsxs)("td",le({className:"number together media--1200"},{children:[(0,r.jsx)(_.Z,{value:X}),A("{{blocks}} blocks",{replace:{blocks:(0,G.u)(X)}})]})),(0,r.jsxs)("td",le({className:"number together media--1400"},{children:[(0,r.jsx)(_.Z,{value:K.sub(E)}),"#",(0,G.u)(K)]})),(0,r.jsx)("td",le({className:"number together media--1400"},{children:U&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{children:U.turnout})})})),(0,r.jsx)("td",le({className:"badge"},{children:(0,Z.j)(x)&&(0,r.jsx)(o.Ct,{color:x?"green":"red",hover:A(x?"{{threshold}}, passing":"{{threshold}}, not passing",{replace:{threshold:V}}),icon:x?"check":"times"})})),(0,r.jsxs)("td",le({className:"expand"},{children:[(0,r.jsx)(se,{change:B,count:y,isAye:!0,isWinning:x,total:k,votes:h}),(0,r.jsx)(se,{change:R,count:C,isAye:!1,isWinning:!x,total:N,votes:p})]})),(0,r.jsx)("td",le({className:"media--1000 middle chart"},{children:(0,r.jsx)(o.Ex,{total:L,value:k})})),(0,r.jsx)("td",le({className:"badge"},{children:(0,r.jsx)(o.JO,{color:Q?Y?"green":"red":"gray",icon:"asterisk"})})),(0,r.jsx)("td",le({className:"actions"},{children:(0,r.jsxs)(o.zx.Group,{children:[!(null==m?void 0:m.proposal)&&(0,r.jsx)(j.Z,{imageHash:v}),(0,r.jsx)(ie,{proposal:null==m?void 0:m.proposal,referendumId:g}),(0,r.jsx)(o.Vh,{expanded:T,onClick:z})]})}))]})),(0,r.jsxs)("tr",le({className:"".concat(s," ").concat(T?"isExpanded isLast":"isCollapsed")},{children:[(0,r.jsx)("td",{}),(0,r.jsx)("td",le({className:"columar",colSpan:100},{children:(0,r.jsx)(o.P0,le({is100:!0},{children:(0,r.jsx)(o.P0.Column,{children:(0,r.jsx)(o.NR,{data:g,type:"democracyReferendum",withTitle:!0})})}))}))]}))]})}));var de=function(){return de=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},de.apply(this,arguments)};const he=a.memo((function(e){var n=e.className,t=void 0===n?"":n,s=e.referendums,i=(0,u.$)().t,l=(0,a.useRef)([[i("referenda"),"start",2],[i("remaining"),"media--1200"],[i("activate"),"media--1400"],[i("turnout"),"media--1400"],[void 0,"badge"],[i("votes"),"expand"],[void 0,"media--1000"],[void 0,void 0,2]]);return(0,r.jsx)(o.iA,de({className:t,empty:s&&i("No active referendums"),header:l.current},{children:null==s?void 0:s.map((function(e){return(0,r.jsx)(ue,{value:e},e.index.toString())}))}))}));var pe=t(54890),me=function(){return me=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},me.apply(this,arguments)},fe={defaultValue:[void 0,void 0]};const ve=a.memo((function(e){var n=e.referendumCount,t=(0,u.$)().t,a=(0,i.h)().api,s=(0,c.W7)(a.derive.democracy.proposals),l=(0,q.C)(),d=(0,pe.L)([a.query.democracy.publicPropCount,a.query.democracy.referendumCount],fe),h=d[0],p=d[1];return(0,r.jsxs)(o.Ty,{children:[(0,r.jsxs)("section",{children:[(0,r.jsx)(o.Jy,me({label:t("proposals")},{children:s?(0,G.u)(s.length):(0,r.jsx)("span",me({className:"--tmp"},{children:"99"}))})),(0,r.jsx)(o.Jy,me({label:t("total")},{children:h?(0,G.u)(h):(0,r.jsx)("span",me({className:"--tmp"},{children:"99"}))}))]}),(0,r.jsxs)("section",{children:[(0,r.jsx)(o.Jy,me({label:t("referenda")},{children:void 0!==n?(0,G.u)(n):(0,r.jsx)("span",me({className:"--tmp"},{children:"99"}))})),(0,r.jsx)(o.Jy,me({label:t("total")},{children:p?(0,G.u)(p):(0,r.jsx)("span",me({className:"--tmp"},{children:"99"}))}))]}),a.consts.democracy.launchPeriod&&(0,r.jsx)("section",me({className:"media--1100"},{children:(0,r.jsx)(o.Jy,{label:t("launch period"),progress:{isBlurred:!l,total:a.consts.democracy.launchPeriod,value:l?l.mod(a.consts.democracy.launchPeriod).iadd(W.If):a.consts.democracy.launchPeriod.mul(W.um).div(W.Jo),withTime:!0}})}))]})}));var ge=function(){return ge=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},ge.apply(this,arguments)};const xe=a.memo((function(e){var n=e.className,t=(0,u.$)().t,a=(0,i.h)().api,s=(0,l.O)(),d=s[0],h=s[1],p=(0,l.O)(),m=p[0],f=p[1],v=(0,c.W7)(a.derive.democracy.referendums);return(0,r.jsxs)("div",ge({className:n},{children:[(0,r.jsx)(ve,{referendumCount:null==v?void 0:v.length}),(0,r.jsxs)(o.zx.Group,{children:[a.tx.democracy.notePreimage&&(0,r.jsx)(o.zx,{icon:"plus",label:t("Submit preimage"),onClick:h}),(0,r.jsx)(o.zx,{icon:"plus",label:t("Submit proposal"),onClick:f})]}),d&&(0,r.jsx)(A.Z,{onClose:h}),m&&(0,r.jsx)(H,{onClose:f}),(0,r.jsx)(he,{referendums:v}),(0,r.jsx)(D,{}),(0,r.jsx)(O,{})]}))}));var be=function(){return be=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},be.apply(this,arguments)};const ye=a.memo((function(e){var n=e.basePath,t=(0,u.$)().t,i=(0,a.useMemo)((function(){return[{isRoot:!0,name:"overview",text:t("Overview")}]}),[t]);return(0,r.jsxs)("main",be({className:"democracy--App"},{children:[(0,r.jsx)(o.mQ,{basePath:n,items:i}),(0,r.jsx)(s.rs,{children:(0,r.jsx)(s.AW,{children:(0,r.jsx)(xe,{})})})]}))}))},6987:(e,n,t)=>{t.d(n,{$:()=>a});var r=t(61349);function a(){return(0,r.$G)("app-democracy")}},61491:(e,n,t)=>{t.d(n,{Z:()=>l});var r=t(2784),a=t(34814),s=t(90778),o=t(74065),i=t(9118);const l=(0,t(11677).e)("useCounter",(function(){var e,n,t=(0,a.x)().hasAccounts,l=(0,s.h)(),c=l.api,u=l.isApiReady,d=(0,o.X)(),h=(0,i.W7)(u&&t&&(null===(e=c.derive.democracy)||void 0===e?void 0:e.proposals)),p=(0,i.W7)(u&&t&&(null===(n=c.derive.democracy)||void 0===n?void 0:n.referendumsActive)),m=(0,r.useState)(0),f=m[0],v=m[1];return(0,r.useEffect)((function(){d.current&&v(((null==h?void 0:h.length)||0)+((null==p?void 0:p.length)||0))}),[d,h,p]),f}))},54705:(e,n,t)=>{t.d(n,{Z:()=>p});var r=t(52322),a=t(2784),s=t(24732),o=t(90778),i=t(9118),l=t(53598),c=t(95292),u=t(14681),d=t(88057),h=function(){return h=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},h.apply(this,arguments)};const p=a.memo((function(e){var n,t,a=e.className,p=e.withEra,m=void 0===p||p,f=e.withSession,v=void 0===f||f,g=(0,d.$)().t,x=(0,o.h)().api,b=(0,i.W7)(null===(n=x.derive.session)||void 0===n?void 0:n.progress),y=(0,i.W7)(null===(t=x.query.staking)||void 0===t?void 0:t.forceEra),j=g("era"),w=x.query.babe?g("epoch"):g("session"),C=null==b?void 0:b.activeEraStart.unwrapOr(null);return(0,r.jsx)(r.Fragment,{children:x.derive.session&&(0,r.jsxs)(r.Fragment,{children:[v&&(x.query.babe?(0,r.jsx)(s.Jy,{className:a,label:w,progress:{isBlurred:!b,total:(null==b?void 0:b.sessionLength)||c.Jo,value:(null==b?void 0:b.sessionProgress)||c.um,withTime:!0}}):(0,r.jsxs)(s.Jy,h({label:w},{children:["#",b?(0,u.u)(b.currentIndex):(0,r.jsx)("span",h({className:"--tmp"},{children:"123"})),m&&C&&(0,r.jsx)("div",h({className:"isSecondary"},{children:" "}))]}))),m&&(x.query.babe?(0,r.jsx)(s.Jy,{className:a,label:j,progress:{isBlurred:!(b&&y),total:b&&y?y.isForceAlways?b.sessionLength:b.eraLength:c.Jo,value:b&&y?y.isForceAlways?b.sessionProgress:b.eraProgress:c.um,withTime:!0}}):(0,r.jsxs)(s.Jy,h({className:a,label:j},{children:["#",b?(0,u.u)(b.activeEra):(0,r.jsx)("span",h({className:"--tmp"},{children:"123"})),C&&(0,r.jsxs)(l.Z,h({className:"".concat(b?"":"--tmp"," isSecondary"),value:C},{children:[" ",g("elapsed")]}))]})))]})})}))},51406:(e,n,t)=>{t.d(n,{Z:()=>jn});var r,a,s=t(52322),o=t(2784),i=t(7267),l=t(24732),c=t(90778),u=t(75387),d=t(67405),h=t(33661),p=t(47297),m=t(14681),f=function(){return f=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},f.apply(this,arguments)},v={aspectRatio:6,maintainAspectRatio:!0},g=l.zo.div(b||(r=["\n  background: var(--bg-table);\n  border: 1px solid var(--border-table);\n  border-radius: 0.25rem;\n  margin-bottom: 1rem;\n  padding: 1rem 1.5rem;\n"],a=["\n  background: var(--bg-table);\n  border: 1px solid var(--border-table);\n  border-radius: 0.25rem;\n  margin-bottom: 1rem;\n  padding: 1rem 1.5rem;\n"],Object.defineProperty?Object.defineProperty(r,"raw",{value:a}):r.raw=a,b=r));const x=o.memo((function(e){var n=e.className,t=e.colors,r=e.legends,a=e.options,o=e.title,i=e.value,c=i.labels,u=i.values;return(0,s.jsx)(g,f({className:n},{children:(0,s.jsx)(l.kL.Line,{colors:t,labels:c,legends:r,options:a||v,title:o,values:u})}))}));var b,y=t(88057),j=function(){return j=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},j.apply(this,arguments)},w={aspectRatio:6,maintainAspectRatio:!0,scales:{y:{beginAtZero:!0}}},C=["#00448c","#008c44","#acacac"],k=["#008c8c","#00448c","#8c4400","#acacac"],N=l.zo.div(A||(A=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  .container {\n    background: var(--bg-table);\n    border: 1px solid var(--border-table);\n    border-radius: 0.25rem;\n    padding: 1rem 1.5rem;\n  }\n\n  .container+.container {\n    margin-top: 1rem;\n  }\n"],["\n  .container {\n    background: var(--bg-table);\n    border: 1px solid var(--border-table);\n    border-radius: 0.25rem;\n    padding: 1rem 1.5rem;\n  }\n\n  .container+.container {\n    margin-top: 1rem;\n  }\n"])));const O=o.memo((function(e){var n=e.className,t=(0,y.$)().t,r=(0,p.m)(),a=(0,o.useMemo)((function(){return{bytesLegend:[t("sent"),t("recv"),t("average")],errorsLegend:[t("errors")],requestsLegend:[t("total"),t("requests"),t("subscriptions"),t("average")]}}),[t]),i=a.bytesLegend,c=a.requestsLegend,u=(0,o.useMemo)((function(){return function(e){for(var n={labels:[],values:[[],[],[]]},t={labels:[],values:[[]]},r={labels:[],values:[[],[],[],[]]},a=e.reduce((function(e,n){var t=n.stats.active;return e+t.requests+t.subscriptions}),0),s=e[0].stats.total,o=s.bytesRecv,i=s.bytesSent,l=s.errors,c=0,u=1;u<e.length;u++){var d=e[u],h=d.stats,p=h.active,m=p.requests,f=p.subscriptions,v=h.total,g=v.bytesRecv,x=v.bytesSent,b=v.errors,y=d.when,j=new Date(y).toLocaleTimeString();n.labels.push(j),n.values[0].push(x-i),n.values[1].push(g-o),t.labels.push(j),t.values[0].push(b-l),r.labels.push(j),r.values[0].push(m+f),r.values[1].push(m),r.values[2].push(f),r.values[3].push(a/e.length),c+=g-o,l=b,o=g,i=x}var w=c/(e.length-1);for(u=1;u<e.length;u++)n.values[2].push(w);return{bytesChart:n,errorsChart:t,requestsChart:r}}(r)}),[r]),d=u.bytesChart,h=u.requestsChart,f=r[r.length-1],v=f&&r.length>3,g=(0,s.jsx)("span",j({className:"--tmp"},{children:"99"})),b=(0,s.jsx)("span",j({className:"--tmp"},{children:"1,000kB"}));return(0,s.jsxs)(N,j({className:n},{children:[(0,s.jsxs)(l.Ty,{children:[(0,s.jsxs)("section",{children:[(0,s.jsx)(l.Jy,j({label:t("sent")},{children:v?(0,s.jsxs)(s.Fragment,{children:[(0,m.u)(f.stats.total.bytesSent/1024),"kB"]}):b})),(0,s.jsx)(l.Jy,j({label:t("recv")},{children:v?(0,s.jsxs)(s.Fragment,{children:[(0,m.u)(f.stats.total.bytesRecv/1024),"kB"]}):b}))]}),(0,s.jsxs)("section",{children:[(0,s.jsx)(l.Jy,j({label:t("total req")},{children:v?(0,s.jsx)(s.Fragment,{children:(0,m.u)(f.stats.total.requests)}):g})),(0,s.jsx)(l.Jy,j({label:t("total sub")},{children:v?(0,s.jsx)(s.Fragment,{children:(0,m.u)(f.stats.total.subscriptions)}):g}))]})]}),(0,s.jsxs)(l.EK,j({isActive:v},{children:[(0,s.jsx)(x,{colors:k,legends:c,options:w,title:t("requests made"),value:h}),(0,s.jsx)(x,{colors:C,legends:i,options:w,title:t("bytes transferred"),value:d})]}))]}))}));var A,S=t(54383),P=t(74076),I=function(){return I=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},I.apply(this,arguments)};function E(e){return{isValid:(0,P.vq)(e,256)||/^\d+$/.test(e),value:e}}var M=(0,l.zo)(l.lm)(z||(z=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  .explorer--query {\n    width: 20em;\n  }\n"],["\n  .explorer--query {\n    width: 20em;\n  }\n"])));const T=o.memo((function(e){var n=e.className,t=void 0===n?"":n,r=e.value,a=(0,y.$)().t,i=(0,o.useState)((function(){return E(r||"")})),c=i[0],u=c.isValid,d=c.value,h=i[1],p=(0,o.useCallback)((function(e){return h(E(e))}),[]),m=(0,o.useCallback)((function(){u&&0!==d.length&&(window.location.hash="/explorer/query/".concat(d))}),[u,d]);return(0,s.jsx)(M,I({className:"".concat(t," ui--FilterOverlay hasOwnMaxWidth")},{children:(0,s.jsx)(l.II,I({className:"explorer--query",defaultValue:r,isError:!u&&0!==d.length,onChange:p,onEnter:m,placeholder:a("block hash or number to query"),withLabel:!1},{children:(0,s.jsx)(l.zx,{icon:"play",onClick:m})}))}))}));var z,D=t(26643),F=t(74065),B=t(56949),R=function(){return R=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},R.apply(this,arguments)};const V=o.memo((function(e){var n=e.className,t=void 0===n?"":n,r=e.value.event,a="".concat(r.section,".").concat(r.method);return(0,s.jsx)(l.xH,R({className:t,isLeft:!0,summary:a,summaryMeta:r.meta},{children:r.data.length?(0,s.jsx)(l.ju,{className:"details",eventName:a,value:r,withExpander:!0}):null}))}));var L=function(){return L=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},L.apply(this,arguments)};const H=o.memo((function(e){var n=e.className,t=void 0===n?"":n,r=e.emptyLabel,a=e.error,i=e.eventClassName,c=e.events,u=e.label,d=(0,y.$)().t,h=(0,o.useMemo)((function(){return[[u||d("recent events"),"start"]]}),[u,d]);return(0,s.jsx)(l.iA,L({className:t,empty:r||d("No events available"),header:h},{children:a?(0,s.jsx)("tr",L({className:i},{children:(0,s.jsx)("td",{children:(0,s.jsx)(l.oy,{content:d("Unable to decode the block events. {{error}}",{replace:{error:a.message}})})})}),"error"):c&&c.map((function(e){return function(e,n){var t=n.blockHash,r=n.blockNumber,a=n.indexes,o=n.key,i=n.record;return(0,s.jsx)("tr",L({className:e},{children:(0,s.jsxs)("td",L({className:"overflow relative"},{children:[(0,s.jsx)(V,{value:i}),r&&(0,s.jsxs)("div",L({className:"absolute --digits"},{children:[1!==a.length&&(0,s.jsxs)("span",{children:[(0,m.u)(a.length),"x "]}),(0,s.jsxs)(D.rU,L({to:"/explorer/query/".concat(t||"")},{children:[(0,m.u)(r),"-",a[0].toString().padStart(2,"0")]}))]}))]}))}),o)}(i,e)}))}))}));var q=t(48801),_=t.n(q),W=function(){return W=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},W.apply(this,arguments)},G=new(_())(1e4),Z=l.zo.tr(J||(J=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  .explorer--BlockByHash-event+.explorer--BlockByHash-event {\n    margin-top: 0.75rem;\n  }\n\n  .explorer--BlockByHash-nonce {\n    font-size: var(--font-size-small);\n    margin-left: 2.25rem;\n    margin-top: -0.5rem;\n    opacity: var(--opacity-light);\n    text-align: left;\n  }\n\n  .explorer--BlockByHash-unsigned {\n    opacity: var(--opacity-light);\n    font-weight: var(--font-weight-normal);\n  }\n\n  a.isDecoded {\n    display: block;\n    margin-top: 0.25rem;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n"],["\n  .explorer--BlockByHash-event+.explorer--BlockByHash-event {\n    margin-top: 0.75rem;\n  }\n\n  .explorer--BlockByHash-nonce {\n    font-size: var(--font-size-small);\n    margin-left: 2.25rem;\n    margin-top: -0.5rem;\n    opacity: var(--opacity-light);\n    text-align: left;\n  }\n\n  .explorer--BlockByHash-unsigned {\n    opacity: var(--opacity-light);\n    font-weight: var(--font-weight-normal);\n  }\n\n  a.isDecoded {\n    display: block;\n    margin-top: 0.25rem;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n"])));const U=o.memo((function(e){var n,t=e.blockNumber,r=e.className,a=void 0===r?"":r,i=e.events,c=e.index,u=e.maxBlockWeight,d=e.value,h=e.withLink,p=(0,y.$)().t,f=(0,o.useMemo)((function(){return h?"#/extrinsics/decode/".concat(d.toHex()):null}),[d,h]),v=(0,o.useMemo)((function(){return d.registry.findMetaCall(d.callIndex)}),[d]),g=v.method,x=v.section,b=(0,o.useMemo)((function(){return"timestamp"===x&&"set"===g?new Date(d.args[0].unwrap().toNumber()):void 0}),[g,x,d]),j=(0,o.useMemo)((function(){if(d.isSigned){var e=function(e,n){var t=e.era;if(n&&t.isMortalEra){var r=t.asMortalEra;return[r.birth(n.toNumber()),r.death(n.toNumber())]}return null}(d,t);return e?p("mortal, valid from #{{startAt}} to #{{endsAt}}",{replace:{endsAt:(0,m.u)(e[1]),startAt:(0,m.u)(e[0])}}):p("immortal")}}),[t,p,d]),w=(0,o.useMemo)((function(){return function(e,n,t){var r=n?n.filter((function(n){var t=n.record.phase;return t.isApplyExtrinsic&&t.asApplyExtrinsic.eq(e)})):[],a=r.find((function(e){var n=e.record.event,t=n.method;return"system"===n.section&&["ExtrinsicFailed","ExtrinsicSuccess"].includes(t)})),s=a?"ExtrinsicSuccess"===a.record.event.method?a.record.event.data[0]:a.record.event.data[1]:void 0,o=s&&(0,B.ZQ)(s.weight);return[s,o&&o.v1Weight,o&&t?o.v1Weight.mul(G).div(t).toNumber()/100:0,r]}(c,i,u)}),[c,i,u]),C=w[1],k=w[2],N=w[3];return(0,s.jsxs)(Z,W({className:a},{children:[(0,s.jsxs)("td",W({className:"top",colSpan:2},{children:[(0,s.jsx)(l.Uv,{className:"details",mortality:j,tip:null===(n=d.tip)||void 0===n?void 0:n.toBn(),value:d,withHash:!0,withSignature:!0}),f&&(0,s.jsx)("a",W({className:"isDecoded",href:f,rel:"noreferrer"},{children:f}))]})),(0,s.jsx)("td",W({className:"top media--1000",colSpan:2},{children:N.map((function(e){var n=e.key,t=e.record;return(0,s.jsx)(V,{className:"explorer--BlockByHash-event",value:t},n)}))})),(0,s.jsx)("td",W({className:"top number media--1400"},{children:C&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(s.Fragment,{children:(0,m.u)(C)}),(0,s.jsxs)("div",{children:[k.toFixed(2),"%"]})]})})),(0,s.jsx)("td",W({className:"top media--1200"},{children:d.isSigned?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.ax,{value:d.signer}),(0,s.jsxs)("div",W({className:"explorer--BlockByHash-nonce"},{children:[p("index")," ",(0,m.u)(d.nonce)]})),(0,s.jsx)(l.NR,{data:d.hash.toHex(),type:"extrinsic"})]}):b?b.toLocaleString():null}))]}),"extrinsic:".concat(c))}));var J,Q=function(){return Q=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Q.apply(this,arguments)};const Y=o.memo((function(e){var n=e.blockNumber,t=e.className,r=void 0===t?"":t,a=e.events,i=e.label,c=e.maxBlockWeight,u=e.value,d=e.withLink,h=(0,y.$)().t,p=(0,o.useMemo)((function(){return[[i||h("extrinsics"),"start",2],[h("events"),"start media--1000",2],[h("weight"),"media--1400"],[void 0,"address media--1200"]]}),[i,h]);return(0,s.jsx)(l.iA,Q({className:r,empty:h("No extrinsics available"),header:p,isFixed:!0},{children:u&&u.map((function(e,t){return(0,s.jsx)(U,{blockNumber:n,events:a,index:t,maxBlockWeight:c,value:e,withLink:d},"extrinsic:".concat(t))}))}))}));var K=t(87418),X=t(6046),$=function(){return $=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},$.apply(this,arguments)};const ee=o.memo((function(e){var n=e.value,t=(0,y.$)().t,r=(0,o.useRef)([[t("justifications"),"start"]]),a=n.unwrapOr(null);return a?(0,s.jsx)(l.iA,$({empty:t("No justifications available"),header:r.current},{children:null==a?void 0:a.map((function(e,n){return(0,s.jsx)("tr",{children:(0,s.jsx)("td",$({className:"overflow"},{children:(0,s.jsx)(l.xH,$({summary:e[0].toString()},{children:(t=e,r=t.Types.map((function(e){return{type:(0,X.s)(e)}})),a=t.toArray().map((function(e){return{isValid:!0,value:e}})),(0,s.jsx)(K.Z,{isDisabled:!0,params:r,values:a,withExpander:!0}))}))}))},"justification:".concat(n));var t,r,a}))})):null}));var ne=t(45409),te=t(71285),re=t(54436),ae=t(49754),se=function(){return se=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},se.apply(this,arguments)};function oe(e){return e.value instanceof ne.A?(t=e.value,r=Object.entries(t.Type).map((function(e){var n=e[0],t=e[1];return{name:n,type:(0,X.s)(t)}})),a=t.toArray().map((function(e){return{isValid:!0,value:e}})),(0,s.jsx)(K.Z,{isDisabled:!0,params:r,values:a,withExpander:!0})):e.value instanceof te.p?function(e){var n=e.Types.map((function(e){return{type:(0,X.s)(e)}})),t=e.toArray().map((function(e){return{isValid:!0,value:e}}));return(0,s.jsx)(K.Z,{isDisabled:!0,params:n,values:t,withExpander:!0})}(e.value):e.value instanceof re.B?function(e){var n=(0,X.s)(e.Type),t=e.toArray().map((function(e){return{isValid:!0,value:e}})),r=t.map((function(e,t){return{name:"".concat(t),type:n}}));return(0,s.jsx)(K.Z,{isDisabled:!0,params:r,values:t,withExpander:!0})}(e.value):e.value instanceof ae.N?(n=e.value,(0,s.jsx)(K.Z,{isDisabled:!0,params:[{type:(0,X.s)("Bytes")}],values:[{isValid:!0,value:n}],withExpander:!0})):(0,s.jsx)("div",{children:e.value.toString().split(",").join(", ")});var n,t,r,a}const ie=o.memo((function(e){var n=e.value,t=(0,y.$)().t,r=(0,o.useRef)([[t("logs"),"start"]]);return(0,s.jsx)(l.iA,se({empty:t("No logs available"),header:r.current},{children:null==n?void 0:n.map((function(e,n){return(0,s.jsx)("tr",{children:(0,s.jsx)("td",se({className:"overflow"},{children:(0,s.jsx)(l.xH,se({isLeft:!0,summary:e.type.toString()},{children:oe(e)}))}))},"log:".concat(n))}))}))}));var le=t(58607),ce=t(95292),ue=function(){return ue=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},ue.apply(this,arguments)};const de=o.memo((function(e){var n=e.events,t=e.maxBlockWeight,r=e.signedBlock,a=(0,y.$)().t,i=(0,c.h)().api,u=(0,o.useMemo)((function(){return function(e){return e?e.reduce((function(e,n){var t=e[0],r=e[1],a=e[2],s=n.record.event,o=s.data,i=s.method,l=s.section;return["balances"===l&&"Deposit"===i?t.iadd(o[1]):t,"balances"===l&&"Transfer"===i?r.iadd(o[2]):r,"system"===l&&["ExtrinsicFailed","ExtrinsicSuccess"].includes(i)?a.iadd((0,B.ZQ)(("ExtrinsicSuccess"===i?o[0]:o[1]).weight).v1Weight):a]}),[new(_())(0),new(_())(0),new(_())(0)]):[]}(n)}),[n]),d=u[0],h=u[1],p=u[2];return(0,s.jsxs)(l.Ty,{children:[(0,s.jsx)("section",{children:i.query.balances&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Jy,ue({label:a("deposits")},{children:(0,s.jsx)(le.Z,{className:d?"":"--tmp",value:d||ce.If})})),(0,s.jsx)(l.Jy,ue({className:"media--1000",label:a("transfers")},{children:(0,s.jsx)(le.Z,{className:h?"":"--tmp",value:h||ce.If})}))]})}),(0,s.jsx)("section",{children:(0,s.jsx)(l.Jy,ue({label:a("block weight"),progress:{hideValue:!0,isBlurred:!(t&&p),total:t&&p?t:ce.Jo,value:t&&p?p:ce.um}},{children:p?(0,m.u)(p):(0,s.jsx)("span",ue({className:"--tmp"},{children:"999,999,999"}))}))}),(0,s.jsxs)("section",ue({className:"media--900"},{children:[(0,s.jsx)(l.Jy,ue({label:a("event count")},{children:n?(0,m.u)(n.length):(0,s.jsx)("span",ue({className:"--tmp"},{children:"99"}))})),(0,s.jsx)(l.Jy,ue({label:a("extrinsic count")},{children:r?(0,m.u)(r.block.extrinsics.length):(0,s.jsx)("span",ue({className:"--tmp"},{children:"99"}))}))]}))]})}));var he=function(){return he=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},he.apply(this,arguments)},pe=[["...","start",6]];const me=o.memo((function(e){var n=e.className,t=void 0===n?"":n,r=e.error,a=e.value,i=(0,y.$)().t,u=(0,c.h)().api,d=(0,F.X)(),h=(0,o.useState)({}),p=h[0],f=p.events,v=p.getBlock,g=p.getHeader,x=p.runtimeVersion,b=h[1],j=(0,o.useState)(r),w=j[0],C=j[1],k=(0,o.useState)(),N=k[0],O=k[1],A=(0,o.useMemo)((function(){return[!!x&&u.runtimeVersion.specName.eq(x.specName)&&u.runtimeVersion.specVersion.eq(x.specVersion),u.consts.system.blockWeights&&u.consts.system.blockWeights.maxBlock&&(0,B.ZQ)(u.consts.system.blockWeights.maxBlock).v1Weight]}),[u,x]),S=A[0],P=A[1];(0,o.useEffect)((function(){r&&C(r)}),[r]);var I=(0,o.useMemo)((function(){return f&&f.filter((function(e){return!e.record.phase.isApplyExtrinsic}))}),[f]);(0,o.useEffect)((function(){a&&Promise.all([u.at(a).then((function(e){return Promise.all([Promise.resolve(e.runtimeVersion),e.query.system.events().catch((function(e){return d.current&&O(e),null}))])})),u.rpc.chain.getBlock(a),u.derive.chain.getHeader(a)]).then((function(e){d.current&&b(function(e){var n=e[0],t=n[0],r=n[1],a=e[1],s=e[2];return{events:r&&r.map((function(e,n){return{indexes:[n],key:"".concat(Date.now(),"-").concat(n,"-").concat(e.hash.toHex()),record:e}})),getBlock:a,getHeader:s,runtimeVersion:t}}(e))})).catch((function(e){d.current&&C(e)}))}),[u,d,a]);var E=(0,o.useMemo)((function(){return g?[[(0,m.u)(g.number.unwrap()),"start --digits",1],[i("hash"),"start"],[i("parent"),"start"],[i("extrinsics"),"start media--1300"],[i("state"),"start media--1200"],[x?"".concat(x.specName.toString(),"/").concat(x.specVersion.toString()):void 0,"media--1000"]]:pe}),[g,x,i]),M=null==g?void 0:g.number.unwrap(),T=null==g?void 0:g.parentHash.toHex(),z=!(null==g?void 0:g.parentHash.isEmpty);return(0,s.jsxs)("div",he({className:t},{children:[(0,s.jsx)(de,{events:f,maxBlockWeight:P,signedBlock:v}),(0,s.jsx)(l.iA,he({header:E},{children:w?(0,s.jsx)("tr",{children:(0,s.jsx)("td",he({colSpan:6},{children:(0,s.jsx)(l.oy,{content:i("Unable to retrieve the specified block details. {{error}}",{replace:{error:w.message}})})}))}):v&&g&&!v.isEmpty&&!g.isEmpty&&(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",he({className:"address"},{children:g.author&&(0,s.jsx)(l.N,{value:g.author})})),(0,s.jsx)("td",he({className:"hash overflow"},{children:g.hash.toHex()})),(0,s.jsx)("td",he({className:"hash overflow"},{children:z?(0,s.jsx)(D.rU,he({to:"/explorer/query/".concat(T||"")},{children:T})):T})),(0,s.jsx)("td",he({className:"hash overflow media--1300"},{children:g.extrinsicsRoot.toHex()})),(0,s.jsx)("td",he({className:"hash overflow media--1200"},{children:g.stateRoot.toHex()})),(0,s.jsx)("td",he({className:"media--1000"},{children:a&&(0,s.jsx)(l.NR,{data:a,type:"block"})}))]})})),v&&g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Y,{blockNumber:M,events:f,maxBlockWeight:P,value:v.block.extrinsics,withLink:S}),(0,s.jsxs)(l.P0,{children:[(0,s.jsx)(l.P0.Column,{children:(0,s.jsx)(H,{error:N,eventClassName:"explorer--BlockByHash-block",events:I,label:i("system events")})}),(0,s.jsxs)(l.P0.Column,{children:[(0,s.jsx)(ie,{value:g.digest.logs}),(0,s.jsx)(ee,{value:v.justifications})]})]})]})]}))})),fe=o.memo((function(e){var n=e.value,t=(0,c.h)().api,r=(0,o.useState)(null),a=r[0],i=r[1],l=(0,F.X)(),u=(0,o.useState)(null),d=u[0],h=u[1];return(0,o.useEffect)((function(){t.rpc.chain.getBlockHash(n).then((function(e){l.current&&i(e)})).catch((function(e){console.error(1),l.current&&h(e)}))}),[t,l,n]),(0,s.jsx)(me,{error:d,value:a?a.toHex():null})})),ve=o.memo((function(){var e=(0,S.C)(),n=(0,i.UO)().value,t=(0,o.useState)(n),r=t[0],a=t[1];if((0,o.useEffect)((function(){a((function(t){return n&&n!==t?n:!t&&e?e.toString():t}))}),[e,n]),!r)return null;var l=(0,P.vq)(r)?me:fe;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(T,{}),(0,s.jsx)(l,{value:r},r)]})}));var ge=function(){return ge=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},ge.apply(this,arguments)};function xe(e){return Math.max(1,e.reduce((function(e,n){return e+n.hdr.width}),0))}function be(e){return e.reduce((function(e,n){var t=n.arr,r=n.hdr;return r.height=r.isEmpty?0:1+be(t),Math.max(e,r.height)}),0)}function ye(e){var n=e.hdr;return{author:n.author,hash:n.hash,isEmpty:n.isEmpty,isFinalized:n.isFinalized,parent:n.parent,width:n.width}}function je(e){return e.length?je(e.reduce((function(e,n){var t=n.arr;return e.concat.apply(e,t)}),[])).concat({bn:e.reduce((function(e,n){var t=n.hdr.bn;return e||t}),""),cols:e.map(ye)}):[]}function we(e,n,t,r,a){return void 0===a&&(a=!1),{author:r,bn:e,hash:n,height:0,isEmpty:a,isFinalized:!1,parent:t,width:0}}function Ce(){return{arr:[],hdr:we(""," "," ",null,!0)}}function ke(e){e.some((function(e){return 0!==e.arr.length}))&&(e.filter((function(e){return 0===e.arr.length})).forEach((function(e){return e.arr.push(Ce())})),ke(e.reduce((function(e,n){var t=n.arr;return e.concat.apply(e,t)}),[])))}function Ne(e){return!(!e[0]||e[0].isEmpty)&&e.reduce((function(e,n,t){return(0===t||!!n.isEmpty)&&e}),!0)}function Oe(e,n){var t=e.author,r=e.hash,a=e.isEmpty,o=e.isFinalized,i=e.parent,c=e.width;return(0,s.jsx)("td",ge({className:"header ".concat(a?"isEmpty":""," ").concat(o?"isFinalized":""),colSpan:c},{children:a?(0,s.jsx)("div",{className:"empty"}):(0,s.jsxs)(s.Fragment,{children:[t&&(0,s.jsx)(l.k,{className:"author",size:28,value:t}),(0,s.jsxs)("div",ge({className:"contents"},{children:[(0,s.jsx)("div",ge({className:"hash"},{children:r})),(0,s.jsx)("div",ge({className:"parent"},{children:i}))]}))]})}),"".concat(r,":").concat(n,":").concat(c))}var Ae=l.zo.div(Pe||(Pe=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  margin-bottom: 1.5rem;\n\n  table {\n    border-collapse: separate;\n    border-spacing: 0.25rem;\n    font: var(--font-mono);\n\n    td {\n      padding: 0.25rem 0.5rem;\n      text-align: center;\n\n      .author,\n      .contents {\n        display: inline-block;\n        vertical-align: middle;\n      }\n\n      .author {\n        margin-right: 0.25rem;\n      }\n\n      .contents {\n        .hash, .parent {\n          margin: 0 auto;\n          max-width: 6rem;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n        }\n\n        .parent {\n          font-size: var(--font-size-small);\n          line-height: 0.75rem;\n          max-width: 4.5rem;\n        }\n      }\n\n      &.blockNumber {\n        font-size: 1.25rem;\n      }\n\n      &.header {\n        background: #fff;\n        border: 1px solid #e6e6e6;\n        border-radius: 0.25rem;\n\n        &.isEmpty {\n          background: transparent;\n          border-color: transparent;\n        }\n\n        &.isFinalized {\n          background: rgba(0, 255, 0, 0.1);\n        }\n\n        &.isLink {\n          background: transparent;\n          border-color: transparent;\n          line-height: 1rem;\n          padding: 0;\n        }\n\n        &.isMissing {\n          background: rgba(255, 0, 0, 0.05);\n        }\n      }\n    }\n  }\n"],["\n  margin-bottom: 1.5rem;\n\n  table {\n    border-collapse: separate;\n    border-spacing: 0.25rem;\n    font: var(--font-mono);\n\n    td {\n      padding: 0.25rem 0.5rem;\n      text-align: center;\n\n      .author,\n      .contents {\n        display: inline-block;\n        vertical-align: middle;\n      }\n\n      .author {\n        margin-right: 0.25rem;\n      }\n\n      .contents {\n        .hash, .parent {\n          margin: 0 auto;\n          max-width: 6rem;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n        }\n\n        .parent {\n          font-size: var(--font-size-small);\n          line-height: 0.75rem;\n          max-width: 4.5rem;\n        }\n      }\n\n      &.blockNumber {\n        font-size: 1.25rem;\n      }\n\n      &.header {\n        background: #fff;\n        border: 1px solid #e6e6e6;\n        border-radius: 0.25rem;\n\n        &.isEmpty {\n          background: transparent;\n          border-color: transparent;\n        }\n\n        &.isFinalized {\n          background: rgba(0, 255, 0, 0.1);\n        }\n\n        &.isLink {\n          background: transparent;\n          border-color: transparent;\n          line-height: 1rem;\n          padding: 0;\n        }\n\n        &.isMissing {\n          background: rgba(255, 0, 0, 0.05);\n        }\n      }\n    }\n  }\n"])));const Se=o.memo((function(e){var n,t,r,a=this,i=e.className,u=(0,y.$)().t,d=(0,c.h)().api,h=(0,o.useState)(null),p=h[0],f=h[1],v=(0,o.useRef)(new Map([["root",[]]])),g=(0,o.useRef)({numBlocks:0,numForks:0}),x=(0,o.useRef)(new Map),b=(0,o.useRef)(""),j=(0,o.useCallback)((function(e){var n=x.current.get(e);n&&!n.isFinalized&&(n.isFinalized=!0,j(n.parent))}),[]),w=(0,o.useCallback)((function(e,n){return(v.current.get(e.hash)||[]).map((function(e){return x.current.get(e)})).filter((function(e){return!!e})).forEach((function(e){n.push({arr:w(e,[]),hdr:e})})),e.height=be(n),e.width=xe(n),n.sort((function(e,n){return e.hdr.width>n.hdr.width||e.hdr.height>n.hdr.height||e.hdr.isFinalized?-1:e.hdr.width<n.hdr.width||e.hdr.height<n.hdr.height||n.hdr.isFinalized?1:0})),n}),[]),C=(0,o.useCallback)((function(){var e=Ce();return(v.current.get("root")||[]).forEach((function(n){var t=x.current.get(n);t&&e.arr.push({arr:[],hdr:ge({},t)})})),e.arr.forEach((function(e){var n=e.arr,t=e.hdr;w(t,n)})),ke(e.arr),e.hdr.height=be(e.arr),e.hdr.width=xe(e.arr),e}),[w]),k=(0,o.useCallback)((function(e){j(e.hash.toHex())}),[j]),N=(0,o.useCallback)((function(e){var n=(0,m.u)(e.number),t=e.hash.toHex(),r=e.parentHash.toHex(),a=!1;if(b.current||(b.current=n),!x.current.has(t)){if(b.current===n&&v.current.get("root").push(t),x.current.set(t,we(n,t,r,null)),v.current.has(r)?(a=!0,v.current.get(r).push(t)):v.current.set(r,[t]),!x.current.has(r)&&b.current!==n)return console.warn("Retrieving missing header ".concat(e.parentHash.toHex())),void d.rpc.chain.getHeader(e.parentHash).then(N).catch(console.error);g.current.numBlocks++,a&&g.current.numForks++,f(C())}}),[d,C]);return(0,o.useEffect)((function(){var e,n,t,r,s=null,o=null;return(e=a,n=void 0,t=Promise,r=function(){return function(e,n){var t,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=n.call(e,o)}catch(e){i=[6,e],r=0}finally{t=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(e){switch(e.label){case 0:return[4,d.rpc.chain.subscribeFinalizedHeads(k)];case 1:return s=e.sent(),[4,d.rpc.chain.subscribeNewHeads(N)];case 2:return o=e.sent(),[2]}}))},new(t||(t=Promise))((function(a,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function i(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,i)}l((r=r.apply(e,n||[])).next())}))).catch(console.error),function(){s&&s(),o&&o()}}),[d,k,N]),p?(0,s.jsxs)(Ae,ge({className:i},{children:[(0,s.jsx)(l.Ty,{children:(0,s.jsxs)("section",{children:[(0,s.jsx)(l.Jy,ge({label:u("blocks")},{children:(0,m.u)(g.current.numBlocks)})),(0,s.jsx)(l.Jy,ge({label:u("forks")},{children:(0,m.u)(g.current.numForks)}))]})}),(0,s.jsx)("table",{children:(0,s.jsx)("tbody",{children:(n=je(p.arr),t=n.length-1,r=!1,n.map((function(e,a){var o=e.bn,i=e.cols;if(0!==a&&a!==t&&Ne(i)){if(r)return null;if(Ne(n[a-1].cols))return r=!0,(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{},"blockNumber"),(0,s.jsx)("td",ge({className:"header isLink",colSpan:i[0].width},{children:(0,s.jsx)("div",ge({className:"link"},{children:"⋮"}))}))]},o)}return r=!1,(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"#".concat(o)},"blockNumber"),i.map(Oe)]},o)})))})})]})):null}));var Pe,Ie=t(17965),Ee=t(9118),Me=t(11677),Te=function(e,n,t,r){return new(t||(t=Promise))((function(a,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function i(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,i)}l((r=r.apply(e,n||[])).next())}))},ze=function(e,n){var t,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=n.call(e,o)}catch(e){i=[6,e],r=0}finally{t=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},De=function(e,n,t){if(t||2===arguments.length)for(var r,a=0,s=n.length;a<s;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))},Fe={details:[],isLoaded:!1,maxItems:50,stdDev:0,timeAvg:0,timeMax:0,timeMin:0};function Be(e){for(var n=e.sort((function(e,n){return e.block.number-n.block.number})).filter((function(n,t){var r=n.block;return 0===t||r.number>e[t-1].block.number})),t=0;t<n.length-1;t++){var r=n[t],a=n[t+1];a.block.number-r.block.number==1&&0===a.delay&&(a.delay=a.now-r.now)}return n.slice(-50)}function Re(e,n){var t=n.block,r=n.events,a=function(e){return e.extrinsics.find((function(e){var n=e.method,t=n.method,r=n.section;return"set"===t&&"timestamp"===r}))}(t);return a?De(De([],e,!0),[{block:{bytes:t.encodedLength,number:t.header.number.toNumber()},delay:0,events:{count:r.length,system:r.filter((function(e){return!e.phase.isApplyExtrinsic})).length},extrinsics:{bytes:t.extrinsics.reduce((function(e,n){return e+n.encodedLength}),0),count:t.extrinsics.length},now:a.args[0].toNumber(),parentHash:t.header.parentHash}],!1):e}function Ve(e,n){return n.reduce((function(e,n){return Re(e,n)}),e)}function Le(e,n){return Te(this,void 0,Promise,(function(){return ze(this,(function(t){switch(t.label){case 0:return n.length?[4,Promise.all(n.map((function(n){return e.derive.chain.getBlockByNumber(n)})))]:[2,[]];case 1:return[2,t.sent().filter((function(e){return!!e}))]}}))}))}const He=(0,Me.e)("useLatency",(function(){var e=(0,c.h)().api,n=(0,o.useState)([]),t=n[0],r=n[1],a=(0,Ee.W7)(e.derive.chain.subscribeNewBlocks),s=(0,o.useRef)(!1);return(0,o.useEffect)((function(){a&&(r((function(e){return Be(Re(e,a))})),s.current||(s.current=!0,function(e,n){var t=n.block.header;return Te(this,void 0,Promise,(function(){var n,r,a;return ze(this,(function(s){for(n=[],r=t.number.toNumber(),a=1;r>0&&a<=50;a++)n.push(--r);return[2,Le(e,n)]}))}))}(e,a).then((function(e){return r((function(n){return Be(Ve(n,e))}))})).catch(console.error)))}),[e,a]),(0,o.useEffect)((function(){if(!(t.length<=2)){var n=t.findIndex((function(e,n){var r=e.block;return n!==t.length-1&&t[n+1].block.number-r.number>1}));-1!==n&&function(e,n,t){var r=n.block.number,a=t.block.number;return Te(this,void 0,Promise,(function(){var n,t;return ze(this,(function(s){for(n=[],t=r+1;t<a;t++)n.push(t);return[2,Le(e,n)]}))}))}(e,t[n],t[n+1]).then((function(e){return r((function(n){return Be(Ve(n,e))}))})).catch(console.error)}}),[e,t]),(0,o.useMemo)((function(){var e=t.map((function(e){return e.delay})).filter((function(e){return e}));if(!e.length)return Fe;var n=e.reduce((function(e,n){return e+n}),0)/e.length,r=Math.sqrt(e.reduce((function(e,t){return e+Math.pow(n-t,2)}),0)/e.length);return{details:t,isLoaded:50===t.length,maxItems:50,stdDev:r,timeAvg:n,timeMax:Math.max.apply(Math,e),timeMin:Math.min.apply(Math,e)}}),[t])}));var qe=function(){return qe=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},qe.apply(this,arguments)},_e=["times","blocks","extrinsics","events"],We={blocks:["#008c8c","#acacac"],events:["#00448c","#8c0044","#acacac"],extrinsics:["#448c00","#acacac"],times:["#8c8c00","#acacac"]};function Ge(e,n){return void 0===n&&(n=1e3),(0,s.jsxs)("span",qe({className:"--digits"},{children:["".concat((e/n).toFixed(3)),(0,s.jsx)("span",qe({className:"postfix"},{children:" s"}))]}))}var Ze=l.zo.div(Je||(Je=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  .container {\n    background: var(--bg-table);\n    border: 1px solid var(--border-table);\n    border-radius: 0.25rem;\n    padding: 1rem 1.5rem;\n  }\n\n  .container+.container {\n    margin-top: 1rem;\n  }\n\n  span.--digits {\n    .postfix {\n      font-size: var(--font-percent-tiny);\n    }\n  }\n"],["\n  .container {\n    background: var(--bg-table);\n    border: 1px solid var(--border-table);\n    border-radius: 0.25rem;\n    padding: 1rem 1.5rem;\n  }\n\n  .container+.container {\n    margin-top: 1rem;\n  }\n\n  span.--digits {\n    .postfix {\n      font-size: var(--font-percent-tiny);\n    }\n  }\n"])));const Ue=o.memo((function(e){var n=e.className,t=(0,y.$)().t,r=He(),a=r.details,i=r.isLoaded,c=r.maxItems,u=r.stdDev,d=r.timeAvg,h=r.timeMax,p=r.timeMin,f=(0,o.useState)((function(){return new Array(_e.length).fill(!1)})),v=f[0],g=f[1];(0,o.useEffect)((function(){if(i){var e=v.findIndex((function(e){return!e}));-1!==e&&(0,Ie.Y)((function(){return g(v.map((function(n,t){return t===e||n})))}))}}),[i,v]);var b=(0,o.useMemo)((function(){return function(e,n){for(var t={labels:[],values:[[],[]]},r={labels:[],values:[[],[],[]]},a={labels:[],values:[[],[]]},s={labels:[],values:[[],[]]},o=e.reduce((function(e,n){return e+n.events.count}),0),i=e.reduce((function(e,n){return e+n.extrinsics.count}),0),l=e.reduce((function(e,n){return e+n.block.bytes}),0),c=0;c<e.length;c++){var u=(0,m.u)(e[c].block.number);t.labels.push(u),t.values[0].push(e[c].block.bytes),t.values[1].push(l/e.length),r.labels.push(u),r.values[0].push(e[c].events.count),r.values[1].push(e[c].events.system),r.values[2].push(o/e.length),a.labels.push(u),a.values[0].push(e[c].extrinsics.count),a.values[1].push(i/e.length)}var d=e.filter((function(e){return e.delay})),h=n*d.length;for(c=0;c<d.length;c++)s.labels.push((0,m.u)(d[c].block.number)),s.values[0].push(d[c].delay/1e3),s.values[1].push(h/d.length/1e3);return{blockLast:s.values[0][s.values[0].length-1],blocks:t,events:r,extrinsics:a,times:s}}(a,d)}),[a,d]),j=(0,o.useMemo)((function(){return[{blocks:[t("bytes"),t("average")],events:[t("events"),t("system"),t("average")],extrinsics:[t("extrinsics"),t("average")],times:[t("blocktime"),t("average")]},{blocks:t("blocksize (last {{n}} blocks)",{replace:{n:c}}),events:t("events (last {{n}} blocks)",{replace:{n:c}}),extrinsics:t("extrinsics (last {{n}} blocks)",{replace:{n:c}}),times:t("blocktimes (last {{n}} blocks)",{replace:{n:c}})}]}),[c,t]),w=j[0],C=j[1],k=(0,s.jsxs)("span",qe({className:"--tmp --digits"},{children:["0.000 ",(0,s.jsx)("span",qe({className:"postfix"},{children:"s"}))]}));return(0,s.jsxs)(Ze,qe({className:n},{children:[(0,s.jsxs)(l.Ty,{children:[(0,s.jsxs)("section",{children:[(0,s.jsx)(l.Jy,qe({label:t("avg")},{children:i?Ge(d):k})),(0,s.jsx)(l.Jy,qe({className:"media--1000",label:t("std dev")},{children:i?Ge(u):k}))]}),(0,s.jsxs)("section",{children:[(0,s.jsx)(l.Jy,qe({label:t("min")},{children:i?Ge(p):k})),(0,s.jsx)(l.Jy,qe({label:t("max")},{children:i?Ge(h):k}))]}),(0,s.jsx)(l.Jy,qe({label:t("last")},{children:i?Ge(b.blockLast,1):k}))]}),(0,s.jsx)(l.EK,qe({isActive:i},{children:_e.map((function(e){return(0,s.jsx)(x,{colors:We[e],legends:w[e],title:C[e],value:b[e]},e)}))}))]}))}));var Je,Qe=function(){return Qe=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Qe.apply(this,arguments)};const Ye=o.memo((function(e){var n=e.value;if(!n)return null;var t=n.hash.toHex();return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",Qe({className:"number"},{children:(0,s.jsx)("h4",Qe({className:"--digits"},{children:(0,s.jsx)(D.rU,Qe({to:"/explorer/query/".concat(t)},{children:(0,m.u)(n.number)}))}))})),(0,s.jsx)("td",Qe({className:"all hash overflow"},{children:t})),(0,s.jsx)("td",Qe({className:"address"},{children:n.author&&(0,s.jsx)(l.N,{value:n.author})}))]})}));var Ke=function(){return Ke=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Ke.apply(this,arguments)};const Xe=o.memo((function(e){var n=e.headers,t=(0,y.$)().t,r=(0,o.useRef)([[t("recent blocks"),"start",3]]);return(0,s.jsx)(l.iA,Ke({empty:t("No blocks available"),header:r.current},{children:n.filter((function(e){return!!e})).map((function(e){return(0,s.jsx)(Ye,{value:e},e.number.toString())}))}))}));var $e=t(67634),en=t(65874),nn=t(79608),tn=t(96916),rn=t(26839),an=t(95689),sn=t(54705),on=function(){return on=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},on.apply(this,arguments)};const ln=o.memo((function(e){var n=e.eventCount,t=(0,y.$)().t,r=(0,c.h)().api;return(0,s.jsxs)(l.Ty,{children:[(0,s.jsxs)("section",{children:[r.query.timestamp&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Jy,on({label:t("last block")},{children:(0,s.jsx)($e.Z,{})})),(0,s.jsx)(l.Jy,on({className:"media--800",label:t("target")},{children:(0,s.jsx)(en.Z,{value:ce.If})}))]}),r.query.balances&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Jy,on({className:"media--800",label:t("total issuance")},{children:(0,s.jsx)(nn.Z,{})})),!!r.query.balances.inactiveIssuance&&(0,s.jsx)(l.Jy,on({className:"media--1300",label:t("inactive issuance")},{children:(0,s.jsx)(tn.Z,{})}))]})]}),(0,s.jsx)("section",on({className:"media--1100"},{children:(0,s.jsx)(sn.Z,{withEra:!1})})),(0,s.jsxs)("section",{children:[(0,s.jsx)(l.Jy,on({className:"media--1400",label:t("last events")},{children:(0,m.u)(n)})),r.query.grandpa&&(0,s.jsx)(l.Jy,on({label:t("finalized")},{children:(0,s.jsx)(rn.Z,{})})),(0,s.jsx)(l.Jy,on({label:t("best")},{children:(0,s.jsx)(an.Z,{})}))]})]})})),cn=o.memo((function(e){var n=e.eventCount,t=e.events,r=e.headers;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(T,{}),(0,s.jsx)(ln,{eventCount:n}),(0,s.jsxs)(l.P0,{children:[(0,s.jsx)(l.P0.Column,{children:(0,s.jsx)(Xe,{headers:r})}),(0,s.jsx)(l.P0.Column,{children:(0,s.jsx)(H,{events:t})})]})]})}));var un=t(69543),dn=function(){return dn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},dn.apply(this,arguments)},hn=(0,l.zo)(l.iA)(mn||(mn=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  overflow-x: auto;\n\n  td.roles {\n    max-width: 9ch;\n    width: 9ch;\n  }\n\n  td.bestNumber {\n    max-width: 11ch;\n    width: 11ch;\n  }\n"],["\n  overflow-x: auto;\n\n  td.roles {\n    max-width: 9ch;\n    width: 9ch;\n  }\n\n  td.bestNumber {\n    max-width: 11ch;\n    width: 11ch;\n  }\n"])));const pn=o.memo((function(e){var n=e.className,t=void 0===n?"":n,r=e.peers,a=(0,y.$)().t,i=(0,o.useRef)([[a("connected peers"),"start",2],[a("best hash"),"start"],[a("best #"),"number"]]),l=(0,o.useMemo)((function(){return r&&function(e){return e.map((function(e){var n=e.bestHash,t=e.bestNumber,r=e.peerId,a=e.roles;return{bestHash:n.toHex(),bestNumber:t,peerId:r.toString(),roles:(0,un.KT)(a)}})).sort((function(e,n){return e.peerId.localeCompare(n.peerId)})).sort((function(e,n){return e.roles.localeCompare(n.roles)})).sort((function(e,n){return n.bestNumber.cmp(e.bestNumber)}))}(r)}),[r]);return(0,s.jsx)(hn,dn({className:t,empty:a("no peers connected"),header:i.current},{children:null==l?void 0:l.map((function(e){var n=e.bestHash,t=e.bestNumber,r=e.peerId,a=e.roles;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",dn({className:"roles"},{children:a})),(0,s.jsx)("td",dn({className:"hash overflow"},{children:r})),(0,s.jsx)("td",dn({className:"hash overflow"},{children:n})),(0,s.jsx)("td",dn({className:"number bestNumber"},{children:(0,m.u)(t)}))]},r)}))}))}));var mn,fn=t(53598),vn=function(){return vn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},vn.apply(this,arguments)},gn={extrinsics:null,health:null,peers:null};const xn=o.memo((function(e){var n=e.info,t=void 0===n?gn:n,r=t.extrinsics,a=t.health,i=t.peers,c=e.nextRefresh,u=(0,y.$)().t,d=(0,o.useState)(ce.nw),h=d[0],p=d[1];return(0,o.useEffect)((function(){if(i){var e=i.sort((function(e,n){return n.bestNumber.cmp(e.bestNumber)}))[0];p(e?e.bestNumber:ce.nw)}}),[i]),(0,s.jsxs)(l.Ty,{children:[(0,s.jsxs)("section",{children:[(0,s.jsx)(l.Jy,vn({label:u("refresh in")},{children:(0,s.jsx)(fn.Z,{value:c})})),a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Jy,vn({className:"media--800",label:u("total peers")},{children:(0,m.u)(a.peers)})),(0,s.jsx)(l.Jy,vn({className:"media--800",label:u("syncing")},{children:a.isSyncing.valueOf()?u("yes"):u("no")}))]})]}),r&&r.length>0&&(0,s.jsx)("section",vn({className:"media--1200"},{children:(0,s.jsx)(l.Jy,vn({label:u("queued tx")},{children:r.length}))})),(0,s.jsxs)("section",{children:[(null==h?void 0:h.gtn(0))&&(0,s.jsx)(l.Jy,vn({label:u("peer best")},{children:(0,m.u)(h)})),(0,s.jsx)(l.Jy,vn({label:u("our best")},{children:(0,s.jsx)(an.Z,{})}))]})]})}));const bn=o.memo((function(){var e=(0,y.$)().t,n=(0,c.h)().api,t=(0,o.useState)({}),r=t[0],a=t[1],i=(0,o.useState)((function(){return Date.now()})),l=i[0],u=i[1];return(0,o.useEffect)((function(){var e=function(){u(Date.now()+9900),function(e){return n=this,t=void 0,a=function(){var n,t,r,a,s;return function(e,n){var t,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=n.call(e,o)}catch(e){i=[6,e],r=0}finally{t=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,Promise.all([e.derive.chain.bestNumber(),e.rpc.system.health().catch((function(){return null})),e.rpc.system.peers().catch((function(){return null})),e.rpc.author.pendingExtrinsics().catch((function(){return null}))])];case 1:return n=o.sent(),t=n[0],r=n[1],a=n[2],s=n[3],[2,{blockNumber:t,extrinsics:s,health:r,peers:a}];case 2:return o.sent(),[2,{}];case 3:return[2]}}))},new((r=Promise)||(r=Promise))((function(e,s){function o(e){try{l(a.next(e))}catch(e){s(e)}}function i(e){try{l(a.throw(e))}catch(e){s(e)}}function l(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,i)}l((a=a.apply(n,t||[])).next())}));var n,t,r,a}(n).then(a).catch(console.error)};e();var t=window.setInterval(e,9900);return function(){window.clearInterval(t)}}),[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(xn,{info:r,nextRefresh:l}),(0,s.jsx)(pn,{peers:r.peers}),(0,s.jsx)(Y,{blockNumber:r.blockNumber,label:e("pending extrinsics"),value:r.extrinsics,withLink:!0})]})}));var yn=function(){return yn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},yn.apply(this,arguments)};const jn=o.memo((function(e){var n=e.basePath,t=e.className,r=(0,y.$)().t,a=(0,c.h)().api,p=(0,u.E)().lastHeaders,m=(0,d.d)(),f=m.eventCount,v=m.events,g=(0,o.useRef)(function(e){return[{isRoot:!0,name:"chain",text:e("Chain info")},{hasParams:!0,name:"query",text:e("Block details")},{name:"latency",text:e("Latency")},{name:"forks",text:e("Forks")},{name:"node",text:e("Node info")},{name:"api",text:e("API stats")}]}(r)),x=(0,o.useRef)(function(e){return{api:"".concat(e,"/api"),forks:"".concat(e,"/forks"),latency:"".concat(e,"/latency"),node:"".concat(e,"/node"),query:["".concat(e,"/query/:value"),"".concat(e,"/query/")]}}(n)),b=(0,o.useMemo)((function(){var e;return(0,h.m)(null===(e=a.query.babe)||void 0===e?void 0:e.authorities)?[]:["forks"]}),[a]);return(0,s.jsxs)("main",yn({className:t},{children:[(0,s.jsx)(l.mQ,{basePath:n,hidden:b,items:g.current}),(0,s.jsxs)(i.rs,{children:[(0,s.jsx)(i.AW,yn({path:x.current.api},{children:(0,s.jsx)(O,{})})),(0,s.jsx)(i.AW,yn({path:x.current.forks},{children:(0,s.jsx)(Se,{})})),(0,s.jsx)(i.AW,yn({path:x.current.latency},{children:(0,s.jsx)(Ue,{})})),(0,s.jsx)(i.AW,yn({path:x.current.query},{children:(0,s.jsx)(ve,{})})),(0,s.jsx)(i.AW,yn({path:x.current.node},{children:(0,s.jsx)(bn,{})})),(0,s.jsx)(i.AW,{children:(0,s.jsx)(cn,{eventCount:f,events:v,headers:p})})]})]}))}))},88057:(e,n,t)=>{t.d(n,{$:()=>a});var r=t(61349);function a(){return(0,r.$G)("app-explorer")}},38080:(e,n,t)=>{t.d(n,{Z:()=>E});var r=t(52322),a=t(2784),s=t(7267),o=t(24732),i=t(90778),l=t(48731),c=t(74076),u=t(51330),d=t(57198),h=t(65417),p=t(55858),m=t(61349);function f(){return(0,m.$G)("app-extrinsics")}var v,g,x=function(){return x=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},x.apply(this,arguments)},b=(0,o.zo)(o.P0)(j||(v=["\n  .ui--Column:last-child .ui--Labelled {\n    padding-left: 0.5rem;\n\n    label {\n      left: 2.05rem; /* 3.55 - 1.5 (diff from padding above) */\n    }\n  }\n"],g=["\n  .ui--Column:last-child .ui--Labelled {\n    padding-left: 0.5rem;\n\n    label {\n      left: 2.05rem; /* 3.55 - 1.5 (diff from padding above) */\n    }\n  }\n"],Object.defineProperty?Object.defineProperty(v,"raw",{value:g}):v.raw=g,j=v));const y=a.memo((function(e){var n=e.className,t=e.extrinsic,s=e.isCall,i=e.payload,l=e.withData,c=void 0===l||l,u=e.withHash,d=void 0===u||u,h=f().t,m=(0,a.useMemo)((function(){return function(e,n,t){var r;if(!n)return["0x","0x",null];var a=n.method.toU8a(),s=e?n.method.inspect():n.inspect();if(t){var o=s;null===(r=(s=t.inspect()).inner)||void 0===r||r.map((function(e,n){return 0===n&&(e.inner=o.inner,e.outer=void 0),e}))}return[(0,p.c)(a),n.registry.hash(a).toHex(),s]}(s,t,i)}),[t,s,i]),v=m[0],g=m[1],y=m[2];return y?(0,r.jsxs)(b,x({className:n,isPadded:!1},{children:[(0,r.jsxs)(o.P0.Column,{children:[c&&(0,r.jsx)(o.r_,{isDisabled:!0,isTrimmed:!0,label:h("encoded call data"),value:v,withCopy:!0}),d&&(0,r.jsx)(o.r_,{isDisabled:!0,label:h("encoded call hash"),value:g,withCopy:!0})]}),(0,r.jsx)(o.P0.Column,{children:(0,r.jsx)(o.R2,{hex:v,inspect:y,label:h("encoding details")})})]})):null}));var j,w=function(){return w=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},w.apply(this,arguments)},C={decoded:null,extrinsicCall:null,extrinsicError:null,extrinsicFn:null,extrinsicHex:null,extrinsicKey:"none",extrinsicPayload:null,isCall:!0},k=o.zo.div(O||(O=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  .ui--Call--toplevel {\n    margin-top: 0;\n  }\n\n  .ui--Call > .ui--Params.withBorder {\n    padding-left: 2rem;\n  }\n"],["\n  .ui--Call--toplevel {\n    margin-top: 0;\n  }\n\n  .ui--Call > .ui--Params.withBorder {\n    padding-left: 2rem;\n  }\n"])));const N=a.memo((function(e){var n=e.className,t=e.defaultValue,p=e.setLast,m=(0,s.UO)().encoded,v=(0,a.useState)((function(){return t||m}))[0],g=f().t,x=(0,i.h)().api,b=(0,a.useState)(C),j=b[0],N=j.decoded,O=j.extrinsicCall,A=j.extrinsicError,S=j.extrinsicFn,P=j.extrinsicKey,I=j.extrinsicPayload,E=j.isCall,M=b[1],T=(0,a.useCallback)((function(e){try{var n;(0,l.hu)((0,c.vq)(e),"Expected a hex-encoded call");var t=null,r=null,a=!1;try{var s=x.tx(e);(0,l.hu)(s.toHex()===e,"Cannot decode data as extrinsic, length mismatch"),r=s,n=x.createType("Call",r.method)}catch(r){try{var o=(n=x.createType("Call",e)).toHex();if(o===e)a=!0;else{if(!e.startsWith(o))throw new Error("Unable to decode data as Call, length mismatch in supplied data");var i=(0,u.e)((0,d.Y)(n.encodedLength),e);t=x.createType("ExtrinsicPayload",i),(0,l.hu)((0,h.S)(t.toU8a(),i),"Unable to decode data as un-prefixed ExtrinsicPayload"),n=x.createType("Call",t.method.toHex())}}catch(r){t=x.createType("ExtrinsicPayload",e),(0,l.hu)(t.toHex()===e,"Unable to decode input data as Call, Extrinsic or ExtrinsicPayload"),n=x.createType("Call",t.method.toHex())}}var m=x.registry.findMetaCall(n.callIndex),f=m.method,v=m.section,g=x.tx[v][f],b=n.callIndex.toString();r||(r=g.apply(void 0,n.args)),M(w(w({},C),{decoded:r,extrinsicCall:n,extrinsicFn:g,extrinsicHex:e,extrinsicKey:b,extrinsicPayload:t,isCall:a})),p({call:n,fn:g,hex:e})}catch(e){M(w(w({},C),{extrinsicError:e.message})),p(null)}}),[x,p]);return(0,r.jsxs)(k,w({className:n},{children:[(0,r.jsx)(o.II,{defaultValue:v,isError:!S,label:g("hex-encoded call"),onChange:T,placeholder:g("0x...")}),A&&(0,r.jsx)(o.oy,{content:A}),S&&O&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.UT,{defaultValue:S,isDisabled:!0,label:g("decoded call")},"extrinsicKey:".concat(P)),(0,r.jsx)(o.Ig,{className:"details",value:O})]}),(0,r.jsx)(y,{extrinsic:N,isCall:E,payload:I,withData:!1})]}))}));var O,A=t(36609),S=function(){return S=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},S.apply(this,arguments)};const P=a.memo((function(e){var n=e.className,t=e.defaultValue,s=f().t,l=(0,i.h)().apiDefaultTxSudo,c=(0,a.useState)(null),u=c[0],d=c[1],h=(0,a.useState)(null),p=h[0],m=h[1],v=(0,a.useState)(null),g=v[0],x=v[1],b=(0,a.useState)((function(){return function(e,n){return e?{defaultArgs:e.call.args.map((function(e){return{isValid:!0,value:e}})),defaultFn:e.fn}:{defaultFn:n}}(t,l)}))[0],j=b.defaultArgs,w=b.defaultFn,C=(0,a.useCallback)((function(e){return x((function(){return e||null}))}),[]),k=(0,a.useCallback)((function(e){return m(e?e.message:null)}),[]);return(0,r.jsxs)("div",S({className:n},{children:[(0,r.jsx)(o.rp,{label:s("using the selected account"),labelExtra:(0,r.jsx)(A.Z,{label:(0,r.jsx)("label",{children:s("free balance")}),params:u}),onChange:d,type:"account"}),(0,r.jsx)(o.n6,{defaultArgs:j,defaultValue:w,label:s("submit the following extrinsic"),onChange:C,onError:k}),(0,r.jsx)(y,{extrinsic:g,isCall:!0}),p&&!g&&(0,r.jsx)(o.oy,{content:p}),(0,r.jsxs)(o.zx.Group,{children:[(0,r.jsx)(o.cA,{extrinsic:g,icon:"sign-in-alt",isUnsigned:!0,label:s("Submit Unsigned"),withSpinner:!0}),(0,r.jsx)(o.cA,{accountId:u,extrinsic:g,icon:"sign-in-alt",label:s("Submit Transaction")})]})]}))}));var I=function(){return I=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},I.apply(this,arguments)};const E=a.memo((function(e){var n=e.basePath,t=f().t,i=(0,a.useState)(null),l=i[0],c=i[1],u=(0,a.useRef)(function(e){return[{isRoot:!0,name:"create",text:e("Submission")},{hasParams:!0,name:"decode",text:e("Decode")}]}(t)),d=(0,a.useRef)(function(e){return{decode:["".concat(e,"/decode/:encoded"),"".concat(e,"/decode")]}}(n));return(0,r.jsxs)("main",I({className:"extrinsics--App"},{children:[(0,r.jsx)(o.mQ,{basePath:n,items:u.current}),(0,r.jsxs)(s.rs,{children:[(0,r.jsx)(s.AW,I({path:d.current.decode},{children:(0,r.jsx)(N,{defaultValue:l&&l.hex,setLast:c})})),(0,r.jsx)(s.AW,{children:(0,r.jsx)(P,{defaultValue:l})})]})]}))}))},58064:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(52322),a=t(2784),s=t(10257);const o=a.memo((function(e){var n=e.basePath,t=e.className;return(0,r.jsx)(s.Z,{basePath:n,className:t,palletColl:"fellowshipCollective",palletPoll:"fellowshipReferenda"})}))},16472:(e,n,t)=>{t.d(n,{Z:()=>a});var r=t(1398);const a=(0,t(11677).e)("useCounter",(function(){return(0,r.E)("fellowshipReferenda")}))},31043:(e,n,t)=>{t.d(n,{Z:()=>K});var r=t(52322),a=t(2784),s=t(24732),o=t(46782),i=t.n(o),l=t(86135),c=t(23729),u=t.n(c),d=function(){return d=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},d.apply(this,arguments)},h={files:[],isLoad:!0},p=t(61349);function m(){return(0,p.$G)("app-files")}var f,v,g=t(89644),x=t.n(g),b=t(345),y=t(69187),j=t(33661),w=t(17965),C=t(54827),k=t(55858),N=t(64021),O=function(){return O=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},O.apply(this,arguments)},A=s.zo.div(P||(f=["\n  width: 100%;\n  background: unset;\n  overflow: hidden;\n  height: 1.4rem;\n  border-radius: 0.7rem;\n  border-style: solid;\n  border-width: 1px;\n\n  .file-progress-bar {\n    transition: width 100ms ease-in-out;\n    width: 0;\n    height: 100%;\n  }\n"],v=["\n  width: 100%;\n  background: unset;\n  overflow: hidden;\n  height: 1.4rem;\n  border-radius: 0.7rem;\n  border-style: solid;\n  border-width: 1px;\n\n  .file-progress-bar {\n    transition: width 100ms ease-in-out;\n    width: 0;\n    height: 100%;\n  }\n"],Object.defineProperty?Object.defineProperty(f,"raw",{value:v}):f.raw=v,P=f));const S=a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.progress,s=e.style;return(0,r.jsx)(A,O({className:"".concat(t," highlight--border"),style:s},{children:(0,r.jsx)("div",{className:"file-progress-bar highlight--bg",style:{width:"".concat(a,"%")}})}))}));var P,I=t(48834).Buffer,E=function(){return E=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},E.apply(this,arguments)},M=function(){};function T(e){var n=e.file;return(0,r.jsxs)("div",E({className:"file"},{children:[(0,r.jsx)(s.__,{label:n.webkitRelativePath||e.file.name}),(0,r.jsx)("span",{children:"".concat(n.size," bytes")})]}))}var z=(0,s.zo)(s.u_)(F||(F=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  .files {\n    max-height: 300;\n    overflow: auto;\n    padding-left: 2rem;\n    width: 100%;\n\n    .file {\n      background-color: white;\n      border-bottom: 1px solid rgba(0, 0, 0, 0.15);\n      border-radius: 4px;\n      padding: 5px 2rem;\n    }\n  }\n\n  .progress {\n    margin-left: 2rem;\n    margin-top: 2rem;\n    width: calc(100% - 2rem);\n  }\n"],["\n  .files {\n    max-height: 300;\n    overflow: auto;\n    padding-left: 2rem;\n    width: 100%;\n\n    .file {\n      background-color: white;\n      border-bottom: 1px solid rgba(0, 0, 0, 0.15);\n      border-radius: 4px;\n      padding: 5px 2rem;\n    }\n  }\n\n  .progress {\n    margin-left: 2rem;\n    margin-top: 2rem;\n    width: calc(100% - 2rem);\n  }\n"])));const D=a.memo((function(e){var n=this,t=e.className,o=e.file,i=e.onClose,l=void 0===i?M:i,c=e.onSuccess,u=void 0===c?M:c,d=m().t,h=(0,a.useMemo)((function(){return function(e){return[{location:e("Singapore"),text:e("DCF"),value:"https://crustipfs.xyz"},{location:e("Seattle"),text:e("Crust Network"),value:"https://gw.crustfiles.app"},{location:e("Berlin"),text:e("⚡️ Thunder Gateway"),value:"https://gw.crustfiles.net"}]}(d).sort((function(){return Math.random()>.5?-1:1})).map((function(e){var n,t;return E(E({},e),{text:"".concat(null!==(n=e.text)&&void 0!==n?n:"","(").concat(null!==(t=e.location)&&void 0!==t?t:"",")")})}))}),[d]),p=(0,a.useState)(h[0]),f=p[0],v=p[1],g=(0,a.useMemo)((function(){return[{text:d("Crust Pinner"),value:"https://pin.crustcode.com"}]}),[d]),O=(0,a.useState)(g[0]),A=O[0],P=O[1],D=(0,a.useState)((function(){return y.Nn.getPairs()[0]||null})),F=D[0],B=D[1],R=(0,a.useState)(""),V=R[0],L=R[1],H=(0,a.useState)({isExternal:!1,isHardware:!1,isInjected:!1}),q=H[0].isInjected,_=H[1],W=(0,a.useState)(!1),G=W[0],Z=W[1],U=(0,a.useState)({isUsable:!0,signer:null}),J=U[0],Q=J.isUsable,Y=J.signer,K=U[1],X=(0,a.useState)(""),$=X[0],ee=X[1],ne=(0,a.useState)(!1),te=ne[0],re=ne[1],ae=(0,a.useMemo)((function(){var e=104857600;if(o.file)return o.file.size>e;if(o.files){for(var n=0,t=0,r=o.files;t<r.length;t++)n+=r[t].size;return n>e}return!1}),[o]),se=(0,a.useState)(""),oe=se[0],ie=se[1],le=ae?d("Do not upload files larger than 100MB!"):oe,ce=(0,a.useState)({progress:0,up:!1}),ue=ce[0],de=ce[1],he=(0,a.useState)(null),pe=he[0],me=he[1],fe=(0,a.useCallback)((function(e){e&&(L(e),B(y.Nn.getPair(e)))}),[L,B]);(0,a.useEffect)((function(){var e=F&&F.meta||{},n=e.isExternal||!1,t=e.isHardware||!1,r=e.isInjected||!1,a=!(n||t||r);_({isExternal:n,isHardware:t,isInjected:r}),Z(!r&&(F&&F.isLocked||!1)),K({isUsable:a,signer:null}),e.source&&r&&(0,b.R0)(e.source).catch((function(){return null})).then((function(e){var n;return K({isUsable:(0,j.m)(null===(n=null==e?void 0:e.signer)||void 0===n?void 0:n.signRaw),signer:(null==e?void 0:e.signer)||null})})).catch(console.error)}),[F]);var ve=(0,a.useCallback)((function(){return new Promise((function(e,n){(0,w.Y)((function(){try{F.decodePkcs8($),e(1)}catch(e){n(e)}}))}))}),[F,$]),ge=(0,a.useCallback)((function(){pe&&pe.cancel(),l()}),[pe,l]),xe=(0,a.useCallback)((function(){return e=n,t=void 0,a=function(){var e,n,t,r,a,s,i,l,c,d,h,p,m,v,g,b,y,w,O;return function(e,n){var t,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=n.call(e,o)}catch(e){i=[6,e],r=0}finally{t=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(S){switch(S.label){case 0:if(ie(""),!Q||!F)return[2];S.label=1;case 1:return S.trys.push([1,9,,10]),re(!0),G?[4,ve()]:[3,3];case 2:S.sent(),S.label=3;case 3:return e="",Y&&(0,j.m)(Y.signRaw)?[4,Y.signRaw({address:F.address,data:(0,C.$)(F.address),type:"bytes"})]:[3,5];case 4:return n=S.sent(),e=n.signature,[3,6];case 5:e=(0,k.c)(F.sign((0,N.d)(F.address))),S.label=6;case 6:if(t="".concat(F.address,":").concat(e),r=I.from(t).toString("base64"),a="Basic ".concat(r),s="Bearer ".concat(r),i=x().CancelToken.source(),me(i),de({progress:0,up:!0}),l=new FormData,o.file)l.append("file",o.file,o.file.name);else if(o.files)for(c=0,d=o.files;c<d.length;c++)h=d[c],l.append("file",h,h.webkitRelativePath);return p=f.value,[4,x().request({cancelToken:i.token,data:l,headers:{Authorization:a},maxContentLength:104857600,method:"POST",onUploadProgress:function(e){var n=e.loaded/e.total;de({progress:Math.round(99*n),up:!0})},params:{pin:!0},url:"".concat(p,"/api/v0/add")})];case 7:return m=S.sent(),v=void 0,"string"==typeof m.data?(g=m.data.replaceAll("}\n{","},{"),b=JSON.parse("[".concat(g,"]")),y=b.length-1,v=b[y],delete b[y],v.items=b):v=m.data,console.info("upResult:",m),me(null),de({progress:100,up:!1}),w=A.value,[4,x().request({data:{cid:v.Hash,name:v.Name},headers:{Authorization:s},method:"POST",url:"".concat(w,"/psa/pins")})];case 8:return S.sent(),u(E(E({},v),{PinEndpoint:w,UpEndpoint:p})),[3,10];case 9:return O=S.sent(),de({progress:0,up:!1}),re(!1),console.error(O),ie(O.message),[3,10];case 10:return[2]}}))},new((r=void 0)||(r=Promise))((function(n,s){function o(e){try{l(a.next(e))}catch(e){s(e)}}function i(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,i)}l((a=a.apply(e,t||[])).next())}));var e,t,r,a}),[o,ve,Y,G,Q,F,A,f,u]),be=(0,a.useCallback)((function(e){var n=h.find((function(n){return n.value===e}));n&&v(n)}),[h,v]),ye=(0,a.useCallback)((function(e){var n=g.find((function(n){return n.value===e}));n&&P(n)}),[g,P]);return(0,r.jsxs)(z,E({className:t,header:d("Upload File"),onClose:ge,open:!0,size:"medium"},{children:[(0,r.jsxs)(s.u_.Content,{children:[(0,r.jsx)(s.u_.Columns,{children:(0,r.jsxs)("div",E({className:"files"},{children:[o.file&&(0,r.jsx)(T,{file:o.file}),o.files&&o.files.map((function(e,n){return(0,r.jsx)(T,{file:e},"file_item:".concat(n))}))]}))}),(0,r.jsx)(s.u_.Columns,{children:(0,r.jsx)(s.Lt,{isDisabled:te,label:d("Select a Web3 IPFS Gateway"),onChange:be,options:h,value:f.value})}),(0,r.jsx)(s.u_.Columns,{children:(0,r.jsx)(s.Lt,{isDisabled:!0,label:d("Select a Web3 IPFS Pinner"),onChange:ye,options:g,value:A.value})}),(0,r.jsxs)(s.u_.Columns,{children:[(0,r.jsx)(s.rp,{defaultValue:V,isDisabled:te,label:d("Please choose account"),labelExtra:(0,r.jsx)(s.Kc,{label:d("transferrable"),params:V}),onChange:fe,type:"account"}),!ue.up&&G&&!q&&(0,r.jsx)(s.ro,{isError:!1,label:d("password"),onChange:ee,value:$}),(0,r.jsx)(S,{className:"progress",progress:ue.progress}),le&&(0,r.jsx)(s.oy,{content:le})]})]}),(0,r.jsx)(s.u_.Actions,{children:(0,r.jsx)(s.zx,{icon:"arrow-circle-up",isBusy:te,isDisabled:ae,label:d("Sign and Upload"),onClick:xe})})]}))}));var F,B=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},R=function(){return R=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},R.apply(this,arguments)},V=function(e,n,t){if(t||2===arguments.length)for(var r,a=0,s=n.length;a<s;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))},L=(0,s.zo)(s.qi)(U||(U=B(["\n  .copySpan {\n    display: none;\n  }\n"],["\n  .copySpan {\n    display: none;\n  }\n"]))),H=s.zo.tr(J||(J=B(["\n  height: 3.5rem;\n\n  .end {\n    text-align: end;\n  }\n\n  .actions {\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n  }\n"],["\n  height: 3.5rem;\n\n  .end {\n    text-align: end;\n  }\n\n  .actions {\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n  }\n"])));function q(e){var n=e.UpEndpoint||"https://ipfs.io";return"".concat(n,"/ipfs/").concat(e.Hash,"?filename=").concat(e.Name)}var _=function(e){return function(){window.open(q(e),"_blank")}},W=function(){},G=s.zo.main(Q||(Q=B(["\n  h1 {\n    text-transform: unset !important;\n  }\n\n  .uploadBtn {\n    position: relative;\n    padding: 5px 0;\n\n    &:hover {\n      .uploadMenu {\n        display: block;\n      }\n    }\n  }\n\n  .uploadMenu {\n    z-index: 200;\n    display: none;\n    background-color: white;\n    position: absolute;\n    top: 43px;\n    left: 0;\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.4);\n    border-radius: 4px;\n    overflow: hidden;\n    line-height: 40px;\n\n    .menuItem {\n      cursor: pointer;\n      padding: 0 2rem;\n      display: flex;\n      align-items: center;\n      white-space: nowrap;\n\n      &:hover {\n        background-color: var(--bg-page);\n      }\n    }\n  }\n"],["\n  h1 {\n    text-transform: unset !important;\n  }\n\n  .uploadBtn {\n    position: relative;\n    padding: 5px 0;\n\n    &:hover {\n      .uploadMenu {\n        display: block;\n      }\n    }\n  }\n\n  .uploadMenu {\n    z-index: 200;\n    display: none;\n    background-color: white;\n    position: absolute;\n    top: 43px;\n    left: 0;\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.4);\n    border-radius: 4px;\n    overflow: hidden;\n    line-height: 40px;\n\n    .menuItem {\n      cursor: pointer;\n      padding: 0 2rem;\n      display: flex;\n      align-items: center;\n      white-space: nowrap;\n\n      &:hover {\n        background-color: var(--bg-page);\n      }\n    }\n  }\n"])));const Z=a.memo((function(e){var n=e.className,t=m().t,o=(0,l.L)().queueAction,c=(0,a.useState)(!1),p=c[0],f=c[1],v=function(){var e=(0,a.useState)(h),n=e[0],t=e[1],r=(0,a.useState)(!0),s=r[0],o=r[1];(0,a.useEffect)((function(){try{var e=u().get("files",h);e!==h&&t(e),o(!1)}catch(e){o(!1),console.error(e)}}),[]);var i=(0,a.useCallback)((function(e){var r=d(d({},n),{files:e});t(r),u().set("files",r)}),[n]);return(0,a.useMemo)((function(){return d(d({},n),{isLoad:s,setFiles:i})}),[n,i,s])}(),g=(0,a.useState)(void 0),x=g[0],b=g[1],y=(0,a.useRef)(null),j=(0,a.useCallback)((function(e){void 0===e&&(e=!1),y.current&&(y.current.webkitdirectory=e,y.current.multiple=e,y.current.click())}),[y]),w=(0,a.useCallback)((function(){return j(!1)}),[j]),C=(0,a.useCallback)((function(){return j(!0)}),[j]),k=(0,a.useCallback)((function(e){var n=e.target.files;if(n)if(n.length>2e3)o({action:"Upload Folder",message:t("Please do not upload more than 2000 files"),status:"error"});else if(0!==n.length){if(e.target.webkitdirectory){if(n.length>=1){for(var r=[],a=0;a<n.length;a++)r.push(n[a]);console.info(r);var s=r[0].webkitRelativePath.split("/")[0];b({dir:s,files:r}),f(!0)}}else b({file:n[0]}),f(!0);e.target.value=""}else o({action:"Upload Folder",message:t("Please select non-empty folder"),status:"error"})}),[b,f,o,t]),N=(0,a.useCallback)((function(e,n){void 0===n&&(n="queued"),o&&o({action:t("Import files"),message:e,status:n})}),[o,t]),O=(0,a.useRef)(null),A=(0,a.useCallback)((function(){O.current&&O.current.click()}),[O]),S=(0,a.useCallback)((function(e){try{N(t("Importing"));var n=new FileReader,r=e.target.files;if(!r)return;if(n.readAsText(r[0],"UTF-8"),!/(.json)$/i.test(e.target.value))return N(t("file error"),"error");n.onload=function(e){var n,r=JSON.parse(null===(n=e.target)||void 0===n?void 0:n.result);if(!Array.isArray(r))return N(t("file content error"),"error");for(var a=[],s={},o=0,i=r;o<i.length;o++){var l=i[o];l.Hash&&l.Name&&l.UpEndpoint&&l.PinEndpoint&&(a.push(l),s[l.Hash]=!0)}var c=v.files.filter((function(e){return!s[e.Hash]}));v.setFiles(V(V([],a,!0),c,!0)),N(t("Import Success"),"success")}}catch(e){N(t("file content error"),"error")}}),[v,N,t]),P=(0,a.useCallback)((function(){f(!1)}),[]),I=(0,a.useCallback)((function(e){f(!1);var n=v.files.filter((function(n){return n.Hash!==e.Hash}));v.setFiles(V([e],n,!0))}),[v]),E=(0,a.useCallback)((function(){var e=new Blob([JSON.stringify(v.files)],{type:"application/json; charset=utf-8"});i().saveAs(e,"files.json")}),[v]);return(0,r.jsxs)(G,R({className:n},{children:[(0,r.jsx)("header",{}),(0,r.jsx)("input",{onChange:k,ref:y,style:{display:"none"},type:"file"}),(0,r.jsx)("input",{onChange:S,ref:O,style:{display:"none"},type:"file"}),x&&p&&(0,r.jsx)(D,{file:x,onClose:P,onSuccess:I}),(0,r.jsxs)("div",R({style:{display:"flex",paddingBottom:"1.5rem"}},{children:[(0,r.jsxs)("div",R({className:"uploadBtn"},{children:[(0,r.jsx)(s.zx,{icon:"upload",label:t("Upload"),onClick:W}),(0,r.jsxs)("div",R({className:"uploadMenu"},{children:[(0,r.jsx)("div",R({className:"menuItem",onClick:w},{children:t("File")})),(0,r.jsx)("div",R({className:"menuItem",onClick:C},{children:t("Folder")}))]}))]})),(0,r.jsx)("div",{style:{flex:1}}),(0,r.jsx)(s.zx,{icon:"file-import",label:t("Import"),onClick:A}),(0,r.jsx)(s.zx,{icon:"file-export",label:t("Export"),onClick:E})]})),(0,r.jsx)(s.iA,R({empty:t("No files"),emptySpinner:t("Loading"),header:[[t("files"),"start",2],[t("file cid"),"expand",2],[void 0,"start"],[t("file size"),"expand",2],[t("status"),"expand"],[t("action"),"expand"],[]]},{children:v.files.map((function(e,n){return(0,r.jsxs)(H,{children:[(0,r.jsxs)("td",R({className:"",colSpan:2},{children:[e.items&&(0,r.jsx)(s.JO,{className:"highlight--color",icon:"folder"}),(a=e.Name,void 0===o&&(o=6),a.length>2*o?"".concat(a.substring(0,o),"...").concat(a.substring(a.length-o)):a)]})),(0,r.jsx)("td",R({className:"end",colSpan:2},{children:e.Hash})),(0,r.jsx)("td",R({className:"",colSpan:1},{children:(0,r.jsx)(L,R({value:e.Hash},{children:(0,r.jsx)(s.Ct,{color:"highlight",hover:t("Copy file cid"),icon:"copy"})}))})),(0,r.jsx)("td",R({className:"end",colSpan:2},{children:"".concat(e.Size," bytes")})),(0,r.jsx)("td",R({className:"end",colSpan:1},{children:(0,r.jsx)("a",R({href:"https://apps.crust.network/?rpc=wss%3A%2F%2Frpc.crust.network#/storage_files",rel:"noreferrer",target:"_blank"},{children:t("View status in Crust")}))})),(0,r.jsx)("td",R({className:"end",colSpan:1},{children:(0,r.jsxs)("div",R({className:"actions"},{children:[!e.items&&(0,r.jsx)(s.Ct,{color:"highlight",hover:t("Download"),icon:"download",onClick:_(e)}),(0,r.jsx)(L,R({value:q(e)},{children:(0,r.jsx)(s.Ct,{color:"highlight",hover:t("Copy link"),icon:"copy"})}))]}))})),(0,r.jsx)("td",{colSpan:1})]},"files_item-".concat(n));var a,o}))})),(0,r.jsx)("div",{children:t("Note: The file list is cached locally, switching browsers or devices will not keep displaying the original browser information.")})]}))}));var U,J,Q,Y=function(){return Y=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Y.apply(this,arguments)};const K=a.memo((function(e){var n=e.basePath,t=e.className,o=m().t,i=(0,a.useRef)([{isRoot:!0,name:"crust",text:o("Your Files")}]);return(0,r.jsxs)("main",Y({className:t},{children:[(0,r.jsx)(s.mQ,{basePath:n,items:i.current}),(0,r.jsx)(Z,{})]}))}))},79865:(e,n,t)=>{t.d(n,{Z:()=>B});var r=t(52322),a=t(2784),s=t(7267),o=t(24732),i=t(90778),l=t(34814),c=t(74065),u=t(11677),d=function(){return d=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},d.apply(this,arguments)},h=(0,u.e)("useProxies",(function(){var e=(0,i.h)().api,n=(0,l.x)().allAccounts,t=(0,c.X)(),r=(0,a.useState)({}),s=r[0],o=r[1];return(0,a.useEffect)((function(){n.length&&e.query.proxy.proxies.multi(n).then((function(e){return t.current&&o(e.map((function(e,t){var r=e[0];return[n[t],r.map((function(e){return e.delegate.toString()}))]})).filter((function(e){return e[1].length})).reduce((function(e,n){var t,r=n[0],a=n[1];return d(d({},e),((t={})[r]=a,t))}),{}))})).catch(console.error)}),[n,e,t]),s})),p=t(38894),m=t(13940),f=t(95292),v=t(61349);function g(){return(0,v.$G)("app-gilt")}var x=function(){return x=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},x.apply(this,arguments)};const b=a.memo((function(e){var n=e.className,t=e.isDisabled,s=e.proxies,l=g().t,c=(0,i.h)().api,u=(0,p.O)(),d=u[0],h=u[1],v=(0,a.useState)(null),b=v[0],y=v[1],j=(0,a.useState)(null),w=j[0],C=j[1],k=(0,a.useState)(),N=k[0],O=k[1],A=(0,a.useState)(),S=A[0],P=A[1],I=(0,a.useMemo)((function(){return b&&N&&S?c.tx.proxy.proxy(b,null,c.tx.gilt.placeBid(N,S)):null}),[c,b,N,S]),E=Object.keys(s),M=!N||N.isZero()||N.lt(c.consts.gilt.minFreeze),T=!S||!S.gte(f.If)||S.gt(c.consts.gilt.queueCount);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.zx,{icon:"plus",isDisabled:!E.length||t,label:l("Submit Bid"),onClick:h}),d&&(0,r.jsxs)(o.u_,x({className:n,header:l("submit gilt bid"),onClose:h,size:"large"},{children:[(0,r.jsxs)(o.u_.Content,{children:[(0,r.jsxs)(o.u_.Columns,x({hint:l("This account will make the bid for the gilt and pay all associated fees.")},{children:[(0,r.jsx)(o.rp,{filter:E,label:l("use proxied account"),labelExtra:(0,r.jsx)(m.Z,{label:(0,r.jsx)("span",x({className:"label"},{children:l("transferrable")})),params:b}),onChange:y,type:"account"}),b&&(0,r.jsx)(o.rp,{filter:s[b],label:l("send via proxy"),onChange:C,type:"account"})]})),(0,r.jsxs)(o.u_.Columns,x({hint:l("The amount you wish to lock for the duration. It needs to be more than the gilt minimum.")},{children:[(0,r.jsx)(o.H,{autoFocus:!0,defaultValue:c.consts.gilt.minFreeze,isError:M,isZeroable:!1,label:l("bid amount"),onChange:O}),(0,r.jsx)(o.H,{defaultValue:c.consts.gilt.minFreeze,isDisabled:!0,label:l("minimum freeze amount")})]})),(0,r.jsxs)(o.u_.Columns,x({hint:l("The number of periods this bid is to be freezed for, less than the maximum period")},{children:[(0,r.jsx)(o.Rn,{defaultValue:f.If,isError:T,isZeroable:!1,label:l("lock periods"),onChange:P}),(0,r.jsx)(o.Rn,{defaultValue:c.consts.gilt.queueCount,isDisabled:!0,label:l("maximum lock periods")})]}))]}),(0,r.jsx)(o.u_.Actions,{children:(0,r.jsx)(o.cA,{accountId:w,extrinsic:I,icon:"check",isDisabled:M||T||!b,label:l("Bid"),onStart:h})})]}))]})}));var y=t(58607),j=t(14681),w=function(){return w=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},w.apply(this,arguments)};const C=a.memo((function(e){var n=e.className,t=e.value,a=t.balance,s=t.index,i=t.numItems;return(0,r.jsxs)("tr",w({className:n},{children:[(0,r.jsx)(o.iA.Column.Id,{value:s}),(0,r.jsx)("td",w({className:"number all"},{children:(0,j.u)(i)})),(0,r.jsx)("td",w({className:"all"},{children:(0,r.jsx)(y.Z,{value:a})}))]}))}));var k=function(){return k=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},k.apply(this,arguments)};const N=a.memo((function(e){var n=e.className,t=e.queueTotals,s=g().t,i=(0,a.useRef)([[s("queues"),"start"],[s("participants"),"number"],[s("balance"),"number"]]);return(0,r.jsx)(o.iA,k({className:n,empty:t&&s("No active gilt queues found."),header:i.current},{children:null==t?void 0:t.map((function(e){return(0,r.jsx)(C,{value:e},e.index)}))}))}));var O=t(54383),A=t(48801),S=function(){return S=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},S.apply(this,arguments)},P=new(t.n(A)())(1e4);const I=a.memo((function(e){var n=e.activeTotal,t=e.className,a=e.isDisabled,s=g().t,l=(0,i.h)().api,c=(0,O.C)();return(0,r.jsxs)(o.Ty,S({className:t},{children:[(0,r.jsxs)("section",{children:[(0,r.jsx)(o.Jy,S({label:s("active")},{children:s(a?"no":"yes")})),n&&(0,r.jsx)(o.Jy,S({label:s("index")},{children:(0,j.u)(n.index)}))]}),n&&(0,r.jsxs)("section",{children:[(0,r.jsxs)(o.Jy,S({label:s("proportion")},{children:[(n.proportion.mul(P).imul(f.S8).div(f.Wi).toNumber()/1e4).toFixed(2),"%"]})),(0,r.jsxs)(o.Jy,S({label:s("target")},{children:[(n.target.mul(P).imul(f.S8).div(f.Wi).toNumber()/1e4).toFixed(2),"%"]}))]}),(0,r.jsx)("section",{children:c&&(0,r.jsx)(o.Jy,{label:s("intake"),progress:{total:l.consts.gilt.intakePeriod,value:c.mod(l.consts.gilt.intakePeriod),withTime:!0}})})]}))}));var E=t(54890),M={defaultValue:{},transform:function(e){var n=e[0],t=e[1];return{activeIndex:n.index.isZero()?null:n.index.sub(f.If),activeTotal:n,queueTotals:t.map((function(e,n){var t=e[0];return{balance:e[1],index:n+1,numItems:t}})).filter((function(e){return!e.balance.isZero()}))}}};const T=(0,u.e)("useInfo",(function(){var e=(0,i.h)().api,n=(0,E.L)([e.query.gilt.activeTotal,e.query.gilt.queueTotals],M);return(0,a.useMemo)((function(){return{info:n}}),[n])}));var z=function(){return z=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},z.apply(this,arguments)};const D=a.memo((function(e){var n=e.className,t=h(),s=T().info,i=(0,a.useMemo)((function(){return!s||!s.activeTotal||s.activeTotal.target.isZero()}),[s]);return(0,r.jsxs)("div",z({className:n},{children:[(0,r.jsx)(I,{activeTotal:null==s?void 0:s.activeTotal,isDisabled:i}),(0,r.jsx)(o.zx.Group,{children:(0,r.jsx)(b,{isDisabled:i,proxies:t})}),(0,r.jsx)(N,{queueTotals:null==s?void 0:s.queueTotals})]}))}));var F=function(){return F=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},F.apply(this,arguments)};const B=a.memo((function(e){var n=e.basePath,t=e.className,i=g().t,l=(0,a.useRef)([{isRoot:!0,name:"overview",text:i("Overview")}]);return(0,r.jsxs)("main",F({className:t},{children:[(0,r.jsx)(o.mQ,{basePath:n,items:l.current}),(0,r.jsx)(s.rs,{children:(0,r.jsx)(s.AW,{children:(0,r.jsx)(D,{})})})]}))}))},30145:(e,n,t)=>{t.d(n,{Z:()=>q});var r=t(52322),a=t(2784),s=t(24732),o=t(90778),i=t(38894),l=t(43193),c=t(34100),u=t(14714),d=t(34578),h=t(61349);function p(){return(0,h.$G)("app-js")}var m=function(){return m=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},m.apply(this,arguments)};const f=a.memo((function(e){var n=e.className,t=void 0===n?"":n,o=e.isCustomExample,i=e.isRunning,l=e.removeSnippet,c=e.runJs,u=e.saveSnippet,d=e.stopJs,h=p().t,f=(0,a.useState)(""),v=f[0],g=f[1],x=(0,a.useCallback)((function(e){return g(e)}),[]),b=(0,a.useCallback)((function(){g("")}),[]),y=(0,a.useCallback)((function(){u(v),b()}),[b,u,v]);return(0,r.jsxs)(s.zx.Group,m({className:"".concat(t," action-button")},{children:[o?(0,r.jsx)(s.zx,{icon:"trash",onClick:l}):(0,r.jsx)(s.GI,m({className:"popup-local",onCloseAction:b,value:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.II,{autoFocus:!0,maxLength:50,min:1,onChange:x,onEnter:y,placeholder:h("Name your example"),value:v,withLabel:!1}),(0,r.jsx)(s.zx,{icon:"save",isDisabled:!v.length,label:h("Save snippet to local storage"),onClick:y})]})},{children:(0,r.jsx)(s.zx,{icon:"save",isReadOnly:!1})})),i?(0,r.jsx)(s.zx,{icon:"times",onClick:d}):(0,r.jsx)(s.zx,{className:"play-button",icon:"play",onClick:c})]}))}));var v,g,x="polkadot-app-js-examples",b="polkadot-app-js-selected",y={children:"Custom",color:"orange",size:"tiny"},j=t(12909),w=t(1346),C=t(17751),k=function(){return k=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},k.apply(this,arguments)},N=function(e){return(0,j.V)(e)?e.stack?e.stack:e.toString():(0,w.o)(e)?"undefined":(0,C.F)(e)?"null":Array.isArray(e)?"[".concat(e.map(N).join(", "),"]"):e instanceof Map?"{".concat(function(e,n,t){if(t||2===arguments.length)for(var r,a=0,s=n.length;a<s;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))}([],e.entries(),!0).map((function(e){var n=e[0],t=e[1];return"".concat(n.toString(),": ").concat(N(t))})).join(", "),"}"):e.toString()},O=function(e,n){var t=e.args,a=e.type;try{return(0,r.jsx)("div",k({className:"js--Log ".concat(a)},{children:t.map(N).join(" ")}),n)}catch(e){return(0,r.jsxs)("div",k({className:"js--Log ".concat(a," error")},{children:["Internal error: ",e.stack||e.message]}),n)}},A=s.zo.article(P||(v=["\n  background-color: #4e4e4e;\n  color: #ffffff;\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  font: var(--font-mono);\n  font-variant-ligatures: common-ligatures;\n  line-height: 18px;\n  padding: 50px 10px 10px;\n  position: relative;\n  width: 40%;\n\n  .logs-wrapper {\n    display: flex;\n    flex: 1;\n    min-height: 0;\n  }\n\n  .logs-container {\n    flex: 1;\n    overflow: auto;\n  }\n\n  .logs-content {\n    height: auto;\n  }\n\n  .js--Log {\n    animation: fadein 0.2s;\n    margin: 0 0 5px 0;\n    word-break: break-all;\n\n    &.error {\n      color: #f88;\n    }\n  }\n"],g=["\n  background-color: #4e4e4e;\n  color: #ffffff;\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  font: var(--font-mono);\n  font-variant-ligatures: common-ligatures;\n  line-height: 18px;\n  padding: 50px 10px 10px;\n  position: relative;\n  width: 40%;\n\n  .logs-wrapper {\n    display: flex;\n    flex: 1;\n    min-height: 0;\n  }\n\n  .logs-container {\n    flex: 1;\n    overflow: auto;\n  }\n\n  .logs-content {\n    height: auto;\n  }\n\n  .js--Log {\n    animation: fadein 0.2s;\n    margin: 0 0 5px 0;\n    word-break: break-all;\n\n    &.error {\n      color: #f88;\n    }\n  }\n"],Object.defineProperty?Object.defineProperty(v,"raw",{value:g}):v.raw=g,P=v));const S=a.memo((function(e){var n=e.children,t=e.className,a=void 0===t?"":t,s=e.logs;return(0,r.jsxs)(A,k({className:"".concat(a," container")},{children:[(0,r.jsx)("div",k({className:"logs-wrapper"},{children:(0,r.jsx)("div",k({className:"logs-container"},{children:(0,r.jsx)("pre",k({className:"logs-content"},{children:s.map(O)}))}))})),n]}))}));var P,I={children:"Storage",color:"blue",size:"tiny"};const E=[{value:"rpcNetworkAuthoring",text:"Get authoring information",label:{color:"pink",children:"RPC",size:"tiny"},code:"// Returns all pending extrinsics, potentially grouped by sender\nconst unsub = await api.rpc.author.pendingExtrinsics((extrinsics) => {\n  if(extrinsics.length === 0){\n    console.log('No pending extrinsics');\n    return;\n  }\n  console.log(extrinsics);\n});"},{value:"rpcListenToHead",text:"Listen to new Head",label:{color:"pink",children:"RPC",size:"tiny"},code:"// subscribe to new headers, printing the full info for 5 Blocks\nlet count = 0;\nconst unsub = await api.rpc.chain.subscribeNewHeads((header) => {\n  console.log(`#${header.number}:`, header);\n\n  if (++count === 5) {\n    console.log('5 headers retrieved, unsubscribing');\n    unsub();\n  }\n});"},{value:"rpcQueryState",text:"Get state metadata",label:{color:"pink",children:"RPC",size:"tiny"},code:"// retrieve and log the complete metadata of your node\nconst metadata = await api.rpc.state.getMetadata();\n\nconsole.log('version: ' + metadata.version);\nconsole.log('formatted: ' + JSON.stringify(metadata.asLatest.toHuman(), null, 2));\n"},{value:"rpcSystemInfo",text:"Get system information",label:{color:"pink",children:"RPC",size:"tiny"},code:"// Retrieve the chain & node information information via rpc calls\nconst [chain, nodeName, nodeVersion, properties] = await Promise.all([\n  api.rpc.system.chain(),\n  api.rpc.system.name(),\n  api.rpc.system.version(),\n  api.rpc.system.properties()\n]);\nconsole.log('You are connected to chain ' + chain)\nconsole.log('You are using: ' + nodeName + ' v' + nodeVersion);\n\nif (properties.size > 0) {\n  console.log('Node specific properties:');\n  properties.forEach((value, key) => {\n    console.log(key, value);\n  });\n} else {\n  console.log('No specific chain properties found.');\n}"},{code:"// Get chain state information\n// Make our basic chain state / storage queries, all in one go\n\nconst [now, minimumValidatorCount, validators] = await Promise.all([\n  api.query.timestamp.now(),\n  api.query.staking.minimumValidatorCount(),\n  api.query.session.validators()\n]);\n\nconsole.log('The current date is: ' + now);\nconsole.log('The minimum validator count: ' + minimumValidatorCount);\n\nif (validators && validators.length > 0) {\n  // Retrieve the balances for all validators\n  console.log('Validators');\n\n  const validatorBalances = await Promise.all(\n    validators.map((authorityId) => api.query.system.account(authorityId))\n  );\n\n  validators.forEach((authorityId, index) => {\n    console.log('Validator: ' + authorityId.toString() )\n    console.log('AccountData: ' + validatorBalances[index].toHuman() );\n  });\n}\n",label:I,text:"Get chain state information",value:"storageGetInfo"},{code:"// Subscribe to system events via storage\napi.query.system.events((events) => {\n  console.log('----- Received ' + events.length + ' event(s): -----');\n  // loop through the Vec<EventRecord>\n  events.forEach((record) => {\n  // extract the phase, event and the event types\n    const { event, phase } = record;\n    const types = event.typeDef;\n    // show what we are busy with\n    console.log(event.section + ':' + event.method + '::' + 'phase=' + phase.toString());\n    console.log(event.meta.docs.toString());\n    // loop through each of the parameters, displaying the type and data\n    event.data.forEach((data, index) => {\n      console.log(types[index].type + ';' + data.toString());\n    });\n  });\n});",label:I,text:"Listen to system events",value:"storageSystemEvents"},{code:"// You may leave this example running and make a transfer\n// of any value from or to Alice address in the 'Transfer' App\nconst ALICE = '5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY';\n\n// Retrieve the initial data\nlet [, { free: previous }] = await api.query.system.account(ALICE);\n\nconsole.log('ALICE has a balance of ' + previous);\n\n// Subscribe and listen to balance changes\napi.query.system.account(ALICE, ([, { free }]) => {\n  // Calculate the delta\n  const change = free.sub(previous);\n  // Only display positive value changes (Since we are pulling 'previous' above already,\n  // the initial balance change will also be zero)\n  if (!change.isZero()) {\n    previous = free;\n    console.log('New transaction of: '+ change);\n  }\n});",label:I,text:"Listen to balance changes",value:"storageListenToBalanceChange"},{code:"// You may leave this example running and make a transfer\n// of any value from or to Alice/Bob address in the 'Transfer' App\nconst ALICE = '5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY';\nconst BOB = '5FHneW46xGXgs5mUiveU4sbTyGBzmstUspZC92UhjJM694ty';\n\nconsole.log('Tracking balances for:', [ALICE, BOB])\n\n// Subscribe and listen to several balance changes\napi.query.system.account.multi([ALICE, BOB], (info) => {\n  console.log('Change detected, new balances: ', info)\n});",label:I,text:"Listen to multiple balances changes",value:"storageListenToMultipleBalancesChange"},{code:"// This example set shows how to make queries at a point\nconst ALICE = '5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY';\n\n// retrieve the balance, once-off at the latest block\nconst { data: { free } } = await api.query.system.account(ALICE);\n\nconsole.log('Alice has a current balance of', free.toHuman());\n\n// retrieve balance updates with an optional value callback\nconst balanceUnsub = await api.query.system.account(ALICE, ({ data: { free } }) => {\n  console.log('Alice has an updated balance of', free.toHuman());\n});\n\n// retrieve the balance at a block hash in the past\nconst header = await api.rpc.chain.getHeader();\nconst prevHash = await api.rpc.chain.getBlockHash(header.number.unwrap().subn(42));\nconst { data: { free: prev } } = await api.query.system.account.at(prevHash, ALICE);\n\nconsole.log('Alice had a balance of', prev.toHuman(), '(42 blocks ago)');\n\n// useful in some situations - the value hash and storage entry size\nconst currHash = await api.query.system.account.hash(ALICE);\nconst currSize = await api.query.system.account.size(ALICE);\n\nconsole.log('Alice account entry has a value hash of', currHash, 'with a size of', currSize);",label:I,text:"Retrieve historic query data",value:"storageRetrieveInfoOnQueryKeys"},{code:"// this example shows how to retrieve the hex representation of a storage key\n\nconst ALICE = '5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY';\n\n// show the key for an entry without arguments\nconsole.log(api.query.timestamp.now.key());\n\n// show the key for a map entry (single argument)\nconsole.log(api.query.system.account.key(ALICE));\n\n// show the key prefix for a map\nconsole.log(api.query.system.account.keyPrefix());\n\n// show the key for a double map\nconsole.log(api.query.staking.erasStakers.key(0, ALICE));\n\n// show the key prefix for a doublemap\nconsole.log(api.query.staking.erasStakers.keyPrefix());\n",label:I,text:"Get underlying storage key hex values",value:"storageKeys"},{value:"constsStakingParameters",text:"Get staking parameters",label:{color:"green",children:"Consts",size:"tiny"},code:"// Get SRML staking parameters as consts\n// 'parameter_types' were added to substrate with spec_version: 101.\n// This example will throw an error if used with versions before that.\n\nconst bondingDuration = api.consts.staking.bondingDuration;\nconst sessionsPerEra = api.consts.staking.sessionsPerEra;\n\nconsole.log('Staking bonding duration: ' + bondingDuration);\nconsole.log('Staking sessions per era: ' + sessionsPerEra);"},{value:"extrinsicMakeTransfer",text:"Make transfer and listen to events",label:{color:"grey",children:"Extrinsics",size:"tiny"},code:"// Make a transfer from Alice to Bob and listen to system events.\n// You need to be connected to a development chain for this example to work.\nconst ALICE = '5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY';\nconst BOB = '5FHneW46xGXgs5mUiveU4sbTyGBzmstUspZC92UhjJM694ty';\n\n// Get a random number between 1 and 100000\nconst randomAmount = Math.floor((Math.random() * 100000) + 1);\n\n// Create a extrinsic, transferring randomAmount units to Bob.\nconst transfer = api.tx.balances.transfer(BOB, randomAmount);\n\n// Sign and Send the transaction\nawait transfer.signAndSend(ALICE, ({ events = [], status }) => {\n  if (status.isInBlock) {\n    console.log('Successful transfer of ' + randomAmount + ' with hash ' + status.asInBlock.toHex());\n  } else {\n    console.log('Status of transfer: ' + status.type);\n  }\n\n  events.forEach(({ phase, event: { data, method, section } }) => {\n    console.log(phase.toString() + ' : ' + section + '.' + method + ' ' + data.toString());\n  });\n});"}];var M=function(){return M=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},M.apply(this,arguments)},T=function(e,n,t){if(t||2===arguments.length)for(var r,a=0,s=n.length;a<s;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))},z=["atob","btoa"],D={Atomics:null,Bluetooth:null,Clipboard:null,Document:null,Function:null,Location:null,ServiceWorker:null,SharedWorker:null,USB:null,global:null,window:null},F=JSON.parse(JSON.stringify(E)),B=!1,R=s.zo.main(L||(L=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  position: relative;\n\n  article {\n    p:last-child {\n      margin-bottom: 0;\n    }\n  }\n\n  .js--Selection {\n    margin-bottom: 1rem;\n  }\n\n  .js--Content {\n    align-content: stretch;\n    align-items: stretch;\n    display: flex;\n    height: 100%;\n    justify-content: space-between;\n    margin-bottom: 0;\n  }\n\n  .js--Dropdown {\n    position: relative;\n    z-index: 200;\n\n    .dropdown .menu > .item {\n      display: flex;\n      flex-direction: row-reverse;\n      justify-content: space-between;\n    }\n  }\n\n  .js--Editor,\n  .js--Output {\n    min-width: 200px;\n\n    .action-button {\n      margin: 0;\n      position: absolute;\n      right: 0.5rem;\n      top: 0.5rem;\n      z-index: 100;\n    }\n  }\n\n  .js--Editor {\n    flex-grow: 1;\n    overflow: auto;\n    padding: 0;\n    position: relative;\n    resize: horizontal;\n    width: 60%;\n\n    textarea {\n      outline: 0;\n    }\n\n    .codeflask {\n      background: transparent;\n    }\n\n    .codeflask--has-line-numbers {\n      z-index: 0;\n    }\n\n    .codeflask--has-line-numbers .codeflask__flatten {\n      font-size: 12px;\n      line-height: 18px;\n      min-width: calc(100% - 40px);\n      padding-top: 50px;\n      width: auto;\n    }\n\n    .codeflask__lines {\n      background: #f2f2f2;\n      line-height: 18px;\n      padding-top: 50px;\n      z-index: 100;\n    }\n\n    &::after {\n      bottom: 0;\n      content: '↔';\n      cursor: col-resize;\n      font-size: 20px;\n      height: 20px;\n      line-height: 18px;\n      position: absolute;\n      right: 0;\n      width: 22px;\n      z-index: 1;\n    }\n  }\n\n  .ui.popup.popup-local {\n    display: flex;\n    flex: 1 1 100%;\n    max-width: 300px;\n  }\n\n  .warnOverlay {\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: -0.25rem;\n    z-index: 202;\n\n    article p:first-child {\n      padding-top: 1rem;\n    }\n\n    .ui--Button-Group {\n      margin-bottom: 0;\n    }\n  }\n"],["\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  position: relative;\n\n  article {\n    p:last-child {\n      margin-bottom: 0;\n    }\n  }\n\n  .js--Selection {\n    margin-bottom: 1rem;\n  }\n\n  .js--Content {\n    align-content: stretch;\n    align-items: stretch;\n    display: flex;\n    height: 100%;\n    justify-content: space-between;\n    margin-bottom: 0;\n  }\n\n  .js--Dropdown {\n    position: relative;\n    z-index: 200;\n\n    .dropdown .menu > .item {\n      display: flex;\n      flex-direction: row-reverse;\n      justify-content: space-between;\n    }\n  }\n\n  .js--Editor,\n  .js--Output {\n    min-width: 200px;\n\n    .action-button {\n      margin: 0;\n      position: absolute;\n      right: 0.5rem;\n      top: 0.5rem;\n      z-index: 100;\n    }\n  }\n\n  .js--Editor {\n    flex-grow: 1;\n    overflow: auto;\n    padding: 0;\n    position: relative;\n    resize: horizontal;\n    width: 60%;\n\n    textarea {\n      outline: 0;\n    }\n\n    .codeflask {\n      background: transparent;\n    }\n\n    .codeflask--has-line-numbers {\n      z-index: 0;\n    }\n\n    .codeflask--has-line-numbers .codeflask__flatten {\n      font-size: 12px;\n      line-height: 18px;\n      min-width: calc(100% - 40px);\n      padding-top: 50px;\n      width: auto;\n    }\n\n    .codeflask__lines {\n      background: #f2f2f2;\n      line-height: 18px;\n      padding-top: 50px;\n      z-index: 100;\n    }\n\n    &::after {\n      bottom: 0;\n      content: '↔';\n      cursor: col-resize;\n      font-size: 20px;\n      height: 20px;\n      line-height: 18px;\n      position: absolute;\n      right: 0;\n      width: 22px;\n      z-index: 1;\n    }\n  }\n\n  .ui.popup.popup-local {\n    display: flex;\n    flex: 1 1 100%;\n    max-width: 300px;\n  }\n\n  .warnOverlay {\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: -0.25rem;\n    z-index: 202;\n\n    article p:first-child {\n      padding-top: 1rem;\n    }\n\n    .ui--Button-Group {\n      margin-bottom: 0;\n    }\n  }\n"])));const V=a.memo((function(e){var n=e.basePath,t=e.className,h=void 0===t?"":t,m=p().t,v=(0,o.h)(),g=(0,a.useRef)(null),j=(0,a.useState)(""),w=j[0],C=j[1],k=(0,a.useState)(!1),N=k[0],O=k[1],A=(0,a.useState)(!1),P=A[0],I=A[1],E=(0,i.O)(!0),V=E[0],L=E[1],H=(0,a.useState)([]),q=H[0],_=H[1],W=(0,a.useState)([]),G=W[0],Z=W[1],U=(0,a.useState)([]),J=U[0],Q=U[1],Y=(0,a.useState)(F[0]),K=Y[0],X=Y[1],$=(0,a.useRef)([{isRoot:!0,name:"playground",text:m("Console")}]);(0,a.useEffect)((function(){B||(F.forEach((function(e){var n,t;e.code="".concat((n=v.isDevelopment,t="api, hashing, ".concat(n?"keyring, ":"","types, util"),"// All code is wrapped within an async closure,\n// allowing access to ".concat(t,".\n// (async ({ ").concat(t," }) => {\n//   ... any user code is executed here ...\n// })();\n\n"))).concat(e.code)})),B=!0);var e={examples:localStorage.getItem(x),selectedValue:localStorage.getItem(b)},n=e.examples?JSON.parse(e.examples):[],t=T(T([],n,!0),F,!0),r=t.find((function(n){return n.value===e.selectedValue}));_(n),O(r&&"custom"===r.type||!1),Q(t),X(r||F[0])}),[]),(0,a.useEffect)((function(){C(K.code)}),[K]);var ee=(0,a.useCallback)((function(){return Z([])}),[]),ne=(0,a.useCallback)((function(e,n){G.push({args:n,type:e}),Z(G.slice(0))}),[G]),te=(0,a.useCallback)((function(){g.current&&(g.current.api.disconnect().catch(console.error),g.current=null),I(!1)}),[]),re=(0,a.useCallback)((function(){(function(){return e=this,n=void 0,r=function(){var e;return function(e,n){var t,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=n.call(e,o)}catch(e){i=[6,e],r=0}finally{t=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(n){switch(n.label){case 0:return I(!0),ee(),g.current=function(e,n,t){var r=e.api,a=e.isDevelopment;return M(M({},Object.keys(window).filter((function(e){return!e.includes("-")&&!z.includes(e)})).reduce((function(e,n){return e[n]=null,e}),M({},D))),{api:r.clone(),console:{error:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t("error",e)},log:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t("log",e)}},hashing:d,keyring:a?c.ZP.keyring:null,setIsRunning:n,types:l,uiKeyring:a?c.ZP:null,util:u})}(v,I,ne),[4,g.current.api.isReady];case 1:n.sent();try{e="(async ({".concat(Object.keys(g.current).sort().join(","),"}) => { try { ").concat(w," \n } catch (error) { console.error(error); setIsRunning(false); } })(injected);"),new Function("injected",e).bind({},g.current)()}catch(e){g.current.console.error(e)}return I(!1),[2]}}))},new((t=void 0)||(t=Promise))((function(a,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function i(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,i)}l((r=r.apply(e,n||[])).next())}));var e,n,t,r})().catch(console.error)}),[ee,ne,v,w]),ae=(0,a.useCallback)((function(e){if(te(),e.length){var n=J.find((function(n){return n.value===e}));n&&(localStorage.setItem(b,e),ee(),O("custom"===n.type),X(n))}}),[ee,te,J]),se=(0,a.useCallback)((function(){var e=q.filter((function(e){return e.value!==K.value})),n=T(T([],e,!0),F,!0);_(e),O("custom"===n[0].type),Q(n),ae(n[0].value),localStorage.setItem(x,JSON.stringify(e))}),[ae,q,K.value]),oe=(0,a.useCallback)((function(e){var n={code:w,label:y,text:e,type:"custom",value:"custom-".concat(Date.now())},t=T(T([n],q,!0),F,!0);localStorage.setItem(x,JSON.stringify(T([n],q,!0))),_(T([n],q,!0)),O(!0),Q(t),X(n)}),[w,q]),ie="custom"===K.type?K.text:void 0;return(0,r.jsxs)(R,M({className:"".concat(h," js--App")},{children:[(0,r.jsx)(s.mQ,{basePath:n,items:$.current}),(0,r.jsx)("section",M({className:"js--Selection"},{children:(0,r.jsx)(s.Lt,{className:"js--Dropdown",isFull:!0,label:m("Select example"),onChange:ae,options:J,value:K.value})})),(0,r.jsxs)("section",M({className:"js--Content"},{children:[(0,r.jsxs)("article",M({className:"container js--Editor"},{children:[(0,r.jsx)(f,{isCustomExample:N,isRunning:P,removeSnippet:se,runJs:re,saveSnippet:oe,snippetName:ie,stopJs:te}),(0,r.jsx)(s.ML,{code:w,onEdit:C})]})),(0,r.jsx)(S,M({className:"js--Output",logs:G},{children:(0,r.jsx)(s.zx,{className:"action-button",icon:"eraser",onClick:ee})}))]})),V&&(0,r.jsx)("div",M({className:"warnOverlay"},{children:(0,r.jsxs)("article",M({className:"warning centered"},{children:[(0,r.jsx)("p",{children:m("This is a developer tool that allows you to execute selected snippets in a limited context.")}),(0,r.jsx)("p",{children:m("Never execute JS snippets from untrusted sources.")}),(0,r.jsx)("p",{children:m("Unless you are a developer with insight into what the specific script does to your environment (based on reading the code being executed) generally the advice would be to not use this environment.")}),(0,r.jsx)(s.zx.Group,{children:(0,r.jsx)(s.zx,{icon:"times",label:m("Close"),onClick:L})})]}))}))]}))}));var L,H=function(){return H=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},H.apply(this,arguments)};const q=a.memo((function(e){return(0,r.jsx)(V,H({},e))}))}}]);